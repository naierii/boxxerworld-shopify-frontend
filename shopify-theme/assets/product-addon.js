document.querySelectorAll(".product-addon-group").forEach((function(t){var e=t.querySelectorAll("[data-addon-product]"),r=t.dataset.form,a=t.dataset.parentProduct,n=document.querySelector("form#".concat(r)).querySelector(".addon-hidden"),o=(new Date).getTime();if(!n.querySelector("input#product-property-".concat(a))){var c=document.createElement("INPUT");c.setAttribute("type","hidden"),c.setAttribute("name","[properties][_parent]"),c.setAttribute("value","".concat(a,"-").concat(o)),c.setAttribute("form",r),c.setAttribute("id","product-property-".concat(a)),n.append(c)}if(!n.querySelector("input#product-parent-property-".concat(a))){var d=document.createElement("INPUT");d.setAttribute("type","hidden"),d.setAttribute("name","[properties][_is_parent]"),d.setAttribute("value",!0),d.setAttribute("form",r),d.setAttribute("id","product-parent-property-".concat(a)),n.append(d)}e.forEach((function(t){var e=t.dataset.addonProduct,c=t.dataset.addonIndex;t.addEventListener("input",(function(t){var d=n.querySelector("input#addon-".concat(e)),u=n.querySelector("input#addon-property-".concat(e));if(t.target.value.length>0&&!d){var i=document.createElement("INPUT");i.setAttribute("type","hidden"),i.setAttribute("name","items[".concat(c,"][id]")),i.setAttribute("value",e),i.setAttribute("form",r),i.setAttribute("id","addon-".concat(e)),n.append(i);var p=document.createElement("INPUT");p.setAttribute("type","hidden"),p.setAttribute("name","items[".concat(c,"][properties][_parent]")),p.setAttribute("value","".concat(a,"-").concat(o)),p.setAttribute("form",r),p.setAttribute("id","addon-property-".concat(e)),n.append(p)}else 0===t.target.value.length&&(d.remove(),u.remove())}))}))}));