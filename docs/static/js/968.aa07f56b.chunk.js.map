{"version":3,"file":"static/js/968.aa07f56b.chunk.js","mappings":"6NACA,QAAuB,2BAAvB,EAA6D,+B,aCS7D,MAeA,EAfqBA,IAAoE,IAAnE,UAAEC,EAAS,SAAEC,EAAQ,SAAEC,KAAaC,GAAyBJ,EACjF,MAAMK,EAAgBC,IACpBC,EACA,CACE,CAACA,GAAkBL,GAErBD,GAEF,OACEO,EAAAA,EAAAA,KAAA,UAAQP,UAAWI,KAAmBD,EAAID,SACvCA,GACM,E,cClBN,MCDMM,EAAgBC,IAC3B,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,GAC/BC,GAAYC,EAAAA,EAAAA,QAA2B,MAW7C,OATAC,EAAAA,EAAAA,YAAU,KACHL,IACHG,EAAUG,QAAUC,SAASC,eAAeT,GACxCI,EAAUG,SACZL,GAAU,GAEd,GACC,CAACF,EAAIC,IAEDA,EAASG,EAAUG,QAAU,IAAI,E,cCd1C,QAAuB,yBCgCvB,EArBmBjB,IAAqC,IAApC,UAAEC,GAA4BD,EAChD,MAAMK,EAAgBC,IAAGC,EAAaN,GAChCmB,GAAmBC,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMF,mBACvDG,GAAWF,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMC,WAC/CT,EAAYL,EAAa,wBAE/B,OAAKK,EAIEU,EAAAA,cACLC,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACC,QAASA,IAAMP,IAAmBjB,SAAC,YAC3CK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QAASA,IAAMJ,IAAWpB,SAAC,YAIlDW,GAVO,IAWR,EC7BH,EAAgC,kCAAhC,EAAmF,mCCU7Ee,EAAgB7B,IAAqC,IAAD8B,EAAAC,EAAA,IAAnC,OAAEC,GAA4BhC,EACnD,MAAMiC,GAAiBZ,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMW,iBACrDC,GAAmBb,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMY,mBAE7D,IAAKF,EACH,OAAO,KAGT,MAAMG,EAAkE,QAAvDL,EAAGG,EAAeG,MAAMC,GAAMA,EAAEC,WAAaN,EAAOtB,YAAG,IAAAoB,OAAA,EAApDA,EAAsDS,MAE1E,OACE/B,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEsB,EAAAA,EAAAA,MAACgB,EAAAA,EAAOC,IAAG,CACTzC,UAAWM,EACXoC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GAAIzC,SAAA,EAErBK,EAAAA,EAAAA,KAAA,MAAAL,SAAK6B,EAAOe,QACZvC,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAsBJ,SACtB,QADsB4B,EACnCC,EAAOgB,cAAM,IAAAjB,OAAA,EAAbA,EAAekB,KAAKZ,IAAC,IAAAa,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACpB9C,EAAAA,EAAAA,KAAC+C,EAAY,CAEXrD,UAAqB,OAAXiC,QAAW,IAAXA,OAAW,EAAXA,EAAazB,OAAQ,OAAD2B,QAAC,IAADA,GAAQ,QAAPa,EAADb,EAAGE,aAAK,IAAAW,GAAM,QAANC,EAARD,EAAUM,YAAI,IAAAL,OAAb,EAADA,EAAgBzC,IAC9CiB,QAASA,KAAA,IAAA8B,EAAA,OAAMvB,EAAiBF,EAAOtB,GAAK,OAAD2B,QAAC,IAADA,GAAQ,QAAPoB,EAADpB,EAAGE,aAAK,IAAAkB,OAAP,EAADA,EAAUD,KAAK,EAACrD,SAEzD,OAADkC,QAAC,IAADA,GAAQ,QAAPe,EAADf,EAAGE,aAAK,IAAAa,GAAM,QAANC,EAARD,EAAUI,YAAI,IAAAH,GAAY,QAAZC,EAAdD,EAAgBK,kBAAU,IAAAJ,OAAzB,EAADA,EAA4BP,MAJvB,OAADV,QAAC,IAADA,OAAC,EAADA,EAAG3B,GAKK,UAIpB,EAmBP,EAfmBiD,KACjB,MAAMC,GAAiBvC,EAAAA,EAAAA,IACpBC,IAAK,IAAAuC,EAAAC,EAAA,OAAwB,QAAxBD,EAAKvC,EAAMyC,qBAAa,IAAAF,GAAY,QAAZC,EAAnBD,EAAqBH,kBAAU,IAAAI,OAAZ,EAAnBA,EAAiCE,OAAO,IAGrD,OACEvC,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,CACiB,OAAdyD,QAAc,IAAdA,OAAc,EAAdA,EAAgBX,KAAKgB,IACpBzD,EAAAA,EAAAA,KAACqB,EAAa,CAAaG,OAAQiC,GAAd,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGvD,OAEzBF,EAAAA,EAAAA,KAAC0D,EAAU,MACV,EC3BQ,SAASC,EAAWC,GACjC,OA5BF,SAAmBA,GACjB,IAAKA,EAAS,OAAO,KAErB,MAAMC,EAAMC,OAAOC,QAAQH,GACxBnB,KAAKuB,GACGA,EAAE,GACL,CACEC,MAAOD,EAAE,GAAGC,MACZC,IAAKF,EAAE,GAAGE,KAEZ,OAELC,QAAQC,GAAWA,IAEtB,OAAQP,EAAIQ,OAERR,EACGS,MAAK,CAACC,EAAGC,IACH,OAADD,QAAC,IAADA,GAAAA,EAAGN,OAAU,OAADO,QAAC,IAADA,GAAAA,EAAGP,OAASM,EAAEN,MAAQO,EAAEP,OAAe,EAClD,OAADM,QAAC,IAADA,GAAAA,EAAGN,OAAU,OAADO,QAAC,IAADA,GAAAA,EAAGP,OAASM,EAAEN,MAAQO,EAAEP,MAAc,EAC/C,IAERQ,QAAO,CAACC,EAAUjE,EAAckE,EAAeC,IACvCF,EAAG,GAAAG,OAAMpE,EAAQyD,IAAG,KAAAW,OAAIpE,EAAQwD,MAAK,KAAAY,OAAIF,EAAQC,EAAMP,OAAS,EAAI,KAAO,KACjF,IATL,IAUN,CAGSS,CAAUlB,EACnB,CC/BA,QAAuB,oBCuCvB,EA3BcpE,IAA8C,IAADuF,EAAA,IAA5C,UAAEtF,EAAS,MAAEuF,EAAK,MAAEC,GAAmBzF,EACpD,MAAMK,EAAgBC,IAAGC,EAAaN,GAEtC,IAAKuF,EACH,OAAO,KAGT,MAAME,GAAiBC,EAAAA,EAAAA,UAAQ,KAAO,IAADC,EAAAC,EACnC,OAAoB,QAAhBD,EAAAJ,EAAM9B,kBAAU,IAAAkC,GAAhBA,EAAkBE,QAA0B,QAApBD,EAAIL,EAAM9B,kBAAU,IAAAmC,GAAhBA,EAAkBpB,MACxCe,EAAM9B,WAAWoC,OAASN,EAAM9B,WAAWe,MAAS,IAEvD,GAAG,GACT,CAACe,IAEEO,EAAQ,CAAE,sBAAsB,GAADV,OAAKK,EAAc,MAElDM,GAASL,EAAAA,EAAAA,UAAQ,SAAAM,EAAA,OAAM9B,EAA2B,QAAjB8B,EAACT,EAAM9B,kBAAU,IAAAuC,OAAA,EAAhBA,EAAkB7B,QAAQ,GAAE,CAACoB,IAErE,OACEhF,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,EAAe0F,MAAOA,EAAM5F,SACzC6F,IACCxF,EAAAA,EAAAA,KAAA,OAAK0F,IAAqB,QAAlBX,EAAEC,EAAM9B,kBAAU,IAAA6B,OAAA,EAAhBA,EAAkBb,IAAKsB,OAAQA,EAAQP,MAAOA,GAAgB,WAEtE,ECnCV,GAAgB,MAAQ,wBAAwB,KAAO,uBAAuB,SAAW,2BAA2B,cAAgB,iCCUvHU,EAAiBnG,IAA+C,IAA9C,SAAEoG,EAAQ,MAAEC,GAA4BrG,EACrE,MAAM,QAAEsG,EAAO,WAAEC,IAAelF,EAAAA,EAAAA,IAAoBC,GAAUA,IAe9D,OACEd,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAO8F,MAAMlG,SACrB,OAALkG,QAAK,IAALA,OAAK,EAALA,EAAOpD,KAAKuB,IAAC,IAAAgC,EAAA,OACZhG,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAOkG,KAAiB9E,QAASA,KAAM+E,OAhBvCD,EAgBoDjC,OAf5D,OAAR4B,QAAQ,IAARA,GAAAA,EAAUO,IACZJ,EAAWH,EAASO,IAAK,CACvBF,KAAMA,EACNG,MAAM,IAGRN,EAAQ,CACNG,KAAMA,KARUA,KAgBuD,EAAAtG,UACrEK,EAAAA,EAAAA,KAACqG,EAAK,CAACrB,MAAmB,QAAdgB,EAAEhC,EAAEd,kBAAU,IAAA8C,OAAA,EAAZA,EAAchB,MAAMhC,QADFgB,EAAE9D,GAE9B,KAEJ,E,cCjCV,SAAgB,KAAO,6BAA6B,aAAe,qCAAqC,YAAc,oCAAoC,OAAS,+BAA+B,MAAQ,+BC2G1M,EAzFuBV,IAOK,IAAD8G,EAAA,IAPH,UACtB7G,EAAS,MACT8G,EAAQ,EAAC,SACTC,EAAW,EAAC,OACZC,EAAM,QACNC,EAAO,SACPC,GACoBnH,EACpB,MAAMc,EAAYL,EAAa,4BAE/B,IAAKK,EACH,OAAO,KAGT,MAAMsG,EAAsB9G,IAAGC,EAAO8G,KAAMpH,EAAWM,EAAO+G,cACxDC,EAAoBjH,IAAGC,EAAO8G,KAAMpH,EAAWM,EAAOiH,aAItDC,EAAO,IADuB,QAAjBX,EAAS,OAANG,QAAM,IAANA,OAAM,EAANA,EAAQpC,cAAM,IAAAiC,EAAAA,EAAI,IACI,GACtCY,EAvBMC,EAACC,EAAeC,EAAcJ,IAC1CK,MAAMC,KAAK,CAAElD,QAASgD,EAAOD,GAASH,EAAO,IAAK,CAACO,EAAO7C,IAAUyC,EAAQzC,EAAQsC,IAsBtEE,CAJF,EACA,EAGkBF,GAExBQ,EAAwB,OAANhB,QAAM,IAANA,OAAM,EAANA,EAAQhE,KAAI,CAACiF,EAAGC,KAAC,IACpCD,EACHE,QAASC,OAAOX,EAAMS,GAAGG,QAAQ,QAQnC,OAAOC,EAAAA,EAAAA,eACL9G,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWmH,EAAoBjH,SAAA,EAClCK,EAAAA,EAAAA,KAACgI,EAAAA,EAAW,CACVvI,UAAWM,EAAOkI,OAClBC,eAAgBnI,EAAOoI,MACvBC,eAAgBrI,EAAOsI,MACvBC,cAAevI,EAAOwI,KACtBC,IAAK,EACLC,IAAK,IACLC,aAAc,EACdlB,MAAOhB,EACPmC,SAAUhC,EACViC,WAAaC,IAEPA,EAAM1C,KAAO0C,EAAM1C,IAAMI,EAC3BsC,EAAMpJ,UAAY,mBAEToJ,EAAM1C,KAAO0C,EAAM1C,MAAQI,IACpCsC,EAAMpJ,UAAY,qBAEbO,EAAAA,EAAAA,KAAA,WAAU6I,QAGrB7I,EAAAA,EAAAA,KAAA,MAAAL,SAAI,eAENsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWsH,EAAkBpH,SAAA,EAChCK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,UACJK,EAAAA,EAAAA,KAACgI,EAAAA,EAAW,CACVvI,UAAWM,EAAOwG,MAClB2B,eAAgBnI,EAAOoI,MACvBC,eAAgBrI,EAAOsI,MACvBC,cAAevI,EAAOwI,KACtBrB,MAAOA,EACPD,KAAMA,EACNuB,IAnDI,EAoDJC,IAnDI,EAoDJC,aArDI,EAsDJlB,MAAOjB,EACPuC,YAAY,WACZC,QAAQ,EACRJ,SA9CUnB,IAChB,MAAMwB,EAAuB,OAAfvB,QAAe,IAAfA,OAAe,EAAfA,EAAiB7F,MAAM8F,GAAMA,EAAEE,UAAYJ,IACrDd,GAASA,EAAQc,EAAOwB,EAAM,EA6C5BJ,WAAaC,IACPA,EAAM1C,KAAO0C,EAAM1C,IAAMI,EAC3BsC,EAAMpJ,UAAY,mBACToJ,EAAM1C,KAAO0C,EAAM1C,MAAQI,IACpCsC,EAAMpJ,UAAY,qBAEbO,EAAAA,EAAAA,KAAA,WAAU6I,aAKzBvI,EACD,ECxGH,EAAuB,6BC+BvB,EAnBuBd,IAA4D,IAA3D,UAAEC,EAAS,SAAEwJ,EAAQ,QAAEC,GAA8B1J,EAC3E,MAAMK,EAAgBC,IAAGC,EAAaN,GAChCa,EAAYL,EAAa,wBAE/B,OAAKK,EAIEU,EAAAA,cACLC,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACC,QAAS+H,EAAQvJ,SAAC,YAC1BK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QAAS+H,EAASD,SAAUA,EAAStJ,SAAC,YAI7DW,GAVO,IAWR,EC5BH,EAAuB,4BC4BvB,EAnBsBd,IAA0D,IAAzD,UAAEC,EAAS,OAAE0J,EAAM,SAAEC,GAA8B5J,EACxE,MAAMK,EAAgBC,IAAGC,EAAaN,GACtC,OACEwB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAAA,UAAQmB,QAASgI,EAAOxJ,UACtBK,EAAAA,EAAAA,KAAA,OAAKqJ,MAAM,6BAA6BC,QAAQ,oBAAmB3J,UACjEK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,4LAGZvJ,EAAAA,EAAAA,KAAA,UAAQmB,QAASiI,EAASzJ,UACxBsB,EAAAA,EAAAA,MAAA,OAAKoI,MAAM,6BAA6BC,QAAQ,oBAAmB3J,SAAA,EACjEK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,oGACRvJ,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,2GAGR,ECbGC,EAAehK,IAAmE,IAADiK,EAAAC,EAAA,IAAjE,KAAEzD,EAAM0D,gBAAiBC,GAAmCpK,EACvF,MAAM,WAAEuG,EAAU,WAAE8D,IAAehJ,EAAAA,EAAAA,IAAoBC,GAAUA,IAejE,OACEG,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAO+J,SAASnK,SAAA,EAC9BK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAOgK,cAAcpK,UACnCK,EAAAA,EAAAA,KAACqG,EAAK,CAACrB,MAAgB,QAAXyE,EAAExD,EAAKA,YAAI,IAAAwD,GAAY,QAAZC,EAATD,EAAWvG,kBAAU,IAAAwG,OAAZ,EAATA,EAAuB1E,MAAMhC,UAE7ChD,EAAAA,EAAAA,KAACgK,EAAa,CAACb,OAlBFc,KACXhE,EAAKE,KACPJ,EAAWE,EAAKE,IAAK,CAAEC,MAAM,IAE/BwD,GAAe,EAAK,EAceR,SAXlBc,KACbjE,EAAKE,KACP0D,EAAW5D,EAAKE,IAClB,MASM,E,wBCrBV,MAuFA,EAvFiBgE,KACf,MAAMtE,GAAQhF,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+E,QAC5CE,GAAalF,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMiF,aACjDH,EAAgB,OAALC,QAAK,IAALA,OAAK,EAALA,EAAOjE,MAAMwI,GAAMA,EAAEhE,QAE/BiE,EAAcV,IAAmBtJ,EAAAA,EAAAA,WAAS,IAEzC2C,KAAMsH,IAAcC,EAAAA,EAAAA,IAC1BC,EAAAA,GACA,CACEC,WAAY,CAAEC,MAAO,MAEvB,CACEC,OAAS3H,IAAI,IAAA4H,EAAAC,EAAA,MAAM,CAAEhF,MAAiB,QAAZ+E,EAAE5H,EAAK6C,aAAK,IAAA+E,OAAA,EAAVA,EAAY5H,KAAMyD,OAA0B,QAApBoE,EAAE7H,EAAK8H,qBAAa,IAAAD,OAAA,EAAlBA,EAAoB7H,KAAM,IA0CpF,OACEhD,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,SACG0K,GACCpJ,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAC+K,EAAc,CACbxE,MAAe,OAARX,QAAQ,IAARA,OAAQ,EAARA,EAAUoF,WACjBxE,SAAkB,OAARZ,QAAQ,IAARA,OAAQ,EAARA,EAAUqF,cACpBvE,QAzCOwE,CAACC,EAAenC,KAAgC,IAADoC,EAAAC,EAC9D,MAAMC,EACC,OAALtC,QAAK,IAALA,GAAiB,QAAZoC,EAALpC,EAAO9F,kBAAU,IAAAkI,GAAjBA,EAAmBG,MAAa,OAALvC,QAAK,IAALA,GAAiB,QAAZqC,EAALrC,EAAO9F,kBAAU,IAAAmI,GAAjBA,EAAmBG,UAC1C,CACED,KAAMvC,EAAM9F,WAAWqI,KACvBC,UAAW,IACNxC,EAAM9F,WAAWsI,UACpBC,SAAU,IAGd,CAAC,EAEK,OAAR7F,QAAQ,IAARA,GAAAA,EAAUO,KACZJ,EAAWH,EAASO,IAAK,CAAE6E,WAAYnD,OAAOsD,MAAWG,GAC3D,EA4BQ3E,SAzBWwE,KACnBO,EAAAA,EAAAA,kBAAgB,KACF,OAAR9F,QAAQ,IAARA,GAAAA,EAAUO,KAAKJ,EAAWH,EAASO,IAAK,CAAE8E,cAAepD,OAAOsD,IAAS,GAC7E,EAuBM1E,OAAiB,OAAT6D,QAAS,IAATA,OAAS,EAATA,EAAW7D,UAEX,OAAT6D,QAAS,IAATA,OAAS,EAATA,EAAWzE,SAAS7F,EAAAA,EAAAA,KAAC2F,EAAc,CAACC,SAAUA,EAAUC,MAAOyE,EAAUzE,SAC1E7F,EAAAA,EAAAA,KAAC2L,EAAc,CAAC1C,UAAWrD,EAAUsD,QAvB3B0C,KACJ,OAARhG,QAAQ,IAARA,GAAAA,EAAUO,KACZJ,EAAWH,EAASO,IAAK,CACvB0F,aAAa,EACbzF,MAAM,IAIVuD,GAAgB,EAAM,QAkBlB1I,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAO+L,gBAAgBnM,SAAA,EACrCK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,eACE,OAALkG,QAAK,IAALA,OAAK,EAALA,EAAOpD,KAAKwD,IACXjG,EAAAA,EAAAA,KAACwJ,EAAY,CAAgBvD,KAAMA,EAAM0D,gBAAiBA,GAAvC1D,EAAKE,QAE1BnG,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QA3Df2E,KACd6D,GAAgB,EAAK,EA0DyBhK,SAAC,iBAIzCK,EAAAA,EAAAA,KAAC0D,EAAU,QAGd,EC/FP,EAAuB,wBAAvB,EAAoF,uBAApF,EAAmH,yBAAnH,EAA2J,gCAA3J,EAAuM,6BCAvM,EAAwB,0BAAxB,EAAqE,qCAArE,EAA2H,mCAA3H,EAA8K,kCAA9K,EAA8N,gCAA9N,EAAiR,qCAAjR,EAAwU,oCAAxU,EAA+X,qCAA/X,EAAmb,iCAAnb,EAA+d,6BCyF/d,EAhFmBlE,IAAuB,IAAtB,MAAEuM,GAAcvM,EAClC,MAAMc,EAAYL,EAAa,mBACxB+L,EAAYC,IAAiB5L,EAAAA,EAAAA,WAAkB,GAEtD,OAAKC,GAGHW,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAiBoB,QAASA,IAAM8K,GAAc,GAAMtM,SAAC,MAGpEqM,IACCjE,EAAAA,EAAAA,eACE/H,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAaJ,SAAA,EAC3BK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAyBoB,QAASA,IAAM8K,GAAc,MACtEhL,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAsBJ,SAAA,EACpCsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAqBJ,SAAA,EACnCK,EAAAA,EAAAA,KAAA,QAAMP,UAAWM,EAAoBJ,SAAE,GAAAkF,OAAGkH,EAAK,cAAe,KAC9D/L,EAAAA,EAAAA,KAAA,QAAMP,UAAWM,EAAwBoB,QAASA,IAAM8K,GAAc,GAAOtM,SAAC,UAIhFsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAmBJ,SAAA,EACjCK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,aACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,qHACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,gBACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,6HACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,mBACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,2HACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,uIACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,iBACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,yHACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,oIACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,aACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,wHACJwG,IAAI,MAENlM,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAwBJ,SAAC,gBACzCK,EAAAA,EAAAA,KAAA,OACEP,UAAWM,EACX2F,IAAI,4HACJwG,IAAI,gBAMd5L,MAtEe,IAwElB,ECvCP,GAjCkBd,IAAkF,IAAjF,UAAEC,EAAS,OAAE0M,EAAM,OAAEC,EAAM,YAAEC,GAAc,EAAK,QAAElL,GAAyB3B,EAC5F,MAAMK,EAAgBC,IAAGC,EAAaN,GAChC6M,GAAczL,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMwL,cAExD,GAAIF,EACF,OAAO,KAGT,MAAMG,EAAwBzM,IAAGC,EAAqB,CACpD,CAACA,GAAmBsM,IAGtB,OACErM,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEK,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,EAAesB,QAASA,EAAQxB,UAC9CsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,EAAWJ,SAAA,EACzBK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,EAAaJ,SAAa,OAAX2M,QAAW,IAAXA,OAAW,EAAXA,EAAa/J,QAC5CvC,EAAAA,EAAAA,KAAA,OAAKP,UAAW8M,EAAsB5M,UACpCK,EAAAA,EAAAA,KAAA,OAAKsJ,QAAQ,cAAa3J,UACxBK,EAAAA,EAAAA,KAAA,QACEqJ,MAAM,6BACNnJ,GAAG,aACHqJ,EAAE,uVAIRvJ,EAAAA,EAAAA,KAACwM,EAAU,CAACT,MAAkB,OAAXO,QAAW,IAAXA,OAAW,EAAXA,EAAa/J,aAGnC,EC1CP,IAAgB,SAAW,4BAA4B,MAAQ,yBAAyB,YAAc,+BAA+B,iBAAmB,qCCU3IkK,GAAiBjN,IAGF,IAADkN,EAAAC,EAAAC,EAAA,IAHI,QAC7BC,EACAlD,gBAAiBC,GACGpK,EACpB,MAAM,cAAEsN,EAAa,cAAEC,IAAkBlM,EAAAA,EAAAA,IAAoBC,GAAUA,IAevE,OACEG,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOiN,YAAYrN,SAAA,EACjCK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOkN,iBAAiBtN,UACtCK,EAAAA,EAAAA,KAACqG,EAAK,CAACrB,MAAsB,QAAjB0H,EAAEG,EAAQA,eAAO,IAAAH,GAAY,QAAZC,EAAfD,EAAiBxJ,kBAAU,IAAAyJ,GAAO,QAAPC,EAA3BD,EAA6B3H,aAAK,IAAA4H,OAAnB,EAAfA,EAAoC5J,UAEpDhD,EAAAA,EAAAA,KAACgK,EAAa,CAACb,OAlBFc,KACX4C,EAAQ1G,KACV2G,EAAcD,EAAQ1G,IAAK,CAAEC,MAAM,IAErCwD,GAAe,EAAK,EAceR,SAXlBc,KACb2C,EAAQ1G,KACV4G,EAAcF,EAAQ1G,IACxB,MASM,E,eCrBH,MAAM+G,GAAkB1N,IAA2C,IAA1C,WAAE2N,GAAkC3N,EAClE,MAAO4N,EAAQC,IAAahN,EAAAA,EAAAA,WAAS,IAE7BiN,OAAQC,IAA0BC,EAAAA,EAAAA,IAAyBhD,EAAAA,GAAe,CAChFiD,SAAAA,CAAUzK,GAAO,IAAD0K,EACd,MAAMb,EAA4B,QAArBa,EAAG1K,EAAK2K,qBAAa,IAAAD,OAAA,EAAlBA,EAAoB1K,KACpCqK,GAAU,GACNR,GAASM,EAAWN,EAC1B,KAGMS,OAAQM,IAAqBC,EAAAA,EAAAA,IAA+BrD,EAAAA,GAAe,CACjFiD,SAAAA,CAAUzK,GACR,MAAM8K,EAAU9K,EAAK+K,eAAetL,KAAKuB,IAAC,IAAAgK,EAAA,OAAM,OAADhK,QAAC,IAADA,GAAO,QAANgK,EAADhK,EAAGhB,YAAI,IAAAgL,OAAN,EAADA,EAAS9N,EAAE,IAC1DqN,EAAsB,CAAEvK,KAAM,CAAEgC,MAAO8I,EAAQ,GAAIG,UAAU,EAAM1L,KAAMuL,EAAQ,KACnF,IAGII,GAASC,EAAAA,EAAAA,cAAaC,IAC1Bf,GAAU,GACVO,EAAiB,CAAES,MAAOD,GAAgB,GACzC,KAEG,aAAEE,EAAY,cAAEC,EAAa,aAAEC,IAAiBC,EAAAA,GAAAA,IAAY,CAChEP,SACAQ,OAAQ,CACN,aAAc,GACd,YAAa,IAEfC,SAAU,EACVC,UAAU,IAGZ,OACE3N,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,qBACJsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO8O,YAAcP,IAAc3O,SAAA,EACjDK,EAAAA,EAAAA,KAAA,YAAWuO,OACXtN,EAAAA,EAAAA,MAAA,OAAAtB,SAAA,EACEK,EAAAA,EAAAA,KAAA,OAAKqJ,MAAM,6BAA6BC,QAAQ,oBAAmB3J,UACjEsB,EAAAA,EAAAA,MAAA,KAAAtB,SAAA,EACEK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,+FACRvJ,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,kCAGX6D,GACCpN,EAAAA,EAAAA,KAAA,MAAAL,SAAI,mBACF6O,GACFxO,EAAAA,EAAAA,KAAA,MAAAL,SAAI,0BAEJK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,gDAIT,ECvDMmP,GAAkBtP,IAAqD,IAADuP,EAAAC,EAAA,IAAnD,YAAEC,EAAW,QAAEpC,GAA+BrN,EAC5E,MAAO0P,EAAgBC,IAAqB9O,EAAAA,EAAAA,UAAsCwM,IAC5E,WAAEuC,EAAU,cAAEtC,IAAkBjM,EAAAA,EAAAA,IAAoBC,GAAUA,IAoBpE,OACEd,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOsP,SAAS1P,SAC7BuP,GACCjO,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAACqG,EAAK,CAAC5G,UAAWM,GAAOiF,MAAOA,MAAgC,QAA3B+J,EAAEG,EAAehM,kBAAU,IAAA6L,GAAO,QAAPC,EAAzBD,EAA2B/J,aAAK,IAAAgK,OAAP,EAAzBA,EAAkChM,QACzEhD,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACC,QAASA,IAAMgO,OAAkBG,GAAW3P,SAAC,qBAGvDK,EAAAA,EAAAA,KAACkN,GAAe,CAACC,WAbHN,IAClBsC,EAAkBtC,GAdKA,KACR,OAAXoC,QAAW,IAAXA,GAAAA,EAAa9I,IACf2G,EAAcmC,EAAY9I,IAAK,CAC7B0G,UACAzG,MAAM,IAGRgJ,EAAW,CACTvC,WAEJ,EAKA0C,CAAgB1C,EAAQ,KAalB,ECuDV,GAxFkB2C,KAChB,MAAOnF,EAAcV,IAAmBtJ,EAAAA,EAAAA,WAAS,GAC3CgP,GAAWxO,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMuO,WAC/CvC,GAAgBjM,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMgM,gBACpDmC,EAAsB,OAARI,QAAQ,IAARA,OAAQ,EAARA,EAAUzN,MAAMwI,GAAMA,EAAEhE,QAEpCpD,KAAMyM,IAAeC,EAAAA,EAAAA,IAC3BlF,EAAAA,GACA,CAAC,EACD,CACEG,OAAS3H,IAAI,IAAA6H,EAAA,MAAM,CAAEpE,OAA0B,QAApBoE,EAAE7H,EAAK8H,qBAAa,IAAAD,OAAA,EAAlBA,EAAoB7H,KAAM,IA0C3D,OACEhD,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,SACG0K,GACCpJ,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAC+K,EAAc,CACbxE,MAAkB,OAAX0I,QAAW,IAAXA,OAAW,EAAXA,EAAajE,WACpBxE,SAAqB,OAAXyI,QAAW,IAAXA,OAAW,EAAXA,EAAahE,cACvBvE,QAzCOwE,CAACC,EAAenC,KAAgC,IAADoC,EAAAC,EAC9D,MAAMC,EACC,OAALtC,QAAK,IAALA,GAAiB,QAAZoC,EAALpC,EAAO9F,kBAAU,IAAAkI,GAAjBA,EAAmBG,MAAa,OAALvC,QAAK,IAALA,GAAiB,QAAZqC,EAALrC,EAAO9F,kBAAU,IAAAmI,GAAjBA,EAAmBG,UAC1C,CACED,KAAMvC,EAAM9F,WAAWqI,KACvBC,UAAW,IACNxC,EAAM9F,WAAWsI,UACpBC,SAAU,IAGd,CAAC,EAEQ,OAAXwD,QAAW,IAAXA,GAAAA,EAAa9I,KACf2G,EAAcmC,EAAY9I,IAAK,CAAE6E,WAAYnD,OAAOsD,MAAWG,GACjE,EA4BQ3E,SAzBWwE,KACnBO,EAAAA,EAAAA,kBAAgB,KACC,OAAXuD,QAAW,IAAXA,GAAAA,EAAa9I,KAAK2G,EAAcmC,EAAY9I,IAAK,CAAE8E,cAAepD,OAAOsD,IAAS,GACtF,EAuBM1E,OAAkB,OAAVgJ,QAAU,IAAVA,OAAU,EAAVA,EAAYhJ,UAEtBzG,EAAAA,EAAAA,KAAC8O,GAAe,CAACG,YAAaA,EAAapC,QAAoB,OAAXoC,QAAW,IAAXA,OAAW,EAAXA,EAAapC,WACjE7M,EAAAA,EAAAA,KAAC2L,EAAc,CAAC1C,UAAWgG,EAAa/F,QAvB7ByG,KACF,OAAXV,QAAW,IAAXA,GAAAA,EAAa9I,KACf2G,EAAcmC,EAAY9I,IAAK,CAC7B0F,aAAa,EACbzF,MAAM,IAIVuD,GAAgB,EAAM,QAkBlB1I,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO+L,gBAAgBnM,SAAA,EACrCK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,gBACK,OAAR0P,QAAQ,IAARA,OAAQ,EAARA,EAAU5M,KAAKoK,IACd7M,EAAAA,EAAAA,KAACyM,GAAc,CAEbI,QAASA,EACTlD,gBAAiBA,GAFZkD,EAAQ1G,QAKjBnG,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QA/DdyO,KACfjG,GAAgB,EAAK,EA8D0BhK,SAAC,kBAI1CK,EAAAA,EAAAA,KAAC0D,EAAU,QAGd,EChGP,GAAuB,yBAAvB,GAAyD,2BAAzD,GAAkG,gCAAlG,GAA6I,6BAA7I,GAAiL,yBAAjL,GAAyN,iCCsDzN,GA9CmBlE,IAAkC,IAAjC,OAAE2M,GAAyB3M,EAC7C,MAAMqQ,GAAWhP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+O,WAC/CC,GAAkBjP,EAAAA,EAAAA,IAAoBC,IAAK,IAAAiP,EAAA,OAAiB,QAAjBA,EAAKjP,EAAMkP,cAAM,IAAAD,OAAA,EAAZA,EAAcE,SAAS,IACvEC,GAAQrP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMqP,aAC5CtK,GAAQhF,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+E,QAC5CuK,GAAQvP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMsP,QAC5CC,GAAiBxP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMuP,iBAOrDC,EAAcC,GACA,YAAdA,EAAKC,SACS,SAAdD,EAAKC,OAAmBV,OACV,SAAdS,EAAKC,OAAmBN,EAAMtO,MAAM8F,GAAMA,EAAE+I,KAAKvQ,KAAOqQ,EAAKrQ,UAC/C,UAAdqQ,EAAKC,OAAoB3K,EAAMxB,YACjB,UAAdkM,EAAKC,OAAoBJ,EAAM/L,cAAnC,MAGF,OACErE,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAYJ,SACzBkQ,EAASpN,KAAK8N,IACbtP,EAAAA,EAAAA,MAAA,UACExB,UAAWM,GAEXoB,QAASA,KAAMuP,OAnBF/L,EAmBc4L,EAAK5L,MAAQ4L,EAAK5L,MAAQ,EAlB3DwH,SACAkE,EAAe1L,GAFIA,KAmB2C,EAAAhF,SAAA,EAExDsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAmBJ,SAAA,EACjCK,EAAAA,EAAAA,KAAA,MAAAL,SAAK4Q,EAAKhO,OACTgO,EAAKI,WAAY3Q,EAAAA,EAAAA,KAAA,QAAMP,UAAWM,GAAgBJ,SAAC,iBAEtDK,EAAAA,EAAAA,KAAA,OACEP,UAAWK,IAAGC,GAAa,CAAE,CAACA,IAAsBuQ,EAAWC,KAC/DlH,MAAM,6BACNC,QAAQ,oBAAmB3J,UAE3BK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,+EAZLgH,EAAK5L,UAgBV,EClDV,IAAgB,WAAa,+BAA+B,mBAAqB,uCAAuC,SAAW,6BAA6B,MAAQ,2BC6BxK,GAnBmBnF,IAMK,IANJ,UAClBC,EAAS,SACTE,EAAQ,SACRD,GAAW,EAAK,MAChBkR,EAAQ,SACLhR,GACaJ,EAChB,MAAMK,EAAgBC,IACpBC,GAAO8Q,WACP,CAAE,CAAC9Q,GAAO+Q,oBAAqBpR,EAAU,CAACK,GAAO6Q,IAASA,GAC1DnR,GAEF,OACEO,EAAAA,EAAAA,KAAA,UAAQP,UAAWI,KAAmBD,EAAID,SACvCA,GACM,ECzBb,IAAgB,KAAO,4BAA4B,aAAe,oCAAoC,aAAe,oCAAoC,oBAAsB,2CAA2C,UAAY,kC,0DCWtO,MACMoR,GAAuBnM,IAAgCoM,EAAAA,GAAAA,QAAOpM,EAAO,MAqBrEqM,GAA0C,CAC9CC,aAAc,GACdC,cAAe,GACfC,UAAW,IAGPC,GAA2FA,CAC/FC,EACAC,KAAG,IAEAN,GACHO,kBAAmBA,KACjB,MAAMJ,EAAYG,IAAMH,UAClBK,EAAcF,IAAMG,oBAI1B,OAH0BN,EAAUjN,QAAQtC,IAAC,IAAA8P,EAAAC,EAAA,OAC/B,QAD+BD,EAC3C9P,EAAEqB,kBAAU,IAAAyO,GAAc,QAAdC,EAAZD,EAAcT,oBAAY,IAAAU,OAAd,EAAZA,EAA4B5O,KAAKpB,MAAMwI,GAAMA,EAAElK,MAAkB,OAAXuR,QAAW,IAAXA,OAAW,EAAXA,EAAavR,KAAG,GAEhD,EAE1B2R,mBAAoBA,IAAMP,EAAIL,IAC9Ba,aAAcA,CACZV,EACAW,EACAN,KAEAH,GACEU,EAAAA,GAAAA,KAASlR,IACP,MAAMoQ,EAAeE,EAAUa,SAC5B1I,IAAC,IAAA2I,EAAAC,EAAA,OAAiB,QAAjBD,EAAK3I,EAAErG,kBAAU,IAAAgP,GAAc,QAAdC,EAAZD,EAAchB,oBAAY,IAAAiB,OAAd,EAAZA,EAA4BnP,IAAI,IAlDrB4B,MAoDpB9D,EAAMoQ,cApDctM,EAoDoBsM,GApDmBF,EAAAA,GAAAA,QAAOpM,EAAO,OAsDvE9D,EAAM4Q,oBADJD,GAG0B3Q,EAAMoQ,aAAa,GAGjD,MAAMC,EAAgBC,EACnBjN,QAAQtC,IAAC,IAAAuQ,EAAAC,EAAA,OACI,QADJD,EACRvQ,EAAEqB,kBAAU,IAAAkP,GAAc,QAAdC,EAAZD,EAAclB,oBAAY,IAAAmB,OAAd,EAAZA,EAA4BrP,KAAKpB,MAAMwI,IAAC,IAAAkI,EAAA,OAAKlI,EAAElK,MAAgC,QAA9BoS,EAAKxR,EAAM4Q,2BAAmB,IAAAY,OAAA,EAAzBA,EAA2BpS,GAAG,OAErFuC,KAAKZ,IAAC,IAAA0Q,EAAAC,EAAA,OAAiB,QAAjBD,EAAK1Q,EAAEqB,kBAAU,IAAAqP,GAAM,QAANC,EAAZD,EAAc/B,YAAI,IAAAgC,OAAN,EAAZA,EAAoBxP,IAAI,IACtClC,EAAMqQ,cAAgBJ,GAAoBI,GAGxCrQ,EAAM2R,qBADJV,GAG2BjR,EAAMqQ,cAAc,GAGnDrQ,EAAMsQ,UAtEWxM,KAA4BoM,EAAAA,GAAAA,QAAOpM,EAAO,MAsEzC8N,CAAgBtB,EAAU,IAE/C,EAEHuB,eAAiBlB,IACfH,GACEU,EAAAA,GAAAA,KAASlR,IACPA,EAAM4Q,oBAAsBD,EAC5B,MAAMN,EAAgBrQ,EAAMsQ,UACzBjN,QAAQtC,IAAC,IAAA+Q,EAAAC,EAAA,OACI,QADJD,EACR/Q,EAAEqB,kBAAU,IAAA0P,GAAc,QAAdC,EAAZD,EAAc1B,oBAAY,IAAA2B,OAAd,EAAZA,EAA4B7P,KAAKpB,MAAMwI,IAAC,IAAA0I,EAAA,OAAK1I,EAAElK,MAAgC,QAA9B4S,EAAKhS,EAAM4Q,2BAAmB,IAAAoB,OAAA,EAAzBA,EAA2B5S,GAAG,OAErFuC,KAAKZ,IAAC,IAAAkR,EAAAC,EAAA,OAAiB,QAAjBD,EAAKlR,EAAEqB,kBAAU,IAAA6P,GAAM,QAANC,EAAZD,EAAcvC,YAAI,IAAAwC,OAAN,EAAZA,EAAoBhQ,IAAI,IACtClC,EAAMqQ,cAAgBJ,GAAoBI,EAAc,IAE3D,EAEH8B,gBAAkBlB,IAChBT,GACEU,EAAAA,GAAAA,KAASlR,IACPA,EAAM2R,qBAAuBV,CAAY,IAE5C,KAIQ,SAAEmB,GAAUC,SAAUC,KACjCC,EAAAA,GAAAA,KAEWC,GAAcA,KAAMC,EAAAA,GAAAA,KAAAA,EAA6BC,EAAAA,GAAAA,IAASnC,KCvG1DoC,GAAWjU,IAAiE,IAADkU,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAA/D,UAAEtU,EAAS,SAAEuU,EAAQ,mBAAEC,GAAmCzU,EACjF,MAAMK,EAAgBC,IAAGC,GAAOiU,SAAUvU,GAEpCyU,EAAmB,OAARF,QAAQ,IAARA,GAAoB,QAAZN,EAARM,EAAU9Q,kBAAU,IAAAwQ,GAAQ,QAARC,EAApBD,EAAsBS,cAAM,IAAAR,OAApB,EAARA,EAA8B/R,MAAM+F,GAAqB,SAAd,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGyM,WAQ9D,OACEpU,EAAAA,EAAAA,KAAA,UAAQP,UAAWI,EAAesB,QAPpBA,KACV6S,GACFC,EAAmBD,EACrB,EAIoD,YAA8B,QAA9BJ,EAAWI,EAAS9Q,kBAAU,IAAA0Q,OAAA,EAAnBA,EAAqBrR,KAAK5C,SACtFuU,IAAYlU,EAAAA,EAAAA,KAAA,OAAK0F,IAAa,OAARwO,QAAQ,IAARA,GAAe,QAAPL,EAARK,EAAUlP,aAAK,IAAA6O,GAAM,QAANC,EAAfD,EAAiB7Q,YAAI,IAAA8Q,GAAY,QAAZC,EAArBD,EAAuB5Q,kBAAU,IAAA6Q,OAAzB,EAARA,EAAmCnQ,QAAmB,UAAEM,OACxE,ECXAmQ,GAAe7U,IAIF,IAJG,UAC3BC,EAAS,mBACTwU,EAAkB,gBAClBK,GACkB9U,EAClB,MAAMK,EAAgBC,IAAGC,GAAOgS,aAActS,IAExC,cACJ0R,EACAK,kBAAmB+C,EAAoB,UACvCnD,GACEgC,KAEE5B,EAAoB8C,EAAkBlD,EAAYmD,IAExD,OACEtT,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC1B2U,IAAmBtU,EAAAA,EAAAA,KAAA,MAAAL,SAAI,YACxBwR,EAAc1O,KAAK+R,IAAE,IAAAC,EAAA,OACpBxT,EAAAA,EAAAA,MAAA,OAAiBxB,UAAWM,GAAOgS,aAAapS,SAAA,EAC9CK,EAAAA,EAAAA,KAAA,MAAIP,UAAWM,GAAO2U,oBAAoB/U,SAAe,QAAf8U,EAAED,EAAGtR,kBAAU,IAAAuR,OAAA,EAAbA,EAAelS,QAC3DvC,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOqR,UAAUzR,SAC9B6R,EACErN,QAAQtC,IAAC,IAAA8P,EAAAgD,EAAAC,EAAA,OAAiB,QAAZjD,EAAA9P,EAAEqB,kBAAU,IAAAyO,GAAM,QAANgD,EAAZhD,EAAcnB,YAAI,IAAAmE,GAAM,QAANC,EAAlBD,EAAoB3R,YAAI,IAAA4R,OAAZ,EAAZA,EAA0B1U,MAAOsU,EAAGtU,EAAE,IACpDuC,KAAKZ,IACJ7B,EAAAA,EAAAA,KAACyT,GAAQ,CAAYO,SAAUnS,EAAGoS,mBAAoBA,GAAvCpS,EAAE3B,UANfsU,EAAGtU,GASP,MAEJ,EC1CV,GAAuB,mCAAvB,GAA6E,+CAA7E,GAA2I,2CCsC3I,GA/BiC2U,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EACrC,MAAM5U,EAAYL,EAAa,0BACzB,aAAEkV,EAAY,MAAEjF,IAAUrP,EAAAA,EAAAA,KAE1BuU,GAAmBjQ,EAAAA,EAAAA,UACvB,SAAAkQ,EAAA,OAA6D,QAA7DA,EAAMnF,EAAMtO,MAAM6O,GAASA,EAAKA,KAAKvQ,MAAmB,OAAZiV,QAAY,IAAZA,OAAY,EAAZA,EAAcjV,aAAG,IAAAmV,OAAA,EAAvDA,EAAyDrB,QAAQ,GACvE,CAACmB,EAAcjF,IAGjB,OAAK5P,EAEA8U,EAOEpU,EAAAA,cACLC,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAYJ,SAAA,EAC1BK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAoBJ,SAA6B,QAA7BmV,EAAEM,EAAiBlS,kBAAU,IAAA4R,OAAA,EAA3BA,EAA6BvS,QAEnEtB,EAAAA,EAAAA,MAAA,OAAAtB,SAAA,CAAK,IAA6B,QAA5BoV,EAACK,EAAiBlS,kBAAU,IAAA6R,GAAO,QAAPC,EAA3BD,EAA6B/L,aAAK,IAAAgM,GAAM,QAANC,EAAlCD,EAAoChS,YAAI,IAAAiS,GAAY,QAAZC,EAAxCD,EAA0C/R,kBAAU,IAAAgS,OAAzB,EAA3BA,EAAsDlM,UAC7DhJ,EAAAA,EAAAA,KAAA,SAAAL,UACEK,EAAAA,EAAAA,KAAA,KAAAL,SAAG,4BAGPW,GAfOU,EAAAA,cACLhB,EAAAA,EAAAA,KAAA,OAAKP,UAAWK,IAAGC,GAAaA,IAAyBJ,SAAC,0BAC1DW,GALmB,IAmBtB,ECPGgV,GAAsB9V,IAOD,IAAD+V,EAAA,IAPG,UAC3B9V,EAAS,cACT+V,EAAa,aACbzD,EAAY,YACZN,EAAW,mBACXwC,EAAkB,gBAClBK,GACmB9U,EACnB,MAAM0R,EAAekC,IAAuBtS,GAAUA,EAAMoQ,eACtDQ,EAAsB0B,IAAuBtS,GAAUA,EAAM4Q,sBAC7DI,EAAesB,IAAuBtS,GAAUA,EAAMgR,eACtDa,EAAiBS,IAAuBtS,GAAUA,EAAM6R,iBACxD9S,EAAgBC,IAAGC,GAAO8G,KAAMpH,GAEhCgW,EAAuB,OAAbD,QAAa,IAAbA,GAAyB,QAAZD,EAAbC,EAAetS,kBAAU,IAAAqS,GAAzBA,EAA2BpE,cACtCqE,EAActS,WAAWiO,cAAcnO,KAAKP,KAAKiT,GAAMA,EAAExV,KAC1D,IAEI8C,KAAMoO,IAAcuE,EAAAA,EAAAA,IAC1BnL,EAAAA,GACA,CAAEoL,QAAS,CAAEpF,KAAM,CAAEtQ,GAAI,CAAE2V,GAAIJ,KAAehL,WAAY,CAAEqL,SAAU,MACtE,CACEnL,OAAS3H,IAAI,IAAA+S,EAAA,OAAmB,QAAnBA,EAAK/S,EAAKoO,iBAAS,IAAA2E,OAAA,EAAdA,EAAgB/S,IAAI,IAU1C,OANAxC,EAAAA,EAAAA,YAAU,KACK,OAAT4Q,QAAS,IAATA,GAAAA,EAAW/M,QACbyN,EAAaV,EAAWW,EAAcN,EACxC,GACC,CAACL,IAECoE,GAKHvU,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC1B2U,IACArT,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,YACJK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOmR,aAAavR,SACjCuR,EAAazO,KAAKuT,IAAK,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACtBpW,EAAAA,EAAAA,KAAA,UAAuBmB,QAASA,IAAMwR,EAAeqD,GAAOrW,UAC1DK,EAAAA,EAAAA,KAAA,OACEqJ,MAAM,6BACNC,QAAQ,YACR+M,YAAa,EACbC,QACqB,OAAnB5E,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBxR,MAAO8V,EAAM9V,GAC9B,OACwB,QADlB+V,EACU,QADVC,EACNF,EAAM9S,kBAAU,IAAAgT,OAAA,EAAhBA,EAAkB9U,cAAM,IAAA6U,EAAAA,EAAI,OAElCM,KAA8B,QAA1BJ,EAAkB,QAAlBC,EAAEJ,EAAM9S,kBAAU,IAAAkT,OAAA,EAAhBA,EAAkBhV,cAAM,IAAA+U,EAAAA,EAAI,OAAOxW,UAEzCK,EAAAA,EAAAA,KAAA,QAAMiE,MAAM,OAAOqB,OAAO,YAZjB0Q,EAAM9V,GAcV,UAKjBF,EAAAA,EAAAA,KAACqU,GAAY,CAACC,gBAAiBA,EAAiBL,mBAAoBA,KACpEjU,EAAAA,EAAAA,KAAC6U,GAAoB,OA9BhB,IA+BD,EAYV,GARuBhM,IAEnB7I,EAAAA,EAAAA,KAACkT,GAAQ,CAACI,YAAaA,GAAY3T,UACjCK,EAAAA,EAAAA,KAACsV,GAAmB,IAAKzM,MCnG/B,IAAgB,aAAe,+BCiF/B,GAlEgBrJ,IAAwC,IAADgX,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAtC,UAAEnX,EAAS,KAAEgR,GAAoBjR,EAChD,MAAMK,EAAgBC,IAAGC,GAAO8G,KAAMpH,GAChC0V,GAAetU,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMqU,eACnD0B,GAAUhW,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+V,UAC9CC,GAAajW,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMgW,aACjD5G,GAAQrP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMoP,QAC5C6G,GAAc5R,EAAAA,EAAAA,UAAQ,IAAM+K,EAAMtO,MAAM8F,GAAMA,EAAE+I,KAAKvQ,MAAW,OAAJuQ,QAAI,IAAJA,OAAI,EAAJA,EAAMvQ,OAAK,CAACuQ,KACvEuG,EAAcC,IAAmB5W,EAAAA,EAAAA,WAAS,GAEjD,GAAS,OAAJoQ,QAAI,IAAJA,GAAmB,QAAf+F,EAAJ/F,EAAM+E,qBAAa,IAAAgB,IAAnBA,EAAqBxT,KACxB,OAAO,KAsBT,OANAxC,EAAAA,EAAAA,YAAU,KACJiQ,EAAKyG,WAAaF,GAAgBD,GACpCE,GAAgB,EAClB,GACC,KAGDhW,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAACgB,EAAAA,EAAOC,IAAG,CAETzC,UAAWI,EACXsC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GAAIzC,SAAA,CAEpB8Q,EAAKyG,WACJjW,EAAAA,EAAAA,MAACkW,GAAU,CACT1X,UAAWM,GAAOiX,aAClBtX,SAAUsX,EACV7V,QAASA,KAAMiW,OAzBvBH,EADuBI,GA0BiBL,QAxBnCK,GACHP,EAAWrG,IAHU4G,KA0B+B,EAAA1X,SAAA,CAE7CqX,EAAe,SAAW,MAAM,IAAEvG,EAAKlO,UAGzCkO,EAAKyG,UAAazG,EAAKyG,UAAYF,KACpChX,EAAAA,EAAAA,KAACsX,EAAAA,SAAQ,CAACC,UAAUvX,EAAAA,EAAAA,KAAA,OAAAL,SAAK,eAAiBA,UACxCK,EAAAA,EAAAA,KAACwX,GAAa,CACZhC,cAAe/E,EAAK+E,cAAcxS,KAClC+O,aAAyB,OAAXgF,QAAW,IAAXA,GAAgC,QAArBN,EAAXM,EAAa/C,SAAS9Q,kBAAU,IAAAuT,GAAM,QAANC,EAAhCD,EAAkCjG,YAAI,IAAAkG,OAA3B,EAAXA,EAAwC1T,KACtDyO,YAAwB,OAAXsF,QAAW,IAAXA,GAAgC,QAArBJ,EAAXI,EAAa/C,SAAS9Q,kBAAU,IAAAyT,GAAc,QAAdC,EAAhCD,EAAkCzF,oBAAY,IAAA0F,OAAnC,EAAXA,EAAgD5T,KAAK,GAClEiR,mBA3CgBD,IACtBmB,GAAgBnB,GAClB6C,EAAQ1B,EAAcnB,EACxB,QAmBSvD,EAAKvQ,KA0BZF,EAAAA,EAAAA,KAAC0D,EAAU,MACV,EC7EP,GAAuB,wBAAvB,GAAuD,yBAAvD,GAAwF,yBCmBxF,GAXkBlE,IAAqE,IAApE,UAAEC,EAAS,YAAEgY,EAAW,SAAE9X,KAAakJ,GAAuBrJ,EAC/E,MAAMK,EAAgBC,IAAGC,GAAaN,GACtC,OACEwB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAAA,SAAOP,UAAWM,MAAkB8I,EAAO4O,YAAY,OACvDzX,EAAAA,EAAAA,KAAA,SAAOP,UAAWM,GAAaJ,SAAE8X,IAChC9X,IACG,ECfV,GAAuB,yBAAvB,GAAyD,2BAAzD,GAA2F,yBCsB3F,GAdmBH,IAAyD,IAAxD,UAAEC,EAAS,SAAEE,KAAakJ,GAAwBrJ,EACpE,MAAMK,EAAgBC,IAAGC,GAAaN,GACtC,OACEwB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAAA,UAAQP,UAAWM,MAAmB8I,EAAKlJ,SACxCA,KAEHK,EAAAA,EAAAA,KAAA,OAAKqJ,MAAM,6BAA6B5J,UAAWM,GAAauJ,QAAQ,oBAAmB3J,UACzFK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,kFAEN,ECoFV,GArGyBmO,CACvBC,EACAC,EACAC,KAEA,IAAItM,EAAO,GACX,GAAa,QAAToM,EACF,QAAQ,GACN,KAAK,GAAKC,GAAUA,EAAS,GAC3BrM,EAAO,OACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,UACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,UACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,UACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,UACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,QACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,KACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,IACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,IACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,GAC5BrM,EAAO,IACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,IAC5BrM,EAAO,KACP,MACF,KAAK,KAAOqM,GAAUA,EAAS,IAC7BrM,EAAO,MACP,MACF,KAAK,KAAOqM,GAAUA,EAAS,IAC7BrM,EAAO,MACP,MACF,KAAK,KAAOqM,EACVrM,EAAO,WAIX,QAAQ,GACN,KAAK,GAAKqM,GAAUA,EAAS,GAC3BrM,EAAO,OACP,MACF,KAAK,IAAMqM,GAAUA,EAAS,KAC5BrM,EAAO,UACP,MACF,KAAK,MAAQqM,GAAUA,EAAS,KAC9BrM,EAAO,UACP,MACF,KAAK,MAAQqM,GAAUA,EAAS,KAC9BrM,EAAO,UACP,MACF,KAAK,MAAQqM,GAAUA,EAAS,KAC9BrM,EAAO,UACP,MACF,KAAK,MAAQqM,GAAUA,EAAS,MAC9BrM,EAAO,QACP,MACF,KAAK,OAASqM,GAAUA,EAAS,IAC/BrM,EAAO,KACP,MACF,KAAK,KAAOqM,GAAUA,EAAS,MAC7BrM,EAAO,IACP,MACF,KAAK,OAASqM,GAAUA,EAAS,MAC/BrM,EAAO,IACP,MACF,KAAK,OAASqM,GAAUA,EAAS,MAC/BrM,EAAO,IACP,MACF,KAAK,OAASqM,GAAUA,EAAS,MAC/BrM,EAAO,KACP,MACF,KAAK,OAASqM,GAAUA,EAAS,MAC/BrM,EAAO,MACP,MACF,KAAK,OAASqM,GAAUA,EAAS,MAC/BrM,EAAO,MACP,MACF,KAAK,OAASqM,EACZrM,EAAO,MAKb,OAAOsM,EAAWjW,MAAMkW,IAAC,IAAAC,EAAA,OAAU,QAAVA,EAAKD,EAAEE,WAAG,IAAAD,OAAA,EAALA,EAAOE,SAAS1M,EAAK,GAAC,E,eCnGtD,UAAgB,WAAa,4BAA4B,WAAa,4BAA4B,aAAe,8BAA8B,qBAAuB,uCCsItK,GAxHgB/L,IAAkC,IAAjC,UAAEC,GAAyBD,EAC1C,MAAMK,EAAgBC,IAAGC,GAAO8G,KAAMpH,GAChCoY,GAAahX,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+W,aACjDK,GAAYrX,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMoX,YAChDN,GAAS/W,EAAAA,EAAAA,IAAoBC,IAAK,IAAAiP,EAAA,OAAiB,QAAjBA,EAAKjP,EAAMkP,cAAM,IAAAD,OAAA,EAAZA,EAAc6H,MAAM,IAC3DtS,GAASzE,EAAAA,EAAAA,IAAoBC,IAAK,IAAAqX,EAAA,OAAiB,QAAjBA,EAAKrX,EAAMkP,cAAM,IAAAmI,OAAA,EAAZA,EAAc7S,MAAM,IAC3D2K,GAAYpP,EAAAA,EAAAA,IAAoBC,IAAK,IAAAsX,EAAA,OAAiB,QAAjBA,EAAKtX,EAAMkP,cAAM,IAAAoI,OAAA,EAAZA,EAAcnI,SAAS,KAEvEzP,EAAAA,EAAAA,YAAU,KACR,GAAU,OAANoX,QAAM,IAANA,GAAAA,EAAQpQ,OAASoQ,EAAOD,KAAM,CAChC,MAAM1H,EAAYyH,GAAiBE,EAAOD,KAAMC,EAAOpQ,MAAOqQ,GAC9DK,OAAU5I,OAAWA,EAAWW,EAClC,IACC,CAAC2H,EAAQC,IAEZ,MAcMQ,EAAiBV,IACrBO,EAAU,CAAE1Q,MAAa,OAANlC,QAAM,IAANA,OAAM,EAANA,EAAQkC,MAAOmQ,QAAO,EAGrCW,EAAiBX,IACrBO,OAAU5I,EAAW,CAAE9H,MAAa,OAANoQ,QAAM,IAANA,OAAM,EAANA,EAAQpQ,MAAOmQ,QAAO,EAGtD,OACE1W,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAACgB,EAAAA,EAAOC,IAAG,CACTzC,UAAWI,EACXsC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GAAIzC,SAAA,EAErBK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,kBACJK,EAAAA,EAAAA,KAAA,KAAAL,SAAG,wGAIHK,EAAAA,EAAAA,KAACuY,GAAS,CACR/H,KAAK,SACLiH,YAAY,eACZxQ,KAAK,MACL0J,UAAQ,EACRnJ,MAAa,OAANlC,QAAM,IAANA,GAAAA,EAAQkC,MAAQlC,EAAOkC,MAAQ,GACtCmB,SAzCgB6P,IACtBN,EAAU,CAAE1Q,MAAOK,OAAO2Q,EAAEC,OAAOjR,OAAQmQ,KAAM,MAAO,EAwCzBhY,UAEzBsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO2Y,WAAW/Y,SAAA,EAChCK,EAAAA,EAAAA,KAAA,UACEP,UAAWK,IAAGC,GAAO4Y,aAAc,CACjC,CAAC5Y,GAAO6Y,uBAA6B,OAANtT,QAAM,IAANA,OAAM,EAANA,EAAQqS,QAASkB,GAAAA,GAAKC,OAAOC,KAE9D5X,QAASA,IAAMkX,EAAcQ,GAAAA,GAAKC,OAAOC,IAAIpZ,SAE5CkZ,GAAAA,GAAKC,OAAOC,KAEd,KACD/Y,EAAAA,EAAAA,KAAA,UACEP,UAAWK,IAAGC,GAAO4Y,aAAc,CACjC,CAAC5Y,GAAO6Y,uBAA6B,OAANtT,QAAM,IAANA,OAAM,EAANA,EAAQqS,QAASkB,GAAAA,GAAKC,OAAOE,OAE9D7X,QAASA,IAAMkX,EAAcQ,GAAAA,GAAKC,OAAOE,MAAMrZ,SAE9CkZ,GAAAA,GAAKC,OAAOE,aAInBhZ,EAAAA,EAAAA,KAACuY,GAAS,CACR/H,KAAK,SACLiH,YAAY,eACZxQ,KAAK,MACL0J,UAAQ,EACRnJ,MAAa,OAANoQ,QAAM,IAANA,GAAAA,EAAQpQ,MAAQoQ,EAAOpQ,MAAQ,GACtCmB,SAjEgB6P,IACtBN,OAAU5I,EAAW,CAAE9H,MAAOK,OAAO2Q,EAAEC,OAAOjR,OAAQmQ,KAAM,OAAQ,EAgErChY,UAEzBsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO2Y,WAAW/Y,SAAA,EAChCK,EAAAA,EAAAA,KAAA,UACEP,UAAWK,IAAGC,GAAO4Y,aAAc,CACjC,CAAC5Y,GAAO6Y,uBAA6B,OAANhB,QAAM,IAANA,OAAM,EAANA,EAAQD,QAASkB,GAAAA,GAAKI,OAAOC,KAE9D/X,QAASA,IAAMmX,EAAcO,GAAAA,GAAKI,OAAOC,IAAIvZ,SAE5CkZ,GAAAA,GAAKI,OAAOC,KAEd,KACDlZ,EAAAA,EAAAA,KAAA,UACEP,UAAWK,IAAGC,GAAO4Y,aAAc,CACjC,CAAC5Y,GAAO6Y,uBAA6B,OAANhB,QAAM,IAANA,OAAM,EAANA,EAAQD,QAASkB,GAAAA,GAAKI,OAAOE,KAE9DhY,QAASA,IAAMmX,EAAcO,GAAAA,GAAKI,OAAOE,IAAIxZ,SAE5CkZ,GAAAA,GAAKI,OAAOE,WAInBnZ,EAAAA,EAAAA,KAAA,MAAAL,SAAI,oBACJK,EAAAA,EAAAA,KAACoZ,GAAU,CAAC5R,MAAgB,OAATyI,QAAS,IAATA,OAAS,EAATA,EAAW/P,GAAIyI,SApFb6P,IACzB,MAAMtY,EAAKsY,EAAEC,OAAOjR,MACd6R,EAAoBxB,EAAWjW,MAAMkW,GAAMA,EAAE5X,KAAOA,IAC1DgY,OAAU5I,OAAWA,EAAW+J,EAAkB,EAiFgB1Z,SAC3DkY,EAAWpV,KAAKqV,IACf9X,EAAAA,EAAAA,KAAA,UAAmBwH,MAAOsQ,EAAE5X,GAAGP,SAC5BmY,EAAE/L,OADQ+L,EAAE5X,YAMrBF,EAAAA,EAAAA,KAAC0D,EAAU,MACV,EClIP,GAAiC,kCAAjC,GAA+E,6BAA/E,GAAqH,0BAArH,GAA6J,+BAA7J,GAAsM,2BCiDtM,GAhCsClE,IAQ/B,IARgC,UACrCC,EAAS,SACTE,EAAQ,MACRoM,EAAK,YACLuN,EAAW,KACXrS,EAAI,aAEJsS,EAAeA,UAChB/Z,EACC,MAMMga,EAAiB1Z,IAAGC,GAAuB,CAAE,CAACA,IAAgBkH,IAASqS,IAE7E,OACErY,EAAAA,EAAAA,MAAA,OAAKxB,UAAWK,IAAGL,GAAWE,SAAA,EAC5BsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAW+Z,EAAgBrY,QAVXsY,KAGvBF,EAAatS,EAAK,EAO0CtH,SAAA,CACvC,kBAATsH,IACNhG,EAAAA,EAAAA,MAACC,EAAAA,EAAM,CAACzB,UAAWM,GAAkBqB,OAAO,MAAKzB,SAAA,CAAC,QAC1CsH,EAAO,MAGjBjH,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACzB,UAAWM,GAAmBJ,SAAEoM,OAEzC9E,IAASqS,IAAetZ,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAeJ,SAAEA,MACtD,EC7CV,GAAuB,6BC0DvB,GA3CuBH,IAOK,IAPJ,UACtBC,EAAS,KACTwH,EAAI,QACJyS,EAAO,QACPxQ,EAAO,OACPyQ,EAAM,WACNC,GACoBpa,EACpB,MAAMK,EAAgBC,IAAGC,GAAaN,GAChCa,EAAYL,EAAa,wBAE/B,OAAKK,EAIEU,EAAAA,cACLC,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,CAClB,IAATsH,GACCjH,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,WAAWD,QAAS+H,EAAQvJ,SAAC,YAI5CK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACC,QAASyY,EAAY3Q,SAAmB,IAAThC,EAAWtH,SAAC,cAOpDsH,IAASyS,GACR1Z,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QAAS+H,EAAQvJ,SAAC,UAIvCK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,SAASD,QAASwY,EAAOha,SAAC,iBAK7CW,GA3BO,IA4BR,ECvDH,IAAgB,MAAQ,uBAAuB,OAAS,wBAAwB,QAAU,yBAAyB,YAAc,6BAA6B,YAAc,6BAA6B,SAAW,0BAA0B,aAAe,8BAA8B,iBAAmB,kCAAkC,SAAW,0BAA0B,YAAc,6BAA6B,cAAgB,+BAA+B,KAAO,sBAAsB,gBAAkB,iCAAiC,SAAW,0BAA0B,QAAU,yBAAyB,cAAgB,+BAA+B,kBAAoB,mCAAmC,MAAQ,uBAAuB,UAAY,2BAA2B,YAAc,6BAA6B,OAAS,wBAAwB,0BAA4B,4CCA33B,IAAiB,ECwBjB,GAfcd,IAAoD,IAAnD,UAAEC,EAAS,MAAEuJ,EAAK,YAAE6Q,GAAyBra,EAC1D,MAAMK,EAAgBC,IAAG,aAAcC,GAAO8G,KAAMpH,GAI9Cqa,OACMxK,IAAVtG,EAAmB,GAAAnE,OAHJ,QAGkBA,OAAGmE,EAAMlB,QAAQ,IAAE,GAAAjD,OAHrC,QAGqDA,OAAGgV,GAEzE,OAAKC,GAIE9Z,EAAAA,EAAAA,KAAA,QAAMP,UAAWI,EAAcF,SAAEma,IAH/B,IAGqD,EC2GhE,GArH8Cta,IAAwB,IAADua,EAAAC,EAAAC,EAAAC,EAAA,IAAtB,SAAEC,EAAW,CAAC,GAAG3a,EAC9D,MAAM,aAAE4a,GAAiBD,GAElBE,EAAUC,IAAeja,EAAAA,EAAAA,YAA0B,OAAR8Z,QAAQ,IAARA,IAAAA,EAAUI,gBACrDC,EAAMC,IAAWpa,EAAAA,EAAAA,YAA0B,OAAR8Z,QAAQ,IAARA,IAAAA,EAAUO,YAE9CC,GAAgBxV,EAAAA,EAAAA,UAAQ,KAAkB,OAAZiV,QAAY,IAAZA,OAAY,EAAZA,EAAcla,MAAO0a,GAAAA,IAAqB,CAACR,KAEzE,WAAES,IAAeha,EAAAA,EAAAA,KAMvB,IAJAL,EAAAA,EAAAA,YAAU,KACRia,IAAQN,EAASO,UAAyB,GACzC,CAACP,EAASO,aAERN,EACH,OAAO,KAGT,MAAMU,EAAeC,IAGP,IAADC,EAAAC,EAAAC,EAAAC,EAFC,OAARhB,QAAQ,IAARA,GAAAA,EAAUhU,MACZmU,EAAYS,GAEVF,EAAWV,EAAShU,IADlB4U,EACuB,CACvBR,aAAc,CACZvR,MAA8B,QAAzBgS,EAAEZ,EAAalX,kBAAU,IAAA8X,GAAc,QAAdC,EAAvBD,EAAyBT,oBAAY,IAAAU,OAAd,EAAvBA,EAAuCjS,MAC9CyC,SAAU,EACV2P,iBAAyC,QAAzBF,EAAEd,EAAalX,kBAAU,IAAAgY,GAAc,QAAdC,EAAvBD,EAAyBX,oBAAY,IAAAY,OAAd,EAAvBA,EAAuCC,mBAIpC,CACvBb,kBAAcjL,IAGpB,EAGI+L,EAAWN,IAGH,IAADO,EAAAC,EAAAC,EAAAC,EAFC,OAARtB,QAAQ,IAARA,GAAAA,EAAUhU,MACZsU,EAAQM,GAENF,EAAWV,EAAShU,IADlB4U,EACuB,CACvBL,UAAW,CACT1R,MAA8B,QAAzBsS,EAAElB,EAAalX,kBAAU,IAAAoY,GAAW,QAAXC,EAAvBD,EAAyBZ,iBAAS,IAAAa,OAAX,EAAvBA,EAAoCvS,MAC3CyC,SAAU,EACV2P,iBAAyC,QAAzBI,EAAEpB,EAAalX,kBAAU,IAAAsY,GAAW,QAAXC,EAAvBD,EAAyBd,iBAAS,IAAAe,OAAX,EAAvBA,EAAoCL,mBAIjC,CACvBV,eAAWpL,IAGjB,EAGF,OACErO,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO2b,iBAAiB/b,SAAA,EACtCsB,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CACpC,CAAC5b,GAAOL,WAAY2a,IAEtBlZ,QAASA,IAAM2Z,GAAY,GAAOnb,SAAA,CACnC,eAECsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAAO,WAGlB/H,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CACpC,CAAC5b,GAAOL,UAAW2a,IAErBlZ,QAASA,IAAM2Z,GAAY,GAAMnb,SAAA,CAClC,gBAECsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAA8B,QAAzB+Q,EAAEK,EAAalX,kBAAU,IAAA6W,GAAc,QAAdC,EAAvBD,EAAyBQ,oBAAY,IAAAP,OAAd,EAAvBA,EAAuChR,kBAI3D/H,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO2b,iBAAiB/b,SAAA,EACtCsB,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CAAE,CAAC5b,GAAOL,WAAY8a,IAC5DrZ,QAASA,IAAMka,GAAQ,GAAO1b,SAAA,CAC/B,QAECsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAAO,WAGlB/H,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CACpC,CAAC5b,GAAOL,UAAW8a,EACnB,CAACza,GAAOkJ,WAAY0R,IAEtBxZ,QAASA,IAAMka,GAAQ,GAAM1b,SAAA,CAC9B,cAEEgb,GACC1Z,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAA8B,QAAzBiR,EAAEG,EAAalX,kBAAU,IAAA+W,GAAW,QAAXC,EAAvBD,EAAyBS,iBAAS,IAAAR,OAAX,EAAvBA,EAAoClR,YAGpDhJ,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAO6b,QAAQjc,SAAC,+CAIrC,ECOP,GArHyBH,IAA+C,IAADsc,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAA7C,SAAElC,EAAW,CAAC,GAA0B3a,EAChE,MAAMqb,GAAaha,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+Z,cAEjD,aAAET,GAAiBD,EACnBmC,GAAmB/b,EAAAA,EAAAA,QAAO6Z,IAExBpX,KAAMuZ,IAAUC,EAAAA,EAAAA,IACtBhS,EAAAA,GACA,CAAC,EACD,CACEG,OAAS3H,IAAI,IAAAyZ,EAAA,OAAe,QAAfA,EAAKzZ,EAAKuZ,aAAK,IAAAE,OAAA,EAAVA,EAAYzZ,IAAI,IAqDtC,IAjDAxC,EAAAA,EAAAA,YAAU,MACH4Z,GAAqB,OAALmC,QAAK,IAALA,GAAAA,EAAOlY,QAAkB,OAAR8V,QAAQ,IAARA,GAAAA,EAAUhU,KAC9C0U,EAAWV,EAAShU,IAAK,CACvBiU,aAAcmC,EAAM,IAExB,GACC,CAACA,KAEJ/b,EAAAA,EAAAA,YAAU,KACyE,IAADwa,EAAAC,EAAAC,EAAAC,EAAAG,EAAAC,EAAAC,EAAAC,EAAA1B,EAAAC,EAAAC,EAAAC,EAAAwC,EAApE,OAARvC,QAAQ,IAARA,GAAAA,EAAUhU,KAAOiU,GAAgBkC,EAAiB7b,UAAY2Z,IAChEkC,EAAiB7b,QAAU2Z,EAE3BS,EAAWV,EAAShU,IAAK,CACvBqF,UAAW,CACTxC,MAA8B,QAAzBgS,EAAEZ,EAAalX,kBAAU,IAAA8X,GAAW,QAAXC,EAAvBD,EAAyBxP,iBAAS,IAAAyP,OAAX,EAAvBA,EAAoCjS,MAC3CyC,SAAU,EACV2P,iBAAyC,QAAzBF,EAAEd,EAAalX,kBAAU,IAAAgY,GAAW,QAAXC,EAAvBD,EAAyB1P,iBAAS,IAAA2P,OAAX,EAAvBA,EAAoCC,kBAExDuB,YAAa,CACX3T,MAA8B,QAAzBsS,EAAElB,EAAalX,kBAAU,IAAAoY,GAAa,QAAbC,EAAvBD,EAAyBqB,mBAAW,IAAApB,OAAb,EAAvBA,EAAsCvS,MAC7CyC,SAAU,EACV2P,iBAAyC,QAAzBI,EAAEpB,EAAalX,kBAAU,IAAAsY,GAAa,QAAbC,EAAvBD,EAAyBmB,mBAAW,IAAAlB,OAAb,EAAvBA,EAAsCL,kBAE1DwB,SAAU,CACR1c,GAAIka,EAAala,GACjBqC,KAA6B,QAAzBwX,EAAEK,EAAalX,kBAAU,IAAA6W,OAAA,EAAvBA,EAAyBxX,MAQjCyR,cAAU1E,KACN6K,EAAS0C,QACT,CACEC,aAAc,CACZ9T,MAA8B,QAAzBgR,EAAEI,EAAalX,kBAAU,IAAA8W,GAAc,QAAdC,EAAvBD,EAAyB8C,oBAAY,IAAA7C,OAAd,EAAvBA,EAAuCjR,MAC9CyC,SAAU,EACV2P,iBAAyC,QAAzBlB,EAAEE,EAAalX,kBAAU,IAAAgX,GAAc,QAAdwC,EAAvBxC,EAAyB4C,oBAAY,IAAAJ,OAAd,EAAvBA,EAAuCtB,mBAG7D,CAAC,EAELV,eAAWpL,IAEf,GACC,CAAC8K,KAECA,EACH,OAAO,KAqBT,OAFA2C,QAAQC,IAAI5C,IAGVnZ,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAO2b,iBAAiB/b,SAChC,OAAL4c,QAAK,IAALA,OAAK,EAALA,EAAO9Z,KAAKwa,IAAC,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACZrc,EAAAA,EAAAA,MAAA,OAEExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CACpC,CAAC5b,GAAOL,UAAWud,EAAE/c,KAAOka,EAAala,KAE3CiB,QAASA,KAAMoc,OAnBAhb,EAmBgB0a,OAlB3B,OAAR9C,QAAQ,IAARA,GAAAA,EAAUhU,KACZ0U,EAAWV,EAAShU,IAAK,CACvBiU,aAAc7X,KAHKA,KAmBmB,EAAA5C,SAAA,CAErB,QAFqBud,EAEjCD,EAAE/Z,kBAAU,IAAAga,OAAA,EAAZA,EAAc3a,MACftB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,EAC7BK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAAmB,QAAdmU,EAAEF,EAAE/Z,kBAAU,IAAAia,GAAW,QAAXC,EAAZD,EAAc3R,iBAAS,IAAA4R,OAAX,EAAZA,EAAyBpU,QACtC,OACDhJ,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAAmB,QAAdqU,EAAEJ,EAAE/Z,kBAAU,IAAAma,GAAa,QAAbC,EAAZD,EAAcV,mBAAW,IAAAW,OAAb,EAAZA,EAA2BtU,QAAS,mBAV/CiU,EAAE/c,GAYH,OAGVF,EAAAA,EAAAA,KAACwX,GAAa,CACZlD,iBAAiB,EACjBkB,cAA2B,OAAZ4E,QAAY,IAAZA,GAAwB,QAAZ0B,EAAZ1B,EAAclX,kBAAU,IAAA4Y,GAAe,QAAfC,EAAxBD,EAA0BtG,qBAAa,IAAAuG,OAA3B,EAAZA,EAAyC/Y,KACxD+O,aAAsB,OAARoI,QAAQ,IAARA,GAAkB,QAAV6B,EAAR7B,EAAUnG,gBAAQ,IAAAgI,GAAY,QAAZC,EAAlBD,EAAoB9Y,kBAAU,IAAA+Y,GAAM,QAANC,EAA9BD,EAAgCzL,YAAI,IAAA0L,OAA5B,EAARA,EAAsClZ,KACpDyO,YAAqB,OAAR0I,QAAQ,IAARA,GAAkB,QAAVgC,EAARhC,EAAUnG,gBAAQ,IAAAmI,GAAY,QAAZC,EAAlBD,EAAoBjZ,kBAAU,IAAAkZ,GAAc,QAAdC,EAA9BD,EAAgClL,oBAAY,IAAAmL,OAApC,EAARA,EAA8CrZ,KAAK,GAChEiR,mBA3CeD,IACP,OAARmG,QAAQ,IAARA,GAAAA,EAAUhU,KACZ0U,EAAWV,EAAShU,IAAK,CACvB6N,YAEJ,EAuCIvU,UAAWM,GAAOyV,kBAEnB,ECxCP,GA1EgDhW,IAAwB,IAAD8b,EAAAC,EAAAC,EAAAC,EAAA+B,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAtB,SAAE1D,EAAW,CAAC,GAAG3a,EAChE,MAAOse,EAAaC,IAAkB1d,EAAAA,EAAAA,YAA0B,OAAR8Z,QAAQ,IAARA,IAAAA,EAAU0C,WAE5D,WAAEhC,IAAeha,EAAAA,EAAAA,MAEjB,aAAEuZ,GAAiBD,EAEzB,IAAKC,EACH,OAAO,KAGT,MAaM4D,EAAiB3G,IACrB0G,EAAe1G,IACVA,GAAgB,OAAR8C,QAAQ,IAARA,GAAAA,EAAUhU,KACrB0U,EAAWV,EAAShU,IAAK,CACvB0W,aAASvN,EACTwN,kBAAcxN,GAElB,EAGF,OACErO,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWK,IAAGC,GAAO+d,YAAa/d,GAAO2b,kBAAkB/b,SAAA,EAC9DsB,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CAAE,CAAC5b,GAAOL,WAAYoe,IAC5D3c,QAASA,IAAM6c,GAAc,GAAOre,SAAA,CACrC,cAECsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAAO,WAGlB/H,EAAAA,EAAAA,MAAA,OACExB,UAAWK,IAAGC,GAAO4b,gBAAiB,CAAE,CAAC5b,GAAOL,UAAWoe,IAC3D3c,QAASA,IAAM6c,GAAc,GAAMre,SAAA,CACpC,eAECsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAO6b,QAAQjc,SAAA,CAC5B,MACDK,EAAAA,EAAAA,KAAC6b,GAAK,CAAC7S,MAA8B,QAAzBsS,EAAElB,EAAalX,kBAAU,IAAAoY,GAAc,QAAdC,EAAvBD,EAAyBwB,oBAAY,IAAAvB,OAAd,EAAvBA,EAAuCvS,iBAI1D8U,IACC9d,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEK,EAAAA,EAAAA,KAACwX,GAAa,CACZlD,iBAAe,EACfkB,cAA2B,OAAZ4E,QAAY,IAAZA,GAAwB,QAAZoB,EAAZpB,EAAclX,kBAAU,IAAAsY,GAAc,QAAdC,EAAxBD,EAA0ByC,oBAAY,IAAAxC,OAA1B,EAAZA,EAAwCzY,KACvD+O,aAAsB,OAARoI,QAAQ,IAARA,GAAiB,QAATqD,EAARrD,EAAU0C,eAAO,IAAAW,GAAY,QAAZC,EAAjBD,EAAmBta,kBAAU,IAAAua,GAAM,QAANC,EAA7BD,EAA+BjN,YAAI,IAAAkN,OAA3B,EAARA,EAAqC1a,KACnDyO,YAAqB,OAAR0I,QAAQ,IAARA,GAAiB,QAATwD,EAARxD,EAAU0C,eAAO,IAAAc,GAAY,QAAZC,EAAjBD,EAAmBza,kBAAU,IAAA0a,GAAc,QAAdC,EAA7BD,EAA+B1M,oBAAY,IAAA2M,OAAnC,EAARA,EAA6C7a,KAAK,GAC/DiR,mBAtDU4I,IACE,IAAD7B,EAAAC,EAAAC,EAAAC,EAAP,OAARhB,QAAQ,IAARA,GAAAA,EAAUhU,KACZ0U,EAAWV,EAAShU,IAAK,CACvB0W,UACAC,aAAc,CACZ9T,MAA8B,QAAzBgS,EAAEZ,EAAalX,kBAAU,IAAA8X,GAAc,QAAdC,EAAvBD,EAAyB8B,oBAAY,IAAA7B,OAAd,EAAvBA,EAAuCjS,MAC9CyC,SAAU,EACV2P,iBAAyC,QAAzBF,EAAEd,EAAalX,kBAAU,IAAAgY,GAAc,QAAdC,EAAvBD,EAAyB4B,oBAAY,IAAA3B,OAAd,EAAvBA,EAAuCC,mBAG/D,EA6CQ3b,UAAWM,GAAOyV,oBAIvB,ECvED0I,GAAQ,CACZ,CACE3b,KAAM,QACN9C,UAAWM,GAAOoe,MAClBja,IAAK,wFAEP,CACE3B,KAAM,SACN9C,UAAWM,GAAOqe,OAClBla,IAAK,qFAEP,CACE3B,KAAM,UACN9C,UAAWM,GAAOse,QAClBna,IAAK,2FAEP,CACE3B,KAAM,cACN9C,UAAWM,GAAOue,YAClBpa,IAAK,+FAiET,GA7DsB1E,IAAkD,IAAD+e,EAAA,IAAhD,UAAE9e,EAAS,SAAE0a,GAA8B3a,EAChE,MAAOgf,EAAMC,IAAWpe,EAAAA,EAAAA,UAAqC,OAAR8Z,QAAQ,IAARA,OAAQ,EAARA,EAAUqE,OACxDE,EAAMC,IAAWte,EAAAA,EAAAA,UACqB,QADbke,EAC9BL,GAAMtc,MAAMoC,IAAc,OAARmW,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,QAAS1a,EAAEE,aAAI,IAAAqa,EAAAA,EAAIL,GAAM,KAEjD,QAAEU,EAAO,WAAE/D,IAAeha,EAAAA,EAAAA,IAAoBC,GAAUA,KAE9DN,EAAAA,EAAAA,YAAU,KACI,OAAR2Z,QAAQ,IAARA,GAAAA,EAAUhU,IACZ0U,EAAWV,EAAShU,IAAK,CACvBqY,OACAE,KAAMA,EAAKxa,IACXkC,MAAM,IAGJoY,GACFI,EAAQ,CAAEJ,OAAME,KAAMA,EAAKxa,KAE/B,GACC,CAACsa,EAAME,IAUV,OACEzd,EAAAA,EAAAA,MAAA,OAAKxB,UAAWA,EAAUE,SAAA,EACxBK,EAAAA,EAAAA,KAACuY,GAAS,CAACd,YAAY,aAAajQ,MAAOgX,EAAM7V,SAV5BwC,IACvBsT,EAAQtT,EAAMsN,OAAOjR,MAAM,KAWzBxH,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAO8e,cAAclf,SAClCue,GAAMzb,KAAKqc,IACV9e,EAAAA,EAAAA,KAAA,OAEEmB,QAASA,IAZGud,KACpBC,EAAQD,EAAK,EAWUK,CAAaD,GAC5Brf,UAAWK,IAAGC,GAAO2e,KAAMI,EAAMrf,UAAW,CAC1C,CAACM,GAAOL,UAAWgf,EAAKnc,OAASuc,EAAMvc,OACtC5C,SAEFmf,EAAMvc,MANFuc,EAAMvc,YAqBb,ECvDV,GAzBoB/C,IAA6D,IAA5D,UAAEC,EAAS,KAAE+e,EAAI,gBAAE7U,GAAmCnK,EACzE,MAAM,WAAEqb,EAAU,WAAEmE,IAAene,EAAAA,EAAAA,IAAoBC,GAAUA,IAG3DmJ,GAFgBnK,IAAGC,GAAO8G,KAAMpH,GAErBwK,KACXuU,EAAKrY,MACP0U,EAAW2D,EAAKrY,IAAK,CAAEC,MAAM,IAC7BuD,GAAmBA,GAAgB,GACrC,GASF,OACE1I,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOkf,SAAU9d,QAAS8I,EAAStK,SAAA,EACjDK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOmf,aAAavf,SAAE6e,EAAKA,QAC3Cxe,EAAAA,EAAAA,KAACgK,EAAa,CAACb,OAAQc,EAAUb,SATlBc,KACbsU,EAAKrY,KACP6Y,EAAWR,EAAKrY,IAClB,MAOM,ECCV,GAtBsD3G,IAA2C,IAA1C,iBAAE2f,EAAgB,eAAEC,GAAgB5f,EACzF,MAAM4Q,GAAQvP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMsP,QAElD,OACEnP,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOsf,kBAAkB1f,SAAA,EACvCsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOgM,MAAMpM,SAAA,EAC3BK,EAAAA,EAAAA,KAAA,MAAIP,UAAWM,GAAOuf,UAAU3f,SAAC,gBAEjCK,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACE,OAAO,MAAMD,QAASge,EAAiBxf,SAAC,gBAKjDyQ,EAAM3N,KAAKiT,IACV1V,EAAAA,EAAAA,KAACuf,GAAW,CAAaf,KAAM9I,EAAG/L,gBAAiByV,GAAjC1J,EAAEvP,QAGtBnG,EAAAA,EAAAA,KAAC0D,EAAU,MACP,ECzBH,SAAS8b,GAAexL,GAAiD,IAADN,EAAAC,EAAA8L,EAAAC,EAAAC,EAC7E,OAAe,OAAR3L,QAAQ,IAARA,GAAoB,QAAZN,EAARM,EAAU9Q,kBAAU,IAAAwQ,GAAQ,QAARC,EAApBD,EAAsBS,cAAM,IAAAR,GAA6C,QAA7C8L,EAA5B9L,EAA8B/R,MAAMge,GAA+B,SAAd,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQxL,kBAAkB,IAAAqL,GAAY,QAAZC,EAAzED,EAA2Eza,MAAMhC,YAAI,IAAA0c,GAC9E,QAD8EC,EAArFD,EACHxc,kBAAU,IAAAyc,OADC,EAARA,EACS/b,QAAQic,MAAM3b,GAChC,CAQA,MAAM4b,G,QAAqBC,EAAmBC,WAC9CC,eAAeC,GAAc1gB,GAAgD,IAA/C,IAAE2gB,EAAG,QAAEC,EAAO,KAAEC,GAA4B7gB,EACxE,MAAM8gB,EAAaF,EAAUC,GAAQ,EAAI,EACzC,OAAOP,GAAmBS,kBAAkBJ,EAAK,CAC/CK,SAAU,GACVH,KAAMC,EACNG,MAAO,GAEX,CAmBO,MAAMC,GA6BXC,WAAAA,CAAWC,GAAsE,IAArE,QAAER,EAAO,YAAES,EAAW,KAAErC,EAAI,YAAEsC,GAAoCF,EAAA,KA5B9EG,YAAM,OACNC,SAAG,OACHC,mBAAa,OACbC,gBAAU,OAEVC,4BAAsB,OACtBC,yBAAmB,OACnBC,qBAAe,OACfC,kBAAY,OAEZC,mCAA6B,OAC7BC,gCAA0B,OAC1BC,4BAAsB,OACtBC,0BAAoB,OAEpBC,uBAAiB,OACjBC,oBAAc,OAEdxB,aAAO,OACPS,iBAAW,OACXC,iBAAW,OACXtC,UAAI,OAEJqD,kBAAY,OACZC,iBAAW,OACXC,cAAQ,OACRC,kBAAY,EAGVC,KAAK7B,QAAUA,EACf6B,KAAKpB,YAAcA,EACnBoB,KAAKnB,YAAcA,EACnBmB,KAAKzD,KAAOA,EAEZyD,KAAKF,SAAW,IAChBE,KAAKJ,aAAe,IACpBI,KAAKH,YAAc,KACnBG,KAAKD,aAAe,GAEpBC,KAAKlB,OAASrgB,SAASwhB,cAAc,UACrCD,KAAKlB,OAAOzb,OAAS2c,KAAKJ,aAC1BI,KAAKlB,OAAO9c,MAAQge,KAAKH,YACzBG,KAAKjB,IAAMiB,KAAKlB,OAAOoB,WAAW,MAElCF,KAAKhB,cAAgBvgB,SAASwhB,cAAc,UAC5CD,KAAKhB,cAAc3b,OAAS2c,KAAKJ,aACjCI,KAAKhB,cAAchd,MAAQge,KAAKH,YAChCG,KAAKf,WAAae,KAAKhB,cAAckB,WAAW,MAIhDF,KAAKd,uBAAyBzgB,SAASwhB,cAAc,UACrDD,KAAKd,uBAAuB7b,OAAS2c,KAAKJ,aAC1CI,KAAKd,uBAAuBld,MAAQge,KAAKH,YACzCG,KAAKb,oBAAsBa,KAAKd,uBAAuBgB,WACrD,MAGFF,KAAKZ,gBAAkB3gB,SAASwhB,cAAc,UAC9CD,KAAKZ,gBAAgB/b,OAAS2c,KAAKJ,aACnCI,KAAKZ,gBAAgBpd,MAAQge,KAAKH,YAClCG,KAAKX,aAAeW,KAAKZ,gBAAgBc,WAAW,MAEpDF,KAAKV,8BAAgC7gB,SAASwhB,cAAc,UAC5DD,KAAKV,8BAA8Bjc,OAAS2c,KAAKJ,aACjDI,KAAKV,8BAA8Btd,MAAQge,KAAKH,YAChDG,KAAKT,2BAA6BS,KAAKV,8BAA8BY,WACnE,MAGFF,KAAKR,uBAAyB/gB,SAASwhB,cAAc,UACrDD,KAAKR,uBAAuBnc,OAAS2c,KAAKJ,aAC1CI,KAAKR,uBAAuBxd,MAAQge,KAAKH,YACzCG,KAAKP,qBAAuBO,KAAKR,uBAAuBU,WACtD,MAIFF,KAAKN,kBAAoBjhB,SAASwhB,cAAc,UAChDD,KAAKN,kBAAkBrc,OAAS2c,KAAKJ,aACrCI,KAAKN,kBAAkB1d,MAAQge,KAAKH,YACpCG,KAAKL,eAAiBK,KAAKN,kBAAkBQ,WAAW,KAC1D,CAEOC,KAAAA,GAAS,IAADC,EAAAC,EACL,QAARD,EAAAJ,KAAKjB,WAAG,IAAAqB,GAARA,EAAUE,UAAU,EAAG,EAAGN,KAAKlB,OAAO9c,MAAOge,KAAKlB,OAAOzb,QAC1C,QAAfgd,EAAAL,KAAKf,kBAAU,IAAAoB,GAAfA,EAAiBC,UAAU,EAAG,EAAGN,KAAKlB,OAAO9c,MAAOge,KAAKlB,OAAOzb,OAClE,CACA,aAAakd,CAAQxB,EAA+Btb,GAClDsb,EAAIyB,UAAU/c,EAAK,EAAG,EAAGuc,KAAKlB,OAAO9c,MAAOge,KAAKlB,OAAOzb,OAC1D,CAEOod,cAAAA,CAAe3B,GACGrgB,SAASC,eAAe,eACJgiB,UAAY,EAMzD,CAEA,eAAaC,CAAU5B,EAA+Bb,GACpDa,EAAI6B,yBAA2B,kBACzBZ,KAAKO,QAAQxB,EAAKb,GACxBa,EAAI6B,yBAA2B,aACjC,CAEOC,eAAAA,CAAgB9B,GAChBiB,KAAKzD,OAEVwC,EAAItC,KAAI,GAAA7Z,OAAMod,KAAKF,SAAQ,eAC3Bf,EAAI+B,UAAY,SAChB/B,EAAIgC,SAASf,KAAKzD,KAAMyD,KAAKlB,OAAO9c,MAAQ,EAAGge,KAAKlB,OAAOzb,OAAS,EAAI,GAAK2c,KAAKF,SAAW,GAC/F,CAEOkB,sBAAAA,GACAhB,KAAKzD,OAEVyD,KAAKf,WAAWxC,KAAI,GAAA7Z,OAAMod,KAAKF,SAAQ,eACvCE,KAAKf,WAAW6B,UAAY,SAC5Bd,KAAKf,WAAWgC,UAAYjB,KAAKD,aACjCC,KAAKf,WAAWiC,WACdlB,KAAKzD,KACLyD,KAAKlB,OAAO9c,MAAQ,EACpBge,KAAKlB,OAAOzb,OAAS,EAAI,GAAK2c,KAAKF,SAAW,GAElD,CAEOqB,0BAAAA,CAA2BpC,GAC3BiB,KAAKzD,OAEVwC,EAAItC,KAAI,GAAA7Z,OAAMod,KAAKF,SAAQ,eAC3Bf,EAAI+B,UAAY,SAChB/B,EAAIkC,UAAY,GAChBlC,EAAIqC,UAAY,QAChBrC,EAAImC,WACFlB,KAAKzD,KACLyD,KAAKlB,OAAO9c,MAAQ,EACpBge,KAAKlB,OAAOzb,OAAS,EAAI,GAAK2c,KAAKF,SAAW,GAEhDf,EAAI6B,yBAA2B,kBAC/B7B,EAAIgC,SAASf,KAAKzD,KAAMyD,KAAKlB,OAAO9c,MAAQ,EAAGge,KAAKlB,OAAOzb,OAAS,EAAI,GAAK2c,KAAKF,SAAW,GAC7Ff,EAAI6B,yBAA2B,cACjC,CAEA,mBAAcS,CAAcC,GAG1B,GAFAtB,KAAKa,gBAAgBb,KAAKb,qBAEtBmC,EAAqB,CACvB,MAAMC,EAAUvB,KAAKb,oBAAoBqC,cAAcF,EAAqB,UAE5E,IAAKC,EAAS,OAEdvB,KAAKb,oBAAoByB,yBAA2B,YACpDZ,KAAKb,oBAAoBsC,KAAK,EAAG,EAAGzB,KAAKH,YAAaG,KAAKJ,cAC3DI,KAAKb,oBAAoBiC,UAAYG,EACrCvB,KAAKb,oBAAoB7K,OACzB0L,KAAKb,oBAAoByB,yBAA2B,aACtD,CAEA9F,QAAQC,IAAI,cAAeiF,KAAKpB,aAChC,MAAM8C,EAAY1B,KAAKpB,kBACbX,GAAe,CACnBC,IAAK8B,KAAKd,uBACVf,QAAS6B,KAAK7B,UAEhB6B,KAAKd,uBAETc,KAAKX,aAAamB,UAAUkB,EAAW,EAAG,EAC5C,CAEA,0BAAcC,CAAqBL,GAGjC,GAFAtB,KAAKmB,2BAA2BnB,KAAKT,4BAEjC+B,EAAqB,CACvB,MAAMC,EAAUvB,KAAKT,2BAA2BiC,cAAcF,EAAqB,UAEnF,IAAKC,EAAS,OAEdvB,KAAKT,2BAA2BqB,yBAA2B,YAC3DZ,KAAKT,2BAA2BkC,KAAK,EAAG,EAAGzB,KAAKH,YAAaG,KAAKJ,cACzC,aAArBI,KAAKnB,cACPmB,KAAKT,2BAA2B6B,UAAYG,GAE9CvB,KAAKT,2BAA2BjL,OAChC0L,KAAKT,2BAA2BqB,yBAA2B,aAC7D,CAEA,MAAMc,EACJ1B,KAAKpB,aAAoC,aAArBoB,KAAKnB,kBACfZ,GAAe,CACnBC,IAAK8B,KAAKV,8BACVnB,QAA8B,aAArB6B,KAAKnB,aAAoCmB,KAAK7B,QACvDC,KAAM,IAER4B,KAAKV,8BACXU,KAAKP,qBAAqBe,UAAUkB,EAAW,EAAG,EACpD,CAEQE,uBAAAA,GACN5B,KAAKX,aAAauB,yBAA2B,iBAC7CZ,KAAKX,aAAamB,UAAUR,KAAKd,uBAAwB,EAAG,GAC5Dc,KAAKX,aAAauB,yBAA2B,cAC7CZ,KAAKP,qBAAqBe,UAAUR,KAAKZ,gBAAiB,EAAG,EAC/D,CAEA,iBAAayC,CAAWC,GAMP,IANQ,SACvB/P,EAAQ,QACR6I,EAAO,WACPmH,EAAU,oBACVT,EAAmB,YACnBU,GACYF,EACZ,GAAK9B,KAAKzD,OAEVyD,KAAKG,QACLH,KAAKS,eAAeT,KAAKd,8BAEnBc,KAAKqB,cAAcC,SACnBtB,KAAK2B,qBAAqBL,GAEhCtB,KAAK4B,0BAEDhH,IACFoF,KAAKgB,+BACChB,KAAKW,UAAUX,KAAKf,WAAYrE,IAGxCoF,KAAKa,gBAAgBb,KAAKjB,KAEtBhN,SACIiO,KAAKW,UAAUX,KAAKjB,IAAKhN,GAGjCiO,KAAKf,WAAWuB,UAAUR,KAAKlB,OAAQ,EAAG,GAC1CiD,EAAWte,IAAMuc,KAAKhB,cAAciD,YAIhCD,GAAa,CACf,MAAMT,EAAUvB,KAAKL,eAAe6B,cAAcQ,EAAa,UAE3DT,IACFvB,KAAKL,eAAe8B,KAAK,EAAG,EAAGzB,KAAKH,YAAaG,KAAKJ,cACtDI,KAAKL,eAAeyB,UAAYG,EAChCvB,KAAKL,eAAerL,OAExB,CACF,CAEO4N,WAAAA,GACLlC,KAAKf,WAAWuB,UAAUR,KAAKlB,OAAQ,EAAG,EAC5C,CAEAqD,gBAAAA,GACE,OAAOnC,KAAKhB,aACd,CACAoD,yBAAAA,GACE,OAAOpC,KAAKd,sBACd,CACAmD,yBAAAA,GACE,OAAOrC,KAAKR,sBACd,CAEA8C,oBAAAA,GACE,OAAOtC,KAAKN,iBACd,E,eCtSF1B,eAAeuE,GAAU9e,GACvB,OAAO,IAAI+e,SAAQ,CAACC,EAASC,KAC3B,MAAMxE,EAAM,IAAI9Z,MACXX,GAAKgf,EAAQvE,GAClBA,EAAIyE,YAAc,YAClBzE,EAAI0E,OAAS,IAAMH,EAAQvE,GAC3BA,EAAI2E,QAAUH,EACdxE,EAAIza,IAAMA,CAAG,GAEjB,CAeA,MAsIA,GAtIuBkb,IAAuC,IAADmE,EAAA,IAArC,SAAE5K,GAA8ByG,EACtD,MAAMoE,GAAgBzkB,EAAAA,EAAAA,QAAgC,OAC/C0kB,EAAYC,IAAiB7kB,EAAAA,EAAAA,UAAqC,OAAR8Z,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,OACpEyG,EAAkBC,IAAuB/kB,EAAAA,EAAAA,WAAS,GAEnDglB,IAA+B,OAARlL,QAAQ,IAARA,IAAAA,EAAUI,cACjC+K,EAAmD,OAAvB,OAARnL,QAAQ,IAARA,GAAsB,QAAd4K,EAAR5K,EAAUC,oBAAY,IAAA2K,OAAd,EAARA,EAAwB7kB,IAC5CkgB,IAA2B,OAARjG,QAAQ,IAARA,IAAAA,EAAUO,WAAc2K,GAC3CxE,GAAcwE,EACdvE,EAtBR,SAAuBthB,GAMN,IANO,YACtB6lB,EAAW,SACXC,GAID9lB,EACC,OAAK6lB,GAAeC,EAAiB,aAC5BD,EAAoB,WAEtB,EACT,CAWsBE,CAAe,CAAEF,cAAaC,cAE5C,WAAEzK,IAAeha,EAAAA,EAAAA,KAEjBP,EAAYL,EAAa,kBAKzBulB,GAAkBrgB,EAAAA,EAAAA,UAAmC,IAClDqf,GAAUhF,GAAuB,OAARrF,QAAQ,IAARA,OAAQ,EAARA,EAAUnG,YACzC,CAAS,OAARmG,QAAQ,IAARA,OAAQ,EAARA,EAAUnG,WACRyR,GAAiBtgB,EAAAA,EAAAA,UAAmC,IACjDqf,GAAUhF,GAAuB,OAARrF,QAAQ,IAARA,OAAQ,EAARA,EAAU0C,WACzC,CAAS,OAAR1C,QAAQ,IAARA,OAAQ,EAARA,EAAU0C,UACR6I,GAAuBvgB,EAAAA,EAAAA,UAAmC,IACvDqf,GAAU,yCAChB,IACGmB,GAA0BxgB,EAAAA,EAAAA,UAAmC,IAO1Dqf,GAAU,oBAChB,IACGoB,GAA4BzgB,EAAAA,EAAAA,UAAmC,IAC5Dqf,GAAU,6BAChB,IAkEH,OAhEAhkB,EAAAA,EAAAA,YAAU,KACR,MAAMqlB,EAAgBb,EAAcvkB,QAEpC,WACE,MAAMqlB,EAAa,IAAIpF,GAAW,CAChCN,UACAS,cACAC,cACAtC,KAAc,OAARrE,QAAQ,IAARA,OAAQ,EAARA,EAAUqE,OAGlB,IAAKrE,IAAaA,EAAShU,MAAQgf,EAEjC,YADAW,EAAW1D,QAIb,IAAKjI,EAASqE,KAKZ,OAJAsH,EAAW1D,aACXvH,EAAWV,EAAShU,IAAK,CACvB4f,QAAS,IAAIC,GAAAA,cAAcF,EAAW1B,sBAMtCa,KAAuB,OAAR9K,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,QAC3BwG,EAAsB,OAAR/K,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,YAjGhCuB,eAAyBgG,GACvB,MAAMvH,EAAO,IAAIwH,SAAS,WAAW,OAADrhB,OAASohB,EAAO,YAC9CvH,EAAKyH,OACXzlB,SAASwd,MAAMnD,IAAI2D,EACrB,CA8Fc0H,CAAkB,OAARjM,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,OAG5B,MAAMyB,GAAc,OAARhG,QAAQ,IAARA,OAAQ,EAARA,EAAUnG,iBAAmBwR,EACnCa,GAAqB,OAARlM,QAAQ,IAARA,OAAQ,EAARA,EAAU0C,gBAAkB4I,EACzCa,QAA0BZ,EAC1Ba,QAAyBZ,EACzBa,QAA2BZ,EAI3Ba,EADmBnB,IAAalF,IACEiF,EAAckB,EAAmBD,SAEnER,EAAWhC,YAAY,CAC3B9P,SAAUmM,EACVtD,QAASwJ,EACTrC,WAAY6B,EACZtC,oBAAqBkD,EACrBxC,YAAauC,IAGf3L,EAAWV,EAAShU,IAAK,CACvB4f,QAAS,IAAIC,GAAAA,cAAcF,EAAW1B,oBACtCT,UAAW,IAAIqC,GAAAA,cAAcF,EAAWxB,6BACxCL,YAAa,IAAI+B,GAAAA,cAAcF,EAAWvB,yBAE7C,EAlDD,EAkDI,GACH,CACO,OAARpK,QAAQ,IAARA,OAAQ,EAARA,EAAUqE,KACF,OAARrE,QAAQ,IAARA,OAAQ,EAARA,EAAUnG,SACF,OAARmG,QAAQ,IAARA,OAAQ,EAARA,EAAU0C,QACF,OAAR1C,QAAQ,IAARA,OAAQ,EAARA,EAAUuE,KACVyG,EACQ,OAARhL,QAAQ,IAARA,OAAQ,EAARA,EAAUO,UACF,OAARP,QAAQ,IAARA,OAAQ,EAARA,EAAUI,eAGPja,GAIEyH,EAAAA,EAAAA,eACL9G,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAArC,SAAA,EACEK,EAAAA,EAAAA,KAAA,OAAKE,GAAG,cAAcqF,MAAO,CAAEmhB,SAAU,WAAYC,OAAQ,UAC7D3mB,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAO6mB,YAAYjnB,SACvB,OAARwa,QAAQ,IAARA,GAAAA,EAAUqE,MAGVxe,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEK,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAO8mB,0BAA0BlnB,UAC/CK,EAAAA,EAAAA,KAAA,OACEsF,OAAQ,GACRrB,MAAO,IACP6iB,IAAMC,IACJ/B,EAAcvkB,QAAUsmB,EACxB3B,IAAsB2B,EAAG,SATjC/mB,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAOinB,OAAOrnB,SAAC,oCAiBrCW,GAzBO,IA0BR,ECzBH,GAtIgB2mB,KACd,MAAOhgB,EAAMigB,IAAW7mB,EAAAA,EAAAA,UAA6B,GAE/C+P,GAAQvP,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMsP,QAC5CyK,GAAaha,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM+Z,aACjDV,GAAWhV,EAAAA,EAAAA,UAAQ,IAAW,OAALiL,QAAK,IAALA,OAAK,EAALA,EAAOxO,MAAMwI,GAAMA,EAAEhE,QAAO,CAACgK,KACrD/F,EAAcV,IAAmBtJ,EAAAA,EAAAA,eAA2BiP,KAAV,OAAR6K,QAAQ,IAARA,OAAQ,EAARA,EAAUhU,OAE3D3F,EAAAA,EAAAA,YAAU,KACI,OAAR2Z,QAAQ,IAARA,GAAAA,EAAUhU,IACZwD,GAAgB,GAEhBA,GAAgB,EAClB,GACC,CAACwQ,IAEJ,MA6BMV,EAAoB0N,IAEtBD,EADEC,IAAUlgB,OACJqI,EAEA6X,EACV,EAqBF,OACEnnB,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,SACG0K,GACCpJ,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOqnB,YAAYznB,SAAA,EACjCK,EAAAA,EAAAA,KAACqnB,GAAc,CAAClN,SAAUA,KAC1Bna,EAAAA,EAAAA,KAACsnB,GAAS,CACRrgB,KAAM,EACN8E,MAAM,gBACNuN,YAAiB,OAAJrS,QAAI,IAAJA,EAAAA,GAAS,EACtBsS,aAAcE,EAAiB9Z,UAE/BK,EAAAA,EAAAA,KAACunB,GAAa,CAACpN,SAAUA,OAE3Bna,EAAAA,EAAAA,KAACsnB,GAAS,CACRrgB,KAAM,EACN8E,MAAM,aACNuN,YAAiB,OAAJrS,QAAI,IAAJA,EAAAA,GAAS,EACtBsS,aAAcE,EAAiB9Z,UAE/BK,EAAAA,EAAAA,KAACwnB,GAAgB,CAACrN,SAAUA,OAE9Bna,EAAAA,EAAAA,KAACsnB,GAAS,CACRrgB,KAAM,EACN8E,MAAM,SACNuN,YAAiB,OAAJrS,QAAI,IAAJA,EAAAA,GAAS,EACtBsS,aAAcE,EAAiB9Z,UAE/BK,EAAAA,EAAAA,KAACynB,GAAa,CAACtN,SAAUA,OAG3Bna,EAAAA,EAAAA,KAACsnB,GAAS,CACRrgB,KAAM,EACN8E,MAAM,UACNuN,YAAiB,OAAJrS,QAAI,IAAJA,EAAAA,GAAS,EACtBsS,aAAcE,EAAiB9Z,UAE/BK,EAAAA,EAAAA,KAAC0nB,GAAc,CAACvN,SAAUA,OAG5Bna,EAAAA,EAAAA,KAAC2nB,GAAc,CACb1gB,KAAMA,EACNyS,QAASA,EACTC,OA1DSiO,UACJtY,IAATrI,EACFigB,EAAQ,GACCjgB,EAAOyS,GAChBwN,EAAQjgB,EAAO,EACjB,EAsDQ2S,WAnDaiO,UACRvY,IAATrI,EACFigB,EAAQ,GACCjgB,EAAO,GAChBigB,EAAQjgB,EAAO,EACjB,EA+CQiC,QAnFQ4e,KACJ,OAAR3N,QAAQ,IAARA,GAAAA,EAAUhU,KACZ0U,EAAWV,EAAShU,IAAK,CACvB0F,aAAa,EACbzF,MAAM,IAIV8gB,EAAQ,GAERvd,GAAgB,EAAM,KA4EhB3J,EAAAA,EAAAA,KAAC+K,EAAc,CACbxE,MAAe,OAAR4T,QAAQ,IAARA,OAAQ,EAARA,EAAUnP,WACjBxE,SAAkB,OAAR2T,QAAQ,IAARA,OAAQ,EAARA,EAAUlP,cACpBvE,QArGQyE,KAChBO,EAAAA,EAAAA,kBAAgB,KACF,OAARyO,QAAQ,IAARA,GAAAA,EAAUhU,KAAK0U,EAAWV,EAAShU,IAAK,CAAE6E,WAAYnD,OAAOsD,IAAS,GAC1E,EAmGMxE,SAhGWwE,KACnBO,EAAAA,EAAAA,kBAAgB,KACF,OAARyO,QAAQ,IAARA,GAAAA,EAAUhU,KAAK0U,EAAWV,EAAShU,IAAK,CAAE8E,cAAepD,OAAOsD,IAAS,GAC7E,QAiGEnL,EAAAA,EAAAA,KAAAgC,EAAAA,SAAA,CAAArC,UACEK,EAAAA,EAAAA,KAAC+nB,GAAiB,CAAC5I,iBA/GXP,KACdjV,GAAgB,EAAK,OAiHlB,EC/IP,IAAgB,KAAO,4BAA4B,KAAO,4BAA4B,aAAe,oCAAoC,UAAY,iCAAiC,QAAU,+BAA+B,QAAU,+BAA+B,YAAc,mCAAmC,WAAa,mCCyHtU,GAtGsBnK,IAAwC,IAAvC,UAAEC,GAA+BD,EACtD,MAAO4M,EAAQ4b,IAAa3nB,EAAAA,EAAAA,WAAS,IAC9BgM,EAAa4b,IAAkB5nB,EAAAA,EAAAA,WAAS,IAEzC,aAAE8U,EAAY,YAAE7I,EAAW,MAAE8D,IAAUvP,EAAAA,EAAAA,KAEvCsZ,GAAWhV,EAAAA,EAAAA,UAAQ,IAAW,OAALiL,QAAK,IAALA,OAAK,EAALA,EAAOxO,MAAMwI,GAAMA,EAAEhE,QAAO,CAACgK,IACtD8X,GAAe/iB,EAAAA,EAAAA,UACnB,IAA4B,UAAX,OAAXmH,QAAW,IAAXA,OAAW,EAAXA,EAAa/J,OAAmB4X,GACtC,CAAC7N,EAAa6N,IAGVta,EAAgBC,IACpBC,GAAO8G,KACP,CACE,CAAC9G,GAAOooB,MAAO/b,EACf,CAACrM,GAAOqoB,WAAY/b,EACpB,CAACtM,GAAOsoB,YAAwB,OAAX/b,QAAW,IAAXA,OAAW,EAAXA,EAAa+b,WAClC,CAACtoB,GAAOmoB,cAAeA,GAEzBzoB,GAGI6oB,EAAaA,IAAMN,GAAW5b,GAWpC,OATA5L,EAAAA,EAAAA,YAAU,KACY,OAAhB8L,GAAyC,OAAjB6I,EAC1B6S,GAAU,IAEVA,GAAU,GACVC,GAAe,GACjB,GACC,CAAC9S,EAAc7I,KAGhBrL,EAAAA,EAAAA,MAACgB,EAAAA,EAAOsmB,IAAG,CACTC,OAAO,kBACPC,WAAY,CACVjY,KAAM,SACNkY,UAAW,IACXC,QAAS,IAEXlpB,UAAWI,EAAcF,SAAA,EASzBK,EAAAA,EAAAA,KAAC4oB,GAAS,CACRnpB,UAAWM,GAAO8oB,OAClB1c,OAAQA,IAAMmc,IACdlc,OAAQA,EACRjL,QAASA,KACP8mB,GAAgB5b,EAAY,EAE9BA,YAAaA,KAEfrM,EAAAA,EAAAA,KAAA,OAAKE,GAAG,iBAAiBT,UAAWM,GAAO+oB,eAC3C9oB,EAAAA,EAAAA,KAACsX,EAAAA,SAAQ,CAACC,UAAUvX,EAAAA,EAAAA,KAAA,OAAAL,SAAK,eAAiBA,UACxCK,EAAAA,EAAAA,KAAC+oB,EAAAA,EAAe,CAAC5mB,SAAS,EAAMxC,UAC9BK,EAAAA,EAAAA,KAACiC,EAAAA,EAAOC,IAAG,CACThC,GAAG,aACHT,UAAWM,GAAOipB,QAClB7mB,QAAQ,YACRE,QAAQ,OACRC,KAAK,YACL2mB,SAAU,CACRd,KAAM,CAAE/lB,QAAS,GACjB8mB,UAAW,CAAE9mB,QAAS,IACtBzC,SAEDyM,GACCpM,EAAAA,EAAAA,KAACmpB,GAAU,CAAChd,OAAQA,IAAMmc,MACF,aAAX,OAAXhc,QAAW,IAAXA,OAAW,EAAXA,EAAakE,OACfxQ,EAAAA,EAAAA,KAACmD,EAAU,IACa,WAAX,OAAXmJ,QAAW,IAAXA,OAAW,EAAXA,EAAakE,OACfxQ,EAAAA,EAAAA,KAACinB,GAAO,IACgB,WAAX,OAAX3a,QAAW,IAAXA,OAAW,EAAXA,EAAakE,OACfxQ,EAAAA,EAAAA,KAACmK,EAAQ,IACe,YAAX,OAAXmC,QAAW,IAAXA,OAAW,EAAXA,EAAakE,OACfxQ,EAAAA,EAAAA,KAACwP,GAAS,IACc,UAAX,OAAXlD,QAAW,IAAXA,OAAW,EAAXA,EAAakE,OACfxQ,EAAAA,EAAAA,KAACopB,GAAO,IACNjU,GACFnV,EAAAA,EAAAA,KAACqpB,GAAO,CAAC5Y,KAAM0E,IACb,YAIR/I,IAAqB,OAAXE,QAAW,IAAXA,OAAW,EAAXA,EAAa+b,cACvBpnB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAOupB,QAAQ3pB,SAAA,CAC5BwV,IAAgBnV,EAAAA,EAAAA,KAAA,OAAKE,GAAG,2BACzBF,EAAAA,EAAAA,KAAA,OAAKE,GAAG,8BAGD,E,eCrHjB,SAAuB,qBAAvB,GAAoD,sBAApD,GAAkF,sBCkClF,GAvBeV,IAAiC,IAAhC,UAAEC,GAAwBD,EACxC,MAAMK,EAAgBC,IAAGC,GAAaN,GAChC8pB,GAAQ1oB,EAAAA,EAAAA,IAAoBC,GAAUA,EAAMyoB,UAC5CC,GAAiB3oB,EAAAA,EAAAA,IAAoBC,GAAUA,EAAM0oB,mBACrDC,GAAiBC,EAAAA,GAAAA,IAAgB5oB,GAAUA,EAAM2oB,iBACjDE,GAAeD,EAAAA,GAAAA,IAAgB5oB,GAAUA,EAAM6oB,eAMrD,OACE1oB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BsB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWM,GAAaJ,SAAA,CAAC,YACpBK,EAAAA,EAAAA,KAAC6b,GAAK,CAACpc,UAAWM,GAAc8Z,YAAa0P,QAEvDvpB,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACC,QATOyoB,KACjBH,GAAgB,EAQexgB,UAAWugB,GAAkBG,EAAahqB,SACpEgqB,EAAe,SAAW,oBAEzB,EC9BV,GAAuB,yBAAvB,GAAsD,wBAAtD,GAAsF,0BAAtF,GAA2H,6BAA3H,GAAqK,+BAArK,GAA8M,4BAA9M,GAAmP,2BAAnP,GAAsR,0BCMhRE,IAAmBC,EAAAA,EAAAA,OAAK,IAAM,wDA+DpC,GAtDmBtqB,IAAqC,IAApC,UAAEC,GAA4BD,EAChD,MAAMuqB,GAAUL,EAAAA,GAAAA,IAAgB5oB,GAAUA,EAAMipB,WAC1C,YAAEzd,IAAgBzL,EAAAA,EAAAA,KAElBhB,EAAgBC,IAAGC,GAAaN,EAAW,CAC/C,GAGF,OACEwB,EAAAA,EAAAA,MAAA,OAAKxB,UAAWI,EAAcF,SAAA,EAC5BK,EAAAA,EAAAA,KAAA,OACEE,GAAG,iBACHqF,MAAO,CAELmhB,SAAU,WACVC,OAAQ,UAGZ3mB,EAAAA,EAAAA,KAACgqB,GAAa,CAACvqB,UAAWM,MAC1BC,EAAAA,EAAAA,KAACiqB,GAAM,CAACxqB,UAAWM,MACnBkB,EAAAA,EAAAA,MAAA,OACExB,UAAWM,GACXsJ,MAAM,6BACNC,QAAQ,qBAAoB3J,SAAA,EAE5BK,EAAAA,EAAAA,KAAA,QAAAL,UACEK,EAAAA,EAAAA,KAAA,YAAUE,GAAG,IAAGP,UACdK,EAAAA,EAAAA,KAAA,QAAMuJ,EAAE,gCAGZtI,EAAAA,EAAAA,MAAA,KAAGipB,SAAS,UAAUC,SAAS,UAASxqB,SAAA,EACtCK,EAAAA,EAAAA,KAAA,QACEuW,KAAK,UACLhN,EAAE,kyGAEJvJ,EAAAA,EAAAA,KAAA,QACEuW,KAAK,UACLhN,EAAE,4uEAIRvJ,EAAAA,EAAAA,KAAA,OAAKE,GAAG,2BAA2BT,UAAWM,MAC9CC,EAAAA,EAAAA,KAACsX,EAAAA,SAAQ,CAACC,UAAUvX,EAAAA,EAAAA,KAAA,OAAKP,UAAWM,GAAeJ,SAAC,gBAAkBA,UACpEK,EAAAA,EAAAA,KAAC6pB,GAAgB,CAACpqB,UAAWM,OAEd,OAAhBuM,IACCtM,EAAAA,EAAAA,KAACkB,EAAAA,EAAM,CAACzB,UAAWM,GAAcoB,QAASA,IAAM4oB,GAAQ,GAAOpqB,SAAC,YAI9D,C","sources":["webpack://boxxerworld-customiser/./src/components/ui/OptionButton/OptionButton.module.scss?2035","components/ui/OptionButton/OptionButton.tsx","hooks/useHydration/useHydration.ts","hooks/usePortalRef/usePortalRef.ts","webpack://boxxerworld-customiser/./src/components/nav/NavButtons/NavButtons.module.scss?b4ae","components/nav/NavButtons/NavButtons.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavFitting/NavFitting.module.scss?96df","components/nav/NavFitting/NavFitting.tsx","components/ui/Image/getSrcSets.ts","webpack://boxxerworld-customiser/./src/components/ui/Image/Image.module.scss?e41e","components/ui/Image/Image.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavFlags/NavFlags.module.scss?2098","components/nav/NavFlags/NavFlagsSelect.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavDecalAdjust/NavDecalAdjust.module.scss?c425","components/nav/NavDecalAdjust/NavDecalAdjust.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavEditButtons/NavEditButtons.module.scss?6ae0","components/nav/NavEditButtons/NavEditButtons.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavOptionEdit/NavOptionEdit.module.scss?d15e","components/nav/NavOptionEdit/NavOptionEdit.tsx","components/nav/NavFlags/NavFlagsFlag.tsx","components/nav/NavFlags/NavFlags.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavHeader/NavHeader.module.scss?a403","webpack://boxxerworld-customiser/./src/components/ui/InfoButton/InfoButton.module.scss?0cd7","components/ui/InfoButton/InfoButton.tsx","components/nav/NavHeader/NavHeader.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavImages/NavImages.module.scss?0415","components/nav/NavImages/NavImagesImage.tsx","components/nav/NavImages/NavImagesUpload.tsx","components/nav/NavImages/NavImagesSelect.tsx","components/nav/NavImages/NavImages.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavOptions/NavOptions.module.scss?6b01","components/nav/NavOptions/NavOptions.tsx","webpack://boxxerworld-customiser/./src/components/ui/PillButton/PillButton.module.scss?5c47","components/ui/PillButton/PillButton.tsx","webpack://boxxerworld-customiser/./src/components/nav/MaterialGroup/MaterialGroup.module.scss?bec8","components/nav/MaterialGroup/MaterialGroupState.ts","components/nav/MaterialGroup/Material.tsx","components/nav/MaterialGroup/MaterialType.tsx","webpack://boxxerworld-customiser/./src/components/nav/MaterialGroup/SelectedMaterialInfo.module.scss?ad46","components/nav/MaterialGroup/SelectedMaterialInfo.tsx","components/nav/MaterialGroup/MaterialGroup.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavPart/NavPart.module.scss?e3f3","components/nav/NavPart/NavPart.tsx","webpack://boxxerworld-customiser/./src/components/ui/FormInput/FormInput.module.scss?a3cb","components/ui/FormInput/FormInput.tsx","webpack://boxxerworld-customiser/./src/components/ui/FormSelect/FormSelect.module.scss?5df1","components/ui/FormSelect/FormSelect.tsx","services/size.ts","webpack://boxxerworld-customiser/./src/components/nav/NavSize/NavSize.module.scss?68ae","components/nav/NavSize/NavSize.tsx","webpack://boxxerworld-customiser/./src/components/ui/Accordion/Accordion.module.scss?bd05","components/ui/Accordion/Accordion.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavStepButtons/NavStepButtons.module.scss?5fac","components/nav/NavStepButtons/NavStepButtons.tsx","webpack://boxxerworld-customiser/./src/components/nav/NavText/NavText.module.scss?7ead","components/ui/Price/Price.module.scss","components/ui/Price/Price.tsx","components/nav/NavText/NavTextFinish.tsx","components/nav/NavText/NavTextNameTypes.tsx","components/nav/NavText/NavTextOutline.tsx","components/nav/NavText/NavTextSelect.tsx","components/nav/NavText/NavTextText.tsx","components/nav/NavText/NavTextsSelection.tsx","lib/canvas.ts","components/nav/NavText/NavTextPreview.tsx","components/nav/NavText/NavText.tsx","webpack://boxxerworld-customiser/./src/components/nav/CustomiserNav/CustomiserNav.module.scss?394a","components/nav/CustomiserNav/CustomiserNav.tsx","webpack://boxxerworld-customiser/./src/components/layout/Header/Header.module.scss?47aa","components/layout/Header/Header.tsx","webpack://boxxerworld-customiser/./src/components/layout/Customiser/Customiser.module.scss?e94f","components/layout/Customiser/Customiser.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"OptionButton_root__M63xT\",\"selected\":\"OptionButton_selected__Mea42\"};","import cn from 'classnames';\r\nimport { ButtonHTMLAttributes } from 'react';\r\n\r\nimport styles from './OptionButton.module.scss';\r\n\r\nexport interface OptionButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  className?: string;\r\n  selected?: boolean;\r\n}\r\n\r\nconst OptionButton = ({ className, selected, children, ...rest }: OptionButtonProps) => {\r\n  const rootClassName = cn(\r\n    styles.root,\r\n    {\r\n      [styles.selected]: selected,\r\n    },\r\n    className,\r\n  );\r\n  return (\r\n    <button className={rootClassName} {...rest}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default OptionButton;\r\n","import { useCustomiserStore } from '@store/customiser';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport const useHydration = () => {\r\n  const [hydrated, setHydrated] = useState(useCustomiserStore.persist.hasHydrated);\r\n\r\n  useEffect(() => {\r\n    const unsubHydrate = useCustomiserStore.persist.onHydrate(() => setHydrated(false)); // Note: this is just in case you want to take into account manual rehydrations. You can remove this if you don't need it/don't want it.\r\n    const unsubFinishHydration = useCustomiserStore.persist.onFinishHydration(() =>\r\n      setHydrated(true),\r\n    );\r\n\r\n    setHydrated(useCustomiserStore.persist.hasHydrated());\r\n\r\n    return () => {\r\n      unsubHydrate();\r\n      unsubFinishHydration();\r\n    };\r\n  }, []);\r\n\r\n  return hydrated;\r\n};\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\nexport const usePortalRef = (id: string) => {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const portalRef = useRef<HTMLElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      portalRef.current = document.getElementById(id);\r\n      if (portalRef.current) {\r\n        setLoaded(true);\r\n      }\r\n    }\r\n  }, [id, loaded]);\r\n\r\n  return loaded ? portalRef.current : null;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavButtons_root__ON-jJ\"};","import Button from '@components/ui/Button';\r\nimport { usePortalRef } from '@hooks';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport styles from './NavButtons.module.scss';\r\n\r\nexport interface NavButtonsProps {\r\n  className?: string;\r\n}\r\n\r\nconst NavButtons = ({ className }: NavButtonsProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const cancelPartChange = useCustomiserStore((state) => state.cancelPartChange);\r\n  const resetNav = useCustomiserStore((state) => state.resetNav);\r\n  const portalRef = usePortalRef('CustomiserNavActions');\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className={rootClassName}>\r\n      <Button onClick={() => cancelPartChange()}>Cancel</Button>\r\n      <Button colour='red' onClick={() => resetNav()}>\r\n        Save\r\n      </Button>\r\n    </div>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavButtons;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"fittingOption\":\"NavFitting_fittingOption__XQUUG\",\"fittingButtons\":\"NavFitting_fittingButtons__Y1hdd\"};","import OptionButton from '@components/ui/OptionButton';\r\nimport { CustomProductOptionFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport { motion } from 'framer-motion';\r\nimport NavButtons from '../NavButtons';\r\nimport styles from './NavFitting.module.scss';\r\n\r\nexport interface FittingOptionProps {\r\n  option: CustomProductOptionFragment;\r\n}\r\n\r\nconst FittingOption = ({ option }: FittingOptionProps) => {\r\n  const selectedModels = useCustomiserStore((state) => state.selectedModels);\r\n  const setSelectedModel = useCustomiserStore((state) => state.setSelectedModel);\r\n\r\n  if (!option) {\r\n    return null;\r\n  }\r\n\r\n  const getSelected = selectedModels.find((m) => m.optionId === option.id)?.model;\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className={styles.fittingOption}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <h3>{option.name}</h3>\r\n        <div className={styles.fittingButtons}>\r\n          {option.models?.map((m) => (\r\n            <OptionButton\r\n              key={m?.id}\r\n              selected={getSelected?.id === m?.model?.data?.id}\r\n              onClick={() => setSelectedModel(option.id, m?.model?.data)}\r\n            >\r\n              {m?.model?.data?.attributes?.name}\r\n            </OptionButton>\r\n          ))}\r\n        </div>\r\n      </motion.div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst NavFitting = () => {\r\n  const fittingOptions = useCustomiserStore(\r\n    (state) => state.customProduct?.attributes?.options,\r\n  ) as Array<CustomProductOptionFragment>;\r\n\r\n  return (\r\n    <>\r\n      {fittingOptions?.map((o) => (\r\n        <FittingOption key={o?.id} option={o} />\r\n      ))}\r\n      <NavButtons />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavFitting;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Formats } from './types';\r\n\r\nfunction getSrcSet(formats: Formats): string | null {\r\n  if (!formats) return null;\r\n\r\n  const fff = Object.entries(formats)\r\n    .map((f) => {\r\n      return f[1]\r\n        ? {\r\n            width: f[1].width,\r\n            url: f[1].url,\r\n          }\r\n        : null;\r\n    })\r\n    .filter((format) => format);\r\n\r\n  return !fff.length\r\n    ? null\r\n    : fff\r\n        .sort((a, b) => {\r\n          if (a?.width && b?.width && a.width < b.width) return -1;\r\n          if (a?.width && b?.width && a.width > b.width) return 1;\r\n          return 0;\r\n        })\r\n        .reduce((acc: any, current: any, index: number, array: any) => {\r\n          return acc + `${current.url} ${current.width}w${index < array.length - 1 ? ', ' : ''}`;\r\n        }, '');\r\n}\r\n\r\nexport default function getSrcSets(formats: Formats): string | null {\r\n  return getSrcSet(formats);\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Image_root__u7aDb\"};","import { ImageFragment, Maybe } from '@graphql/generated/graphql';\r\nimport cn from 'classnames';\r\nimport { CSSProperties, useMemo } from 'react';\r\nimport getSrcSets from './getSrcSets';\r\n\r\nimport styles from './Image.module.scss';\r\n\r\nexport interface ImageProps {\r\n  className?: string;\r\n  image?: Maybe<ImageFragment>;\r\n  sizes?: string;\r\n}\r\n\r\nconst Image = ({ className, image, sizes }: ImageProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n\r\n  if (!image) {\r\n    return null;\r\n  }\r\n\r\n  const relativeHeight = useMemo(() => {\r\n    if (image.attributes?.height && image.attributes?.width) {\r\n      return (image.attributes.height / image.attributes.width) * 100;\r\n    }\r\n    return 100;\r\n  }, [image]);\r\n\r\n  const style = { '--image-padding-top': `${relativeHeight}%` } as CSSProperties;\r\n\r\n  const srcSet = useMemo(() => getSrcSets(image.attributes?.formats), [image]);\r\n\r\n  return (\r\n    <div className={rootClassName} style={style}>\r\n      {srcSet && (\r\n        <img src={image.attributes?.url} srcSet={srcSet} sizes={sizes ? sizes : '100vw'} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"flags\":\"NavFlags_flags__S52CT\",\"flag\":\"NavFlags_flag__gtrVs\",\"flagItem\":\"NavFlags_flagItem__rI7sv\",\"flagItemImage\":\"NavFlags_flagItemImage__6ov2x\"};","import Image from '@components/ui/Image';\r\nimport { FlagFragment } from '@graphql/generated/graphql';\r\nimport { FlagCustomiser, useCustomiserStore } from '@store/customiser';\r\n\r\nimport styles from './NavFlags.module.scss';\r\n\r\nexport interface NavFlagsSelectProps {\r\n  editFlag?: FlagCustomiser;\r\n  flags: FlagFragment[];\r\n}\r\n\r\nexport const NavFlagsSelect = ({ editFlag, flags }: NavFlagsSelectProps) => {\r\n  const { addFlag, updateFlag } = useCustomiserStore((state) => state);\r\n\r\n  const flagSelected = (flag: FlagFragment) => {\r\n    if (editFlag?.key) {\r\n      updateFlag(editFlag.key, {\r\n        flag: flag,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      addFlag({\r\n        flag: flag,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.flags}>\r\n      {flags?.map((f) => (\r\n        <div className={styles.flag} key={f.id} onClick={() => flagSelected(f)}>\r\n          <Image image={f.attributes?.image.data} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavDecalAdjust_root__t6vBt\",\"root__rotate\":\"NavDecalAdjust_root__rotate__jXeZv\",\"root__scale\":\"NavDecalAdjust_root__scale__eAAaC\",\"rotate\":\"NavDecalAdjust_rotate__adO98\",\"scale\":\"NavDecalAdjust_scale__gq4ry\"};","/* eslint-disable react/prop-types */\r\nimport { GraphicPriceEntity, GraphicPriceFragment } from '@graphql/generated/graphql';\r\nimport cn from 'classnames';\r\nimport ReactSlider from 'react-slider';\r\nimport styles from './NavDecalAdjust.module.scss';\r\nimport { usePortalRef } from '@hooks';\r\nimport { createPortal } from 'react-dom';\r\nexport interface NavDecalAdjustProps {\r\n  className?: string;\r\n  prices?: GraphicPriceFragment[];\r\n  scale?: number;\r\n  rotation?: number;\r\n  onScale?: (event: number, price?: GraphicPriceEntity) => void;\r\n  onRotate?: (event: number) => void;\r\n}\r\n\r\nconst range = (start: number, stop: number, step: number) =>\r\n  Array.from({ length: (stop - start) / step + 1 }, (value, index) => start + index * step);\r\n\r\nconst NavDecalAdjust = ({\r\n  className,\r\n  scale = 1,\r\n  rotation = 0,\r\n  prices,\r\n  onScale,\r\n  onRotate,\r\n}: NavDecalAdjustProps) => {\r\n  const portalRef = usePortalRef('CustomiserCanvasControls');\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  const rootRotateClassName = cn(styles.root, className, styles.root__rotate);\r\n  const rootSizeClassName = cn(styles.root, className, styles.root__scale);\r\n  const min = 1;\r\n  const max = 2;\r\n  const numberOfSteps = prices?.length ?? 10;\r\n  const step = (max - min) / (numberOfSteps - 1);\r\n  const marks = range(min, max, step);\r\n\r\n  const formattedPrices = prices?.map((p, i) => ({\r\n    ...p,\r\n    markKey: Number(marks[i].toFixed(5)),\r\n  }));\r\n\r\n  const onChange = (value: number) => {\r\n    const price = formattedPrices?.find((p) => p.markKey === value);\r\n    if (onScale) onScale(value, price);\r\n  };\r\n\r\n  return createPortal(\r\n    <>\r\n      <div className={rootRotateClassName}>\r\n        <ReactSlider\r\n          className={styles.rotate}\r\n          thumbClassName={styles.thumb}\r\n          trackClassName={styles.track}\r\n          markClassName={styles.mark}\r\n          min={0}\r\n          max={360}\r\n          defaultValue={0}\r\n          value={rotation}\r\n          onChange={onRotate}\r\n          renderMark={(props) => {\r\n            // eslint-disable-next-line react/prop-types\r\n            if (props.key && props.key < scale) {\r\n              props.className = 'mark mark-before';\r\n              // eslint-disable-next-line react/prop-types\r\n            } else if (props.key && props.key === scale) {\r\n              props.className = 'mark mark-active';\r\n            }\r\n            return <span {...props} />;\r\n          }}\r\n        />\r\n        <h4>Rotate</h4>\r\n      </div>\r\n      <div className={rootSizeClassName}>\r\n        <h4>Size</h4>\r\n        <ReactSlider\r\n          className={styles.scale}\r\n          thumbClassName={styles.thumb}\r\n          trackClassName={styles.track}\r\n          markClassName={styles.mark}\r\n          marks={marks}\r\n          step={step}\r\n          min={min}\r\n          max={max}\r\n          defaultValue={min}\r\n          value={scale}\r\n          orientation='vertical'\r\n          invert={true}\r\n          onChange={onChange}\r\n          renderMark={(props) => {\r\n            if (props.key && props.key < scale) {\r\n              props.className = 'mark mark-before';\r\n            } else if (props.key && props.key === scale) {\r\n              props.className = 'mark mark-active';\r\n            }\r\n            return <span {...props} />;\r\n          }}\r\n        />\r\n      </div>\r\n    </>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavDecalAdjust;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavEditButtons_root__43Hm3\"};","import Button from '@components/ui/Button';\r\nimport { usePortalRef } from '@hooks';\r\nimport cn from 'classnames';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport styles from './NavEditButtons.module.scss';\r\n\r\nexport interface NavEditButtonsProps {\r\n  className?: string;\r\n  onApply?: () => void;\r\n  disabled: boolean;\r\n}\r\n\r\nconst NavEditButtons = ({ className, disabled, onApply }: NavEditButtonsProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const portalRef = usePortalRef('CustomiserNavActions');\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className={rootClassName}>\r\n      <Button onClick={onApply}>Cancel</Button>\r\n      <Button colour='red' onClick={onApply} disabled={disabled}>\r\n        Save\r\n      </Button>\r\n    </div>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavEditButtons;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavOptionEdit_root__q-pp0\"};","import cn from 'classnames';\r\n\r\nimport styles from './NavOptionEdit.module.scss';\r\n\r\nexport interface NavOptionEditProps {\r\n  className?: string;\r\n  onEdit?: () => void;\r\n  onDelete?: () => void;\r\n}\r\n\r\nconst NavOptionEdit = ({ className, onEdit, onDelete }: NavOptionEditProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  return (\r\n    <div className={rootClassName}>\r\n      <button onClick={onEdit}>\r\n        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24.785 24.788'>\r\n          <path d='M24.785 6.739 18.046 0 0 18.049v6.739h6.739Zm-6.738-3.218 3.218 3.218-1.351 1.352-3.217-3.218Zm-3.112 3.112 3.218 3.218L7.467 20.538l-3.218-3.22ZM2.489 22.298v-3.219l3.218 3.218Z' />\r\n        </svg>\r\n      </button>\r\n      <button onClick={onDelete}>\r\n        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 23.601 23.219'>\r\n          <path d='m14.601 11.609-1.489-1.489L2.992 0 .001 2.978l8.631 8.631-8.631 8.632 2.991 2.978L13.112 13.1Z' />\r\n          <path d='m9 11.609 1.489 1.489 10.12 10.12L23.6 20.24l-8.631-8.631L23.6 2.977 20.609-.001l-10.12 10.119Z' />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavOptionEdit;\r\n","import Image from '@components/ui/Image';\r\n\r\nimport { FlagCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { Dispatch, SetStateAction } from 'react';\r\nimport NavOptionEdit from '../NavOptionEdit';\r\nimport styles from './NavFlags.module.scss';\r\n\r\nexport interface NavFlagsFlagProps {\r\n  flag: FlagCustomiser;\r\n  setShowSelector: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nexport const NavFlagsFlag = ({ flag, setShowSelector: setSelectModel }: NavFlagsFlagProps) => {\r\n  const { updateFlag, deleteFlag } = useCustomiserStore((state) => state);\r\n\r\n  const editItem = () => {\r\n    if (flag.key) {\r\n      updateFlag(flag.key, { edit: true });\r\n    }\r\n    setSelectModel(true);\r\n  };\r\n\r\n  const deleteItem = () => {\r\n    if (flag.key) {\r\n      deleteFlag(flag.key);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.flagItem}>\r\n      <div className={styles.flagItemImage}>\r\n        <Image image={flag.flag?.attributes?.image.data} />\r\n      </div>\r\n      <NavOptionEdit onEdit={editItem} onDelete={deleteItem} />\r\n    </div>\r\n  );\r\n};\r\n","import { startTransition, useState } from 'react';\r\nimport { NavFlagsSelect } from './NavFlagsSelect';\r\n\r\nimport Button from '@components/ui/Button';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport NavButtons from '../NavButtons';\r\nimport NavDecalAdjust from '../NavDecalAdjust';\r\nimport NavEditButtons from '../NavEditButtons';\r\nimport styles from './NavFlags.module.scss';\r\nimport { NavFlagsFlag } from './NavFlagsFlag';\r\nimport { GraphicPriceEntity, useGetFlagsQuery } from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\n\r\nconst NavFlags = () => {\r\n  const flags = useCustomiserStore((state) => state.flags);\r\n  const updateFlag = useCustomiserStore((state) => state.updateFlag);\r\n  const editFlag = flags?.find((g) => g.edit);\r\n\r\n  const [showSelector, setShowSelector] = useState(false);\r\n\r\n  const { data: flagQuery } = useGetFlagsQuery(\r\n    graphQLClient,\r\n    {\r\n      pagination: { limit: 500 },\r\n    },\r\n    {\r\n      select: (data) => ({ flags: data.flags?.data, prices: data.graphicPrices?.data }),\r\n    },\r\n  );\r\n\r\n  const addFlag = () => {\r\n    setShowSelector(true);\r\n  };\r\n\r\n  const setScale = (event: number, price?: GraphicPriceEntity) => {\r\n    const priceValues =\r\n      price?.attributes?.size && price?.attributes?.basePrice\r\n        ? {\r\n            size: price.attributes.size,\r\n            basePrice: {\r\n              ...price.attributes.basePrice,\r\n              quantity: 1,\r\n            },\r\n          }\r\n        : {};\r\n\r\n    if (editFlag?.key) {\r\n      updateFlag(editFlag.key, { decalScale: Number(event), ...priceValues });\r\n    }\r\n  };\r\n\r\n  const setRotation = (event: number) => {\r\n    startTransition(() => {\r\n      if (editFlag?.key) updateFlag(editFlag.key, { decalRotation: Number(event) });\r\n    });\r\n  };\r\n\r\n  const applyFlag = () => {\r\n    if (editFlag?.key) {\r\n      updateFlag(editFlag.key, {\r\n        decalFreeze: false,\r\n        edit: false,\r\n      });\r\n    }\r\n\r\n    setShowSelector(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showSelector ? (\r\n        <>\r\n          <NavDecalAdjust\r\n            scale={editFlag?.decalScale}\r\n            rotation={editFlag?.decalRotation}\r\n            onScale={setScale}\r\n            onRotate={setRotation}\r\n            prices={flagQuery?.prices}\r\n          />\r\n          {flagQuery?.flags && <NavFlagsSelect editFlag={editFlag} flags={flagQuery.flags} />}\r\n          <NavEditButtons disabled={!editFlag} onApply={applyFlag} />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className={styles.customiserFlags}>\r\n            <h3>Your Flags</h3>\r\n            {flags?.map((flag) => (\r\n              <NavFlagsFlag key={flag.key} flag={flag} setShowSelector={setShowSelector} />\r\n            ))}\r\n            <Button colour='red' onClick={addFlag}>\r\n              Add Flag\r\n            </Button>\r\n          </div>\r\n          <NavButtons />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavFlags;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavHeader_root__jnadG\",\"menu\":\"NavHeader_menu__Mmpjx\",\"nav\":\"NavHeader_nav__mJbli\",\"title\":\"NavHeader_title__tOyZd\",\"minimizeIcon\":\"NavHeader_minimizeIcon__GKC2n\",\"minimized\":\"NavHeader_minimized__04mp3\",\"navIcon\":\"NavHeader_navIcon__6iUBm\"};","// extracted by mini-css-extract-plugin\nexport default {\"iInfo\":\"InfoButton_iInfo__0SLm4\",\"iInfo__bgOnclick\":\"InfoButton_iInfo__bgOnclick__3oQL8\",\"iInfo__display\":\"InfoButton_iInfo__display__nKOtb\",\"iInfo__header\":\"InfoButton_iInfo__header__IkMmc\",\"iInfo__body\":\"InfoButton_iInfo__body__6LPfY\",\"iInfo__sampleImg\":\"InfoButton_iInfo__sampleImg__bKcTE\",\"iInfo__closebtn\":\"InfoButton_iInfo__closebtn__+Dwj4\",\"iInfo__styleName\":\"InfoButton_iInfo__styleName__3bDQ2\",\"iInfo__title\":\"InfoButton_iInfo__title__SHp10\",\"infoIcon\":\"InfoButton_infoIcon__Yu7F-\"};","import { usePortalRef } from '@hooks';\r\nimport styles from './InfoButton.module.scss';\r\nimport { createPortal } from 'react-dom';\r\nimport { useState } from 'react';\r\nimport { Falsey } from 'lodash';\r\n\r\ninterface Props {\r\n  title: string | Falsey;\r\n}\r\n\r\nconst InfoButton = ({ title }: Props) => {\r\n  const portalRef = usePortalRef('iInfoContainer');\r\n  const [shouldShow, setShouldShow] = useState<boolean>(false);\r\n\r\n  if (!portalRef) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.infoIcon} onClick={() => setShouldShow(true)}>\r\n        i\r\n      </div>\r\n      {shouldShow &&\r\n        createPortal(\r\n          <>\r\n            <div className={styles.iInfo}>\r\n              <div className={styles.iInfo__bgOnclick} onClick={() => setShouldShow(false)} />\r\n              <div className={styles.iInfo__display}>\r\n                <div className={styles.iInfo__header}>\r\n                  <span className={styles.iInfo__title}>{`${title} EXAMPLES` || 'EXAMPLES'}</span>\r\n                  <span className={styles.iInfo__closebtn} onClick={() => setShouldShow(false)}>\r\n                    x\r\n                  </span>\r\n                </div>\r\n                <div className={styles.iInfo__body}>\r\n                  <div className={styles.iInfo__styleName}>PRINTED</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119118469/names-printed.jpg'\r\n                    alt=''\r\n                  />\r\n                  <div className={styles.iInfo__styleName}>EMBROIDERY</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119222257/names-flat-embroidery.png'\r\n                    alt=''\r\n                  />\r\n                  <div className={styles.iInfo__styleName}>3D EMBROIDERY</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119313289/names-3d-embroidery.jpg'\r\n                    alt=''\r\n                  />\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119344264/names-3d-embroidery-perspective.jpg'\r\n                    alt=''\r\n                  />\r\n                  <div className={styles.iInfo__styleName}>3D CRYSTALS</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119433059/names-3d-crystals.jpg'\r\n                    alt=''\r\n                  />\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526727869947/names-3d-crystal-perspective.jpg'\r\n                    alt=''\r\n                  />\r\n                  <div className={styles.iInfo__styleName}>GLITTER</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119258957/names-glitter.pg.jpg'\r\n                    alt=''\r\n                  />\r\n                  <div className={styles.iInfo__styleName}>NAME PATCH</div>\r\n                  <img\r\n                    className={styles.iInfo__sampleImg}\r\n                    src='https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119480153/name-patch-on-shorts.jpg'\r\n                    alt=''\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>,\r\n          portalRef,\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InfoButton;\r\n","import { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\n\r\nimport styles from './NavHeader.module.scss';\r\nimport InfoButton from '@components/ui/InfoButton';\r\n\r\nexport interface NavHeaderProps {\r\n  className?: string;\r\n  toggle: () => void;\r\n  isOpen: boolean;\r\n  isMinimized?: boolean;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst NavHeader = ({ className, toggle, isOpen, isMinimized = false, onClick }: NavHeaderProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const selectedNav = useCustomiserStore((state) => state.selectedNav);\r\n\r\n  if (isOpen) {\r\n    return null;\r\n  }\r\n\r\n  const minimizeIconClassname = cn(styles.minimizeIcon, {\r\n    [styles.minimized]: isMinimized,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className={rootClassName} onClick={onClick}>\r\n        <div className={styles.nav}>\r\n          <div className={styles.title}>{selectedNav?.name}</div>\r\n          <div className={minimizeIconClassname}>\r\n            <svg viewBox='0 0 330 330'>\r\n              <path\r\n                xmlns='http://www.w3.org/2000/svg'\r\n                id='XMLID_224_'\r\n                d='M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394  l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393  C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z'\r\n              />\r\n            </svg>\r\n          </div>\r\n          <InfoButton title={selectedNav?.name} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavHeader;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dropZone\":\"NavImages_dropZone__4YMrM\",\"image\":\"NavImages_image__svpqZ\",\"graphicItem\":\"NavImages_graphicItem__XenKS\",\"graphicItemImage\":\"NavImages_graphicItemImage__8GS2T\"};","import Image from '@components/ui/Image';\r\nimport { GraphicCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { Dispatch, SetStateAction } from 'react';\r\nimport NavOptionEdit from '../NavOptionEdit';\r\nimport styles from './NavImages.module.scss';\r\n\r\nexport interface NavImagesImageProps {\r\n  graphic: GraphicCustomiser;\r\n  setShowSelector: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nexport const NavImagesImage = ({\r\n  graphic,\r\n  setShowSelector: setSelectModel,\r\n}: NavImagesImageProps) => {\r\n  const { updateGraphic, deleteGraphic } = useCustomiserStore((state) => state);\r\n\r\n  const editItem = () => {\r\n    if (graphic.key) {\r\n      updateGraphic(graphic.key, { edit: true });\r\n    }\r\n    setSelectModel(true);\r\n  };\r\n\r\n  const deleteItem = () => {\r\n    if (graphic.key) {\r\n      deleteGraphic(graphic.key);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.graphicItem}>\r\n      <div className={styles.graphicItemImage}>\r\n        <Image image={graphic.graphic?.attributes?.image?.data} />\r\n      </div>\r\n      <NavOptionEdit onEdit={editItem} onDelete={deleteItem} />\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  GraphicFragment,\r\n  useCreateGraphicMutation,\r\n  useUploadMultipleFilesMutation,\r\n} from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\nimport { Dispatch, SetStateAction, useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport styles from './NavImages.module.scss';\r\n\r\nexport interface NavImagesUploadProps {\r\n  setGraphic: (graphic: GraphicFragment) => void;\r\n}\r\n\r\nexport const NavImagesUpload = ({ setGraphic }: NavImagesUploadProps) => {\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const { mutate: createGraphicMutation } = useCreateGraphicMutation(graphQLClient, {\r\n    onSuccess(data) {\r\n      const graphic = data.createGraphic?.data;\r\n      setSaving(false);\r\n      if (graphic) setGraphic(graphic);\r\n    },\r\n  });\r\n\r\n  const { mutate: fileUploadMutate } = useUploadMultipleFilesMutation(graphQLClient, {\r\n    onSuccess(data) {\r\n      const fileIDs = data.multipleUpload.map((f) => f?.data?.id) as string[];\r\n      createGraphicMutation({ data: { image: fileIDs[0], customer: true, name: fileIDs[0] } });\r\n    },\r\n  });\r\n\r\n  const onDrop = useCallback((acceptedFiles: File[]) => {\r\n    setSaving(true);\r\n    fileUploadMutate({ files: acceptedFiles });\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'image/jpeg': [],\r\n      'image/png': [],\r\n    },\r\n    maxFiles: 1,\r\n    multiple: false,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h5>Upload an image</h5>\r\n      <div className={styles.dropZone} {...getRootProps()}>\r\n        <input {...getInputProps()} />\r\n        <div>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 23.219 29.191'>\r\n            <g>\r\n              <path d='M11.609 0 10.12 1.489 0 11.609 2.978 14.6l8.631-8.631 8.632 8.631 2.978-2.991L13.1 1.489Z' />\r\n              <path d='M14.356 29.191h-5v-26h5Z' />\r\n            </g>\r\n          </svg>\r\n          {saving ? (\r\n            <h5>Please wait...</h5>\r\n          ) : isDragActive ? (\r\n            <h5>Drop images here ...</h5>\r\n          ) : (\r\n            <h5>Click or drag images here to upload</h5>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { GraphicFragment } from '@graphql/generated/graphql';\r\nimport { GraphicCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { useState } from 'react';\r\nimport Image from '@components/ui/Image';\r\n\r\nimport styles from './NavImages.module.scss';\r\nimport { NavImagesUpload } from './NavImagesUpload';\r\nimport Button from '@components/ui/Button';\r\n\r\nexport interface NavImagesSelectProps {\r\n  editGraphic?: GraphicCustomiser;\r\n  graphic?: GraphicFragment;\r\n}\r\n\r\nexport const NavImagesSelect = ({ editGraphic, graphic }: NavImagesSelectProps) => {\r\n  const [currentGraphic, setCurrentGraphic] = useState<GraphicFragment | undefined>(graphic);\r\n  const { addGraphic, updateGraphic } = useCustomiserStore((state) => state);\r\n\r\n  const graphicSelected = (graphic: GraphicFragment) => {\r\n    if (editGraphic?.key) {\r\n      updateGraphic(editGraphic.key, {\r\n        graphic,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      addGraphic({\r\n        graphic,\r\n      });\r\n    }\r\n  };\r\n\r\n  const setGraphic = (graphic: GraphicFragment) => {\r\n    setCurrentGraphic(graphic);\r\n    graphicSelected(graphic);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.graphics}>\r\n      {currentGraphic ? (\r\n        <>\r\n          <Image className={styles.image} image={currentGraphic.attributes?.image?.data} />\r\n          <Button onClick={() => setCurrentGraphic(undefined)}>Change Image</Button>\r\n        </>\r\n      ) : (\r\n        <NavImagesUpload setGraphic={setGraphic} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import Button from '@components/ui/Button';\r\nimport { GraphicPriceEntity, useGetImagesQuery } from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport { startTransition, useState } from 'react';\r\nimport NavButtons from '../NavButtons';\r\nimport NavDecalAdjust from '../NavDecalAdjust';\r\nimport NavEditButtons from '../NavEditButtons';\r\n\r\nimport styles from './NavImages.module.scss';\r\nimport { NavImagesImage } from './NavImagesImage';\r\nimport { NavImagesSelect } from './NavImagesSelect';\r\n\r\nconst NavImages = () => {\r\n  const [showSelector, setShowSelector] = useState(false);\r\n  const graphics = useCustomiserStore((state) => state.graphics);\r\n  const updateGraphic = useCustomiserStore((state) => state.updateGraphic);\r\n  const editGraphic = graphics?.find((g) => g.edit);\r\n\r\n  const { data: imageQuery } = useGetImagesQuery(\r\n    graphQLClient,\r\n    {},\r\n    {\r\n      select: (data) => ({ prices: data.graphicPrices?.data }),\r\n    },\r\n  );\r\n\r\n  const addImage = () => {\r\n    setShowSelector(true);\r\n  };\r\n\r\n  const setScale = (event: number, price?: GraphicPriceEntity) => {\r\n    const priceValues =\r\n      price?.attributes?.size && price?.attributes?.basePrice\r\n        ? {\r\n            size: price.attributes.size,\r\n            basePrice: {\r\n              ...price.attributes.basePrice,\r\n              quantity: 1,\r\n            },\r\n          }\r\n        : {};\r\n\r\n    if (editGraphic?.key) {\r\n      updateGraphic(editGraphic.key, { decalScale: Number(event), ...priceValues });\r\n    }\r\n  };\r\n\r\n  const setRotation = (event: number) => {\r\n    startTransition(() => {\r\n      if (editGraphic?.key) updateGraphic(editGraphic.key, { decalRotation: Number(event) });\r\n    });\r\n  };\r\n\r\n  const applyImage = () => {\r\n    if (editGraphic?.key) {\r\n      updateGraphic(editGraphic.key, {\r\n        decalFreeze: false,\r\n        edit: false,\r\n      });\r\n    }\r\n\r\n    setShowSelector(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showSelector ? (\r\n        <>\r\n          <NavDecalAdjust\r\n            scale={editGraphic?.decalScale}\r\n            rotation={editGraphic?.decalRotation}\r\n            onScale={setScale}\r\n            onRotate={setRotation}\r\n            prices={imageQuery?.prices}\r\n          />\r\n          <NavImagesSelect editGraphic={editGraphic} graphic={editGraphic?.graphic} />\r\n          <NavEditButtons disabled={!editGraphic} onApply={applyImage} />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className={styles.customiserFlags}>\r\n            <h3>Your Images</h3>\r\n            {graphics?.map((graphic) => (\r\n              <NavImagesImage\r\n                key={graphic.key}\r\n                graphic={graphic}\r\n                setShowSelector={setShowSelector}\r\n              />\r\n            ))}\r\n            <Button colour='red' onClick={addImage}>\r\n              Add Image\r\n            </Button>\r\n          </div>\r\n          <NavButtons />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavImages;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavOptions_root__Gotx6\",\"option\":\"NavOptions_option__GpS8E\",\"optionTitle\":\"NavOptions_optionTitle__m6iQF\",\"required\":\"NavOptions_required__Wy+GM\",\"icon\":\"NavOptions_icon__KPrLI\",\"iconSelected\":\"NavOptions_iconSelected__ZnEvu\"};","import { NavItem, useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\n\r\nimport styles from './NavOptions.module.scss';\r\n\r\nexport interface NavOptionsProps {\r\n  toggle: () => void;\r\n}\r\n\r\nconst NavOptions = ({ toggle }: NavOptionsProps) => {\r\n  const navItems = useCustomiserStore((state) => state.navItems);\r\n  const sizingVariation = useCustomiserStore((state) => state.sizing?.variation);\r\n  const parts = useCustomiserStore((state) => state.savedParts);\r\n  const flags = useCustomiserStore((state) => state.flags);\r\n  const texts = useCustomiserStore((state) => state.texts);\r\n  const setSelectedNav = useCustomiserStore((state) => state.setSelectedNav);\r\n\r\n  const handleClick = (index: number) => {\r\n    toggle();\r\n    setSelectedNav(index);\r\n  };\r\n\r\n  const isSelected = (item: NavItem) => {\r\n    if (item.type === 'fitting') return true;\r\n    if (item.type === 'size' && sizingVariation) return true;\r\n    if (item.type === 'part' && parts.find((p) => p.part.id === item.id)) return true;\r\n    if (item.type === 'flags' && flags.length) return true;\r\n    if (item.type === 'names' && texts.length) return true;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      {navItems.map((item) => (\r\n        <button\r\n          className={styles.option}\r\n          key={item.index}\r\n          onClick={() => handleClick(item.index ? item.index : 0)}\r\n        >\r\n          <div className={styles.optionTitle}>\r\n            <h3>{item.name}</h3>\r\n            {item.required && <span className={styles.required}>Required</span>}\r\n          </div>\r\n          <svg\r\n            className={cn(styles.icon, { [styles.iconSelected]: isSelected(item) })}\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            viewBox='0 0 26.223 20.854'\r\n          >\r\n            <path d='m.854 11.955 2.604-3.11L9.952 14.3 21.736.248l3.102 2.614-14.39 17.22Z' />\r\n          </svg>\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavOptions;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pillButton\":\"PillButton_pillButton__SdZPI\",\"pillButtonSelected\":\"PillButton_pillButtonSelected__qUXX-\",\"darkGrey\":\"PillButton_darkGrey__Awkzq\",\"black\":\"PillButton_black__SrGWm\"};","import cn from 'classnames';\r\nimport { ButtonHTMLAttributes } from 'react';\r\n\r\nimport styles from './PillButton.module.scss';\r\n\r\nexport interface PillButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  className?: string;\r\n  selected?: boolean;\r\n  color?: 'red' | 'black' | 'darkGrey';\r\n}\r\n\r\nconst PillButton = ({\r\n  className,\r\n  children,\r\n  selected = false,\r\n  color = 'red',\r\n  ...rest\r\n}: PillButtonProps) => {\r\n  const rootClassName = cn(\r\n    styles.pillButton,\r\n    { [styles.pillButtonSelected]: selected, [styles[color]]: color },\r\n    className,\r\n  );\r\n  return (\r\n    <button className={rootClassName} {...rest}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default PillButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"MaterialGroup_root__M5bHl\",\"colourGroups\":\"MaterialGroup_colourGroups__G3KSo\",\"materialType\":\"MaterialGroup_materialType__X63YP\",\"materialType__title\":\"MaterialGroup_materialType__title__nQjVb\",\"materials\":\"MaterialGroup_materials__iAoDB\"};","import { create, StateCreator, StoreApi } from 'zustand';\r\nimport createContext from 'zustand/context';\r\nimport produce from 'immer';\r\nimport { devtools } from 'zustand/middleware';\r\nimport {\r\n  MaterialColourGroupEntity,\r\n  MaterialEntity,\r\n  MaterialTypeEntity,\r\n  Maybe,\r\n} from '@graphql/generated/graphql';\r\nimport { uniqBy } from 'lodash';\r\n\r\nconst uniqueColourGroups = (array: MaterialColourGroupEntity[]) => uniqBy(array, 'id');\r\nconst uniqueMaterialTypes = (array: MaterialTypeEntity[]) => uniqBy(array, 'id');\r\nconst uniqueMaterials = (array: MaterialEntity[]) => uniqBy(array, 'id');\r\ninterface MaterialGroupInitialState {\r\n  colourGroups: MaterialColourGroupEntity[];\r\n  materialTypes: MaterialTypeEntity[];\r\n  materials: MaterialEntity[];\r\n  selectedColourGroup?: MaterialColourGroupEntity;\r\n  selectedMaterialType?: MaterialTypeEntity;\r\n}\r\nexport interface MaterialGroupState extends MaterialGroupInitialState {\r\n  resetMaterialGroup: () => void;\r\n  setMaterials: (\r\n    materials: MaterialEntity[],\r\n    materialType?: Maybe<MaterialTypeEntity>,\r\n    colourGroup?: Maybe<MaterialColourGroupEntity>,\r\n  ) => void;\r\n  filteredMaterials: () => MaterialEntity[];\r\n  setColourGroup: (colourGroup: MaterialColourGroupEntity) => void;\r\n  setMaterialType: (materialType: MaterialTypeEntity) => void;\r\n}\r\n\r\nconst initialState: MaterialGroupInitialState = {\r\n  colourGroups: [],\r\n  materialTypes: [],\r\n  materials: [],\r\n};\r\n\r\nconst createMaterialGroup: StateCreator<MaterialGroupState, [['zustand/devtools', never]], []> = (\r\n  set,\r\n  get,\r\n) => ({\r\n  ...initialState,\r\n  filteredMaterials: () => {\r\n    const materials = get().materials;\r\n    const colourGroup = get().selectedColourGroup;\r\n    const filteredMaterials = materials.filter((m) =>\r\n      m.attributes?.colourGroups?.data.find((g) => g.id === colourGroup?.id),\r\n    );\r\n    return filteredMaterials;\r\n  },\r\n  resetMaterialGroup: () => set(initialState),\r\n  setMaterials: (\r\n    materials: MaterialEntity[],\r\n    materialType?: Maybe<MaterialTypeEntity>,\r\n    colourGroup?: Maybe<MaterialColourGroupEntity>,\r\n  ) => {\r\n    set(\r\n      produce((state: MaterialGroupState) => {\r\n        const colourGroups = materials.flatMap(\r\n          (d) => d.attributes?.colourGroups?.data,\r\n        ) as MaterialColourGroupEntity[];\r\n        state.colourGroups = uniqueColourGroups(colourGroups);\r\n        if (colourGroup) {\r\n          state.selectedColourGroup = colourGroup;\r\n        } else {\r\n          state.selectedColourGroup = state.colourGroups[0];\r\n        }\r\n\r\n        const materialTypes = materials\r\n          .filter((m) =>\r\n            m.attributes?.colourGroups?.data.find((g) => g.id === state.selectedColourGroup?.id),\r\n          )\r\n          .map((m) => m.attributes?.type?.data) as MaterialTypeEntity[];\r\n        state.materialTypes = uniqueMaterialTypes(materialTypes);\r\n\r\n        if (materialType) {\r\n          state.selectedMaterialType = materialType;\r\n        } else {\r\n          state.selectedMaterialType = state.materialTypes[0];\r\n        }\r\n\r\n        state.materials = uniqueMaterials(materials);\r\n      }),\r\n    );\r\n  },\r\n  setColourGroup: (colourGroup: MaterialColourGroupEntity) => {\r\n    set(\r\n      produce((state: MaterialGroupState) => {\r\n        state.selectedColourGroup = colourGroup;\r\n        const materialTypes = state.materials\r\n          .filter((m) =>\r\n            m.attributes?.colourGroups?.data.find((g) => g.id === state.selectedColourGroup?.id),\r\n          )\r\n          .map((m) => m.attributes?.type?.data) as MaterialTypeEntity[];\r\n        state.materialTypes = uniqueMaterialTypes(materialTypes);\r\n      }),\r\n    );\r\n  },\r\n  setMaterialType: (materialType: MaterialTypeEntity) => {\r\n    set(\r\n      produce((state: MaterialGroupState) => {\r\n        state.selectedMaterialType = materialType;\r\n      }),\r\n    );\r\n  },\r\n});\r\n\r\nexport const { Provider, useStore: useMaterialGroupStore } =\r\n  createContext<StoreApi<MaterialGroupState>>();\r\n\r\nexport const createStore = () => create<MaterialGroupState>()(devtools(createMaterialGroup));\r\n","import { MaterialFragment } from '@graphql/generated/graphql';\r\nimport cn from 'classnames';\r\nimport styles from './MaterialGroup.module.scss';\r\n\r\nexport interface MaterialProps {\r\n  className?: string;\r\n  material: MaterialFragment;\r\n  onMaterialSelected: (material: MaterialFragment) => void;\r\n}\r\n\r\nexport const Material = ({ className, material, onMaterialSelected }: MaterialProps) => {\r\n  const rootClassName = cn(styles.material, className);\r\n\r\n  const mapImage = material?.attributes?.images?.find((i) => i?.mapType === 'map');\r\n\r\n  const onClick = () => {\r\n    if (material) {\r\n      onMaterialSelected(material);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button className={rootClassName} onClick={onClick} data-name={material.attributes?.name}>\r\n      {mapImage && <img src={mapImage?.image?.data?.attributes?.formats['thumbnail'].url} />}\r\n    </button>\r\n  );\r\n};\r\n","import PillButton from '@components/ui/PillButton';\r\nimport { MaterialFragment } from '@graphql/generated/graphql';\r\nimport cn from 'classnames';\r\nimport { Material } from './Material';\r\nimport styles from './MaterialGroup.module.scss';\r\nimport { useMaterialGroupStore } from './MaterialGroupState';\r\n\r\nexport interface MaterialTypeProps {\r\n  className?: string;\r\n  onMaterialSelected: (material: MaterialFragment) => void;\r\n  hideColorGroups?: boolean;\r\n}\r\n\r\nexport const MaterialType = ({\r\n  className,\r\n  onMaterialSelected,\r\n  hideColorGroups,\r\n}: MaterialTypeProps) => {\r\n  const rootClassName = cn(styles.materialType, className);\r\n\r\n  const {\r\n    materialTypes,\r\n    filteredMaterials: getFilteredMaterials,\r\n    materials,\r\n  } = useMaterialGroupStore();\r\n\r\n  const filteredMaterials = hideColorGroups ? materials : getFilteredMaterials();\r\n\r\n  return (\r\n    <div className={rootClassName}>\r\n      {!hideColorGroups && <h5>Texture</h5>}\r\n      {materialTypes.map((mt) => (\r\n        <div key={mt.id} className={styles.materialType}>\r\n          <h6 className={styles.materialType__title}>{mt.attributes?.name}</h6>\r\n          <div className={styles.materials}>\r\n            {filteredMaterials\r\n              .filter((m) => m.attributes?.type?.data?.id === mt.id)\r\n              .map((m) => (\r\n                <Material key={m.id} material={m} onMaterialSelected={onMaterialSelected} />\r\n              ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"SelectedMaterialInfo_root__kIp+x\",\"root__noMaterial\":\"SelectedMaterialInfo_root__noMaterial__dtWKf\",\"materialName\":\"SelectedMaterialInfo_materialName__vha4F\"};","import { FC, useMemo } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { usePortalRef } from '@hooks';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport styles from './SelectedMaterialInfo.module.scss';\r\n\r\nconst SelectedMaterialInfo: FC = () => {\r\n  const portalRef = usePortalRef('CustomiserNavMaterial');\r\n  const { selectedPart, parts } = useCustomiserStore();\r\n\r\n  const selectedMaterial = useMemo(\r\n    () => parts.find((part) => part.part.id === selectedPart?.id)?.material,\r\n    [selectedPart, parts],\r\n  );\r\n\r\n  if (!portalRef) return null;\r\n\r\n  if (!selectedMaterial) {\r\n    return ReactDOM.createPortal(\r\n      <div className={cn(styles.root, styles.root__noMaterial)}>No material selected.</div>,\r\n      portalRef,\r\n    );\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className={styles.root}>\r\n      <div className={styles.materialName}>{selectedMaterial.attributes?.name}</div>\r\n      {/* TODO: Add currency */}\r\n      <div>${selectedMaterial.attributes?.price?.data?.attributes?.price}</div>\r\n      <small>\r\n        <i>TODO: Add currency</i>\r\n      </small>\r\n    </div>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default SelectedMaterialInfo;\r\n","import {\r\n  InputMaybe,\r\n  MaterialColourGroupEntity,\r\n  MaterialEntity,\r\n  MaterialFragment,\r\n  MaterialGroupEntity,\r\n  MaterialTypeEntity,\r\n  Maybe,\r\n  useGetMaterialsQuery,\r\n} from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\n\r\nimport cn from 'classnames';\r\nimport { useEffect } from 'react';\r\n\r\nimport styles from './MaterialGroup.module.scss';\r\nimport { createStore, Provider, useMaterialGroupStore } from './MaterialGroupState';\r\nimport { MaterialType } from './MaterialType';\r\nimport SelectedMaterialInfo from './SelectedMaterialInfo';\r\n\r\nexport interface MaterialGroupProps {\r\n  className?: string;\r\n  materialGroup?: Maybe<MaterialGroupEntity>;\r\n  materialType?: Maybe<MaterialTypeEntity>;\r\n  colourGroup?: Maybe<MaterialColourGroupEntity>;\r\n  onMaterialSelected: (material: MaterialFragment) => void;\r\n  hideColorGroups?: boolean;\r\n}\r\n\r\nconst MaterialGroupLoader = ({\r\n  className,\r\n  materialGroup,\r\n  materialType,\r\n  colourGroup,\r\n  onMaterialSelected,\r\n  hideColorGroups,\r\n}: MaterialGroupProps) => {\r\n  const colourGroups = useMaterialGroupStore((state) => state.colourGroups);\r\n  const selectedColourGroup = useMaterialGroupStore((state) => state.selectedColourGroup);\r\n  const setMaterials = useMaterialGroupStore((state) => state.setMaterials);\r\n  const setColourGroup = useMaterialGroupStore((state) => state.setColourGroup);\r\n  const rootClassName = cn(styles.root, className);\r\n\r\n  const typeIds = materialGroup?.attributes?.materialTypes\r\n    ? (materialGroup.attributes.materialTypes.data.map((t) => t.id) as InputMaybe<string>[])\r\n    : [];\r\n\r\n  const { data: materials } = useGetMaterialsQuery(\r\n    graphQLClient,\r\n    { filters: { type: { id: { in: typeIds } } }, pagination: { pageSize: 200 } },\r\n    {\r\n      select: (data) => data.materials?.data as MaterialEntity[],\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (materials?.length) {\r\n      setMaterials(materials, materialType, colourGroup);\r\n    }\r\n  }, [materials]);\r\n\r\n  if (!materialGroup) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={rootClassName}>\r\n      {!hideColorGroups && (\r\n        <>\r\n          <h5>Colour</h5>\r\n          <div className={styles.colourGroups}>\r\n            {colourGroups.map((group) => (\r\n              <button key={group.id} onClick={() => setColourGroup(group)}>\r\n                <svg\r\n                  xmlns='http://www.w3.org/2000/svg'\r\n                  viewBox='0 0 42 42'\r\n                  strokeWidth={4}\r\n                  stroke={\r\n                    selectedColourGroup?.id === group.id\r\n                      ? '#000'\r\n                      : group.attributes?.colour ?? '#000'\r\n                  }\r\n                  fill={group.attributes?.colour ?? '#000'}\r\n                >\r\n                  <rect width='100%' height='100%' />\r\n                </svg>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      <MaterialType hideColorGroups={hideColorGroups} onMaterialSelected={onMaterialSelected} />\r\n      <SelectedMaterialInfo />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MaterialGroup = (props: MaterialGroupProps) => {\r\n  return (\r\n    <Provider createStore={createStore}>\r\n      <MaterialGroupLoader {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default MaterialGroup;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"showOptional\":\"NavPart_showOptional__s6PPL\"};","import PillButton from '@components/ui/PillButton';\r\nimport { CustomProductPartFragment, MaterialFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { motion } from 'framer-motion';\r\nimport { Suspense, useEffect, useMemo, useState } from 'react';\r\nimport MaterialGroup from '../MaterialGroup';\r\nimport NavButtons from '../NavButtons';\r\n\r\nimport styles from './NavPart.module.scss';\r\n\r\nexport interface NavPartProps {\r\n  className?: string;\r\n  part: CustomProductPartFragment;\r\n}\r\n\r\nconst NavPart = ({ className, part }: NavPartProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const selectedPart = useCustomiserStore((state) => state.selectedPart);\r\n  const setPart = useCustomiserStore((state) => state.setPart);\r\n  const removePart = useCustomiserStore((state) => state.removePart);\r\n  const parts = useCustomiserStore((state) => state.parts);\r\n  const currentPart = useMemo(() => parts.find((p) => p.part.id === part?.id), [part]);\r\n  const [showOptional, setShowOptional] = useState(false);\r\n\r\n  if (!part?.materialGroup?.data) {\r\n    return null;\r\n  }\r\n\r\n  const onMaterialSelected = (material: MaterialFragment) => {\r\n    if (selectedPart && material) {\r\n      setPart(selectedPart, material);\r\n    }\r\n  };\r\n\r\n  const optionalOnClick = (show: boolean) => {\r\n    setShowOptional(show);\r\n    if (!show) {\r\n      removePart(part);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (part.optional && !showOptional && currentPart) {\r\n      setShowOptional(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        key={part.id}\r\n        className={rootClassName}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        {part.optional && (\r\n          <PillButton\r\n            className={styles.showOptional}\r\n            selected={showOptional}\r\n            onClick={() => optionalOnClick(!showOptional)}\r\n          >\r\n            {showOptional ? 'Remove' : 'Add'} {part.name}\r\n          </PillButton>\r\n        )}\r\n        {(!part.optional || (part.optional && showOptional)) && (\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <MaterialGroup\r\n              materialGroup={part.materialGroup.data}\r\n              materialType={currentPart?.material.attributes?.type?.data}\r\n              colourGroup={currentPart?.material.attributes?.colourGroups?.data[0]}\r\n              onMaterialSelected={onMaterialSelected}\r\n            />\r\n          </Suspense>\r\n        )}\r\n      </motion.div>\r\n      <NavButtons />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavPart;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"FormInput_root__cf10F\",\"input\":\"FormInput_input__gRXur\",\"label\":\"FormInput_label__9L2lb\"};","import cn from 'classnames';\r\nimport { InputHTMLAttributes } from 'react';\r\n\r\nimport styles from './FormInput.module.scss';\r\n\r\nexport interface FormInputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n}\r\n\r\nconst FormInput = ({ className, placeholder, children, ...props }: FormInputProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  return (\r\n    <div className={rootClassName}>\r\n      <input className={styles.input} {...props} placeholder=' ' />\r\n      <label className={styles.label}>{placeholder}</label>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"FormSelect_root__li+Rt\",\"select\":\"FormSelect_select__ftYcv\",\"icon\":\"FormSelect_icon__juFw+\"};","import cn from 'classnames';\r\nimport { SelectHTMLAttributes } from 'react';\r\n\r\nimport styles from './FormSelect.module.scss';\r\n\r\nexport interface FormSelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n}\r\n\r\nconst FormSelect = ({ className, children, ...props }: FormSelectProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  return (\r\n    <div className={rootClassName}>\r\n      <select className={styles.select} {...props}>\r\n        {children}\r\n      </select>\r\n      <svg xmlns='http://www.w3.org/2000/svg' className={styles.icon} viewBox='0 0 18.108 30.546'>\r\n        <path d='m2.835 30.545-2.836-2.836 12.387-12.436L0 2.835 2.836-.001l15.272 15.274Z' />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormSelect;\r\n","import { ShopifyProductVariantFragment } from '@graphql/generated/graphql-shopify';\r\n\r\nconst getSizeVariation = (\r\n  unit: string,\r\n  weight: number,\r\n  variations: Array<ShopifyProductVariantFragment>,\r\n) => {\r\n  let size = '';\r\n  if (unit === 'KGS') {\r\n    switch (true) {\r\n      case 0 <= weight && weight < 10:\r\n        size = 'BABY';\r\n        break;\r\n      case 10 <= weight && weight < 16:\r\n        size = 'TODDLER';\r\n        break;\r\n      case 16 <= weight && weight < 22:\r\n        size = 'S-CHILD';\r\n        break;\r\n      case 22 <= weight && weight < 30:\r\n        size = 'M-CHILD';\r\n        break;\r\n      case 30 <= weight && weight < 40:\r\n        size = 'L-CHILD';\r\n        break;\r\n      case 40 <= weight && weight < 50:\r\n        size = 'YOUTH';\r\n        break;\r\n      case 50 <= weight && weight < 59:\r\n        size = 'XS';\r\n        break;\r\n      case 59 <= weight && weight < 69:\r\n        size = 'S';\r\n        break;\r\n      case 69 <= weight && weight < 79:\r\n        size = 'M';\r\n        break;\r\n      case 79 <= weight && weight < 90:\r\n        size = 'L';\r\n        break;\r\n      case 90 <= weight && weight < 101:\r\n        size = 'XL';\r\n        break;\r\n      case 101 <= weight && weight < 111:\r\n        size = '2XL';\r\n        break;\r\n      case 111 <= weight && weight < 120:\r\n        size = '3XL';\r\n        break;\r\n      case 120 <= weight:\r\n        size = '4XL';\r\n        break;\r\n    }\r\n  } else {\r\n    switch (true) {\r\n      case 0 <= weight && weight < 22:\r\n        size = 'BABY';\r\n        break;\r\n      case 22 <= weight && weight < 35.3:\r\n        size = 'TODDLER';\r\n        break;\r\n      case 35.3 <= weight && weight < 48.5:\r\n        size = 'S-CHILD';\r\n        break;\r\n      case 48.5 <= weight && weight < 66.1:\r\n        size = 'M-CHILD';\r\n        break;\r\n      case 66.1 <= weight && weight < 88.2:\r\n        size = 'L-CHILD';\r\n        break;\r\n      case 88.2 <= weight && weight < 110.2:\r\n        size = 'YOUTH';\r\n        break;\r\n      case 110.2 <= weight && weight < 130:\r\n        size = 'XS';\r\n        break;\r\n      case 130 <= weight && weight < 152.1:\r\n        size = 'S';\r\n        break;\r\n      case 152.1 <= weight && weight < 174.2:\r\n        size = 'M';\r\n        break;\r\n      case 174.2 <= weight && weight < 198.4:\r\n        size = 'L';\r\n        break;\r\n      case 198.4 <= weight && weight < 222.7:\r\n        size = 'XL';\r\n        break;\r\n      case 222.7 <= weight && weight < 244.7:\r\n        size = '2XL';\r\n        break;\r\n      case 244.7 <= weight && weight < 264.6:\r\n        size = '3XL';\r\n        break;\r\n      case 264.6 <= weight:\r\n        size = '4XL';\r\n        break;\r\n    }\r\n  }\r\n\r\n  return variations.find((v) => v.sku?.endsWith(size));\r\n};\r\n\r\nexport default getSizeVariation;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"variations\":\"NavSize_variations__cMdjc\",\"unitToggle\":\"NavSize_unitToggle__LqIuI\",\"toggleButton\":\"NavSize_toggleButton__5PZDI\",\"toggleButtonSelected\":\"NavSize_toggleButtonSelected__au+Rx\"};","import FormInput from '@components/ui/FormInput';\r\nimport FormSelect from '@components/ui/FormSelect';\r\nimport getSizeVariation from '@services/size';\r\nimport { UNIT } from '@store/constants';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { motion } from 'framer-motion';\r\nimport { ChangeEvent, useEffect } from 'react';\r\nimport NavButtons from '../NavButtons';\r\nimport styles from './NavSize.module.scss';\r\n\r\nexport interface NavSizeProps {\r\n  className?: string;\r\n}\r\n\r\nconst NavSize = ({ className }: NavSizeProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const variations = useCustomiserStore((state) => state.variations);\r\n  const setSizing = useCustomiserStore((state) => state.setSizing);\r\n  const weight = useCustomiserStore((state) => state.sizing?.weight);\r\n  const height = useCustomiserStore((state) => state.sizing?.height);\r\n  const variation = useCustomiserStore((state) => state.sizing?.variation);\r\n\r\n  useEffect(() => {\r\n    if (weight?.value && weight.unit) {\r\n      const variation = getSizeVariation(weight.unit, weight.value, variations);\r\n      setSizing(undefined, undefined, variation);\r\n    }\r\n  }, [weight, variations]);\r\n\r\n  const onHeightChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setSizing({ value: Number(e.target.value), unit: 'CM' });\r\n  };\r\n\r\n  const onWeightChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setSizing(undefined, { value: Number(e.target.value), unit: 'KGS' });\r\n  };\r\n\r\n  const onVariationChange = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    const id = e.target.value;\r\n    const selectedVariation = variations.find((v) => v.id === id);\r\n    setSizing(undefined, undefined, selectedVariation);\r\n  };\r\n\r\n  const setHeightUnit = (unit: string) => {\r\n    setSizing({ value: height?.value, unit });\r\n  };\r\n\r\n  const setWeightUnit = (unit: string) => {\r\n    setSizing(undefined, { value: weight?.value, unit });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className={rootClassName}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <h3>Size Details</h3>\r\n        <p>\r\n          To help us make sure the size you’ve selected is correct, enter your height and weight\r\n          below.\r\n        </p>\r\n        <FormInput\r\n          type='number'\r\n          placeholder='Enter Height'\r\n          step='0.1'\r\n          required\r\n          value={height?.value ? height.value : ''}\r\n          onChange={onHeightChange}\r\n        >\r\n          <div className={styles.unitToggle}>\r\n            <button\r\n              className={cn(styles.toggleButton, {\r\n                [styles.toggleButtonSelected]: height?.unit === UNIT.HEIGHT.CM,\r\n              })}\r\n              onClick={() => setHeightUnit(UNIT.HEIGHT.CM)}\r\n            >\r\n              {UNIT.HEIGHT.CM}\r\n            </button>\r\n            {'/'}\r\n            <button\r\n              className={cn(styles.toggleButton, {\r\n                [styles.toggleButtonSelected]: height?.unit === UNIT.HEIGHT.INCH,\r\n              })}\r\n              onClick={() => setHeightUnit(UNIT.HEIGHT.INCH)}\r\n            >\r\n              {UNIT.HEIGHT.INCH}\r\n            </button>\r\n          </div>\r\n        </FormInput>\r\n        <FormInput\r\n          type='number'\r\n          placeholder='Enter Weight'\r\n          step='0.1'\r\n          required\r\n          value={weight?.value ? weight.value : ''}\r\n          onChange={onWeightChange}\r\n        >\r\n          <div className={styles.unitToggle}>\r\n            <button\r\n              className={cn(styles.toggleButton, {\r\n                [styles.toggleButtonSelected]: weight?.unit === UNIT.WEIGHT.KG,\r\n              })}\r\n              onClick={() => setWeightUnit(UNIT.WEIGHT.KG)}\r\n            >\r\n              {UNIT.WEIGHT.KG}\r\n            </button>\r\n            {'/'}\r\n            <button\r\n              className={cn(styles.toggleButton, {\r\n                [styles.toggleButtonSelected]: weight?.unit === UNIT.WEIGHT.LB,\r\n              })}\r\n              onClick={() => setWeightUnit(UNIT.WEIGHT.LB)}\r\n            >\r\n              {UNIT.WEIGHT.LB}\r\n            </button>\r\n          </div>\r\n        </FormInput>\r\n        <h3>Suggested Size</h3>\r\n        <FormSelect value={variation?.id} onChange={onVariationChange}>\r\n          {variations.map((v) => (\r\n            <option key={v.id} value={v.id}>\r\n              {v.title}\r\n            </option>\r\n          ))}\r\n        </FormSelect>\r\n      </motion.div>\r\n      <NavButtons />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavSize;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"titleContainer\":\"Accordion_titleContainer__4Sz8F\",\"titleStep\":\"Accordion_titleStep__zM9JM\",\"active\":\"Accordion_active__ceAJO\",\"titleButton\":\"Accordion_titleButton__vj8Pw\",\"content\":\"Accordion_content__FiW6c\"};","import cn from 'classnames';\r\nimport { FC, ReactNode, useRef } from 'react';\r\nimport Button from '../Button';\r\nimport { current } from 'immer';\r\n\r\nimport styles from './Accordion.module.scss';\r\n\r\nexport type AccordionProps = {\r\n  className?: string;\r\n\r\n  step: string | number;\r\n  currentStep: string | number;\r\n  onTitleClick?: (step: string | number) => void;\r\n\r\n  title: ReactNode;\r\n  children?: ReactNode;\r\n};\r\n\r\nconst Accordion: FC<AccordionProps> = ({\r\n  className,\r\n  children,\r\n  title,\r\n  currentStep,\r\n  step,\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  onTitleClick = () => {},\r\n}) => {\r\n  const handleTitleClick = () => {\r\n    // console.log('key click', keyRef.current);\r\n\r\n    onTitleClick(step);\r\n  };\r\n\r\n  const titleClassName = cn(styles.titleContainer, { [styles.active]: step === currentStep });\r\n\r\n  return (\r\n    <div className={cn(className)}>\r\n      <div className={titleClassName} onClick={handleTitleClick}>\r\n        {typeof step === 'number' && (\r\n          <Button className={styles.titleStep} colour='red'>\r\n            Step {step + 1}\r\n          </Button>\r\n        )}\r\n        <Button className={styles.titleButton}>{title}</Button>\r\n      </div>\r\n      {step === currentStep && <div className={styles.content}>{children}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Accordion;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NavStepButtons_root__6pgaM\"};","import Button from '@components/ui/Button';\r\nimport { usePortalRef } from '@hooks';\r\nimport cn from 'classnames';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport styles from './NavStepButtons.module.scss';\r\n\r\nexport interface NavStepButtonsProps {\r\n  className?: string;\r\n  step?: number;\r\n  maxStep: number;\r\n  onNext?: () => void;\r\n  onPrevious?: () => void;\r\n  onApply?: () => void;\r\n}\r\n\r\nconst NavStepButtons = ({\r\n  className,\r\n  step,\r\n  maxStep,\r\n  onApply,\r\n  onNext,\r\n  onPrevious,\r\n}: NavStepButtonsProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const portalRef = usePortalRef('CustomiserNavActions');\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className={rootClassName}>\r\n      {step === 0 ? (\r\n        <Button colour='darkGrey' onClick={onApply}>\r\n          Cancel\r\n        </Button>\r\n      ) : (\r\n        <Button onClick={onPrevious} disabled={step === 0}>\r\n          Prev Step\r\n        </Button>\r\n      )}\r\n\r\n      {/* <Button>View Model</Button> */}\r\n\r\n      {step === maxStep ? (\r\n        <Button colour='red' onClick={onApply}>\r\n          Save\r\n        </Button>\r\n      ) : (\r\n        <Button colour='yellow' onClick={onNext}>\r\n          Next Step\r\n        </Button>\r\n      )}\r\n    </div>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavStepButtons;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"arial\":\"NavText_arial__de7L4\",\"oswald\":\"NavText_oswald__siLdE\",\"college\":\"NavText_college__YR6iT\",\"ballantines\":\"NavText_ballantines__1B1LU\",\"navTextEdit\":\"NavText_navTextEdit__8WUIS\",\"textItem\":\"NavText_textItem__nQrv4\",\"textItemText\":\"NavText_textItemText__op7hZ\",\"finishSelections\":\"NavText_finishSelections__fH4yd\",\"disabled\":\"NavText_disabled__M-nHo\",\"showOutline\":\"NavText_showOutline__T7KEv\",\"fontSelection\":\"NavText_fontSelection__AH-QM\",\"font\":\"NavText_font__v43yE\",\"finishSelection\":\"NavText_finishSelection__CfQ+O\",\"selected\":\"NavText_selected__SIXSo\",\"pricing\":\"NavText_pricing__qUsci\",\"materialGroup\":\"NavText_materialGroup__j+DTa\",\"navTextsSelection\":\"NavText_navTextsSelection__gJNy+\",\"title\":\"NavText_title__u+YKh\",\"titleText\":\"NavText_titleText__lFoUP\",\"textPreview\":\"NavText_textPreview__CfhSo\",\"noText\":\"NavText_noText__Parmv\",\"textPreview__imgContainer\":\"NavText_textPreview__imgContainer__6SJ9b\"};","// extracted by mini-css-extract-plugin\nexport default {};","import cn from 'classnames';\r\n\r\nimport styles from './Price.module.scss';\r\n\r\nexport interface PriceProps {\r\n  className?: string;\r\n  price?: number;\r\n  priceString?: string;\r\n}\r\n\r\nconst Price = ({ className, price, priceString }: PriceProps) => {\r\n  const rootClassName = cn('price-item', styles.root, className);\r\n  // TODO - Make currency change depending on selected currency.\r\n  const currency = '£';\r\n\r\n  const formattedPrice =\r\n    price !== undefined ? `${currency}${price.toFixed(2)}` : `${currency}${priceString}`;\r\n\r\n  if (!formattedPrice) {\r\n    return null;\r\n  }\r\n\r\n  return <span className={rootClassName}>{formattedPrice}</span>;\r\n};\r\n\r\nexport default Price;\r\n","import { TextCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { FC, useEffect, useMemo, useState } from 'react';\r\n\r\nimport Price from '@components/ui/Price';\r\nimport { NAME_TYPE_LUXURY_ID } from '@store/constants';\r\nimport cn from 'classnames';\r\nimport styles from './NavText.module.scss';\r\n\r\nexport interface NavTextFinishProps {\r\n  editText?: TextCustomiser;\r\n}\r\n\r\nconst NavTextFinish: FC<NavTextFinishProps> = ({ editText = {} }) => {\r\n  const { selectedName } = editText;\r\n\r\n  const [crystals, setCrystals] = useState<boolean>(editText?.crystalPrice ? true : false);\r\n  const [puff, setPuff] = useState<boolean>(editText?.puffPrice ? true : false);\r\n\r\n  const hasPuffOption = useMemo(() => selectedName?.id === NAME_TYPE_LUXURY_ID, [selectedName]);\r\n\r\n  const { updateText } = useCustomiserStore();\r\n\r\n  useEffect(() => {\r\n    setPuff(editText.puffPrice ? true : false);\r\n  }, [editText.puffPrice]);\r\n\r\n  if (!selectedName) {\r\n    return null;\r\n  }\r\n\r\n  const addCrystals = (add: boolean) => {\r\n    if (editText?.key) {\r\n      setCrystals(add);\r\n      if (add) {\r\n        updateText(editText.key, {\r\n          crystalPrice: {\r\n            price: selectedName.attributes?.crystalPrice?.price,\r\n            quantity: 1,\r\n            shopifyVariantId: selectedName.attributes?.crystalPrice?.shopifyVariantId,\r\n          },\r\n        });\r\n      } else {\r\n        updateText(editText.key, {\r\n          crystalPrice: undefined,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const addPuff = (add: boolean) => {\r\n    if (editText?.key) {\r\n      setPuff(add);\r\n      if (add) {\r\n        updateText(editText.key, {\r\n          puffPrice: {\r\n            price: selectedName.attributes?.puffPrice?.price,\r\n            quantity: 1,\r\n            shopifyVariantId: selectedName.attributes?.puffPrice?.shopifyVariantId,\r\n          },\r\n        });\r\n      } else {\r\n        updateText(editText.key, {\r\n          puffPrice: undefined,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.finishSelections}>\r\n        <div\r\n          className={cn(styles.finishSelection, {\r\n            [styles.selected]: !crystals,\r\n          })}\r\n          onClick={() => addCrystals(false)}\r\n        >\r\n          No Crystals\r\n          <div className={styles.pricing}>\r\n            {' +'}\r\n            <Price price={0} />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={cn(styles.finishSelection, {\r\n            [styles.selected]: crystals,\r\n          })}\r\n          onClick={() => addCrystals(true)}\r\n        >\r\n          Add Crystals\r\n          <div className={styles.pricing}>\r\n            {' +'}\r\n            <Price price={selectedName.attributes?.crystalPrice?.price} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.finishSelections}>\r\n        <div\r\n          className={cn(styles.finishSelection, { [styles.selected]: !puff })}\r\n          onClick={() => addPuff(false)}\r\n        >\r\n          Flat\r\n          <div className={styles.pricing}>\r\n            {' +'}\r\n            <Price price={0} />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={cn(styles.finishSelection, {\r\n            [styles.selected]: puff,\r\n            [styles.disabled]: !hasPuffOption,\r\n          })}\r\n          onClick={() => addPuff(true)}\r\n        >\r\n          Add 3D Puff\r\n          {hasPuffOption ? (\r\n            <div className={styles.pricing}>\r\n              {' +'}\r\n              <Price price={selectedName.attributes?.puffPrice?.price} />\r\n            </div>\r\n          ) : (\r\n            <div className={styles.pricing}>(Only available for luxury colors)</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavTextFinish;\r\n","import PillButton from '@components/ui/PillButton';\r\nimport Price from '@components/ui/Price';\r\nimport { MaterialFragment, NameEntity, useGetNamesQuery } from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\nimport { TextCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport MaterialGroup from '../MaterialGroup';\r\n\r\nimport styles from './NavText.module.scss';\r\nimport cn from 'classnames';\r\n\r\nexport interface NavTextNameTypesProps {\r\n  editText?: TextCustomiser;\r\n}\r\n\r\nconst NavTextNameTypes = ({ editText = {} }: NavTextNameTypesProps) => {\r\n  const updateText = useCustomiserStore((state) => state.updateText);\r\n\r\n  const { selectedName } = editText;\r\n  const prevSelectedName = useRef(selectedName);\r\n\r\n  const { data: names } = useGetNamesQuery(\r\n    graphQLClient,\r\n    {},\r\n    {\r\n      select: (data) => data.names?.data,\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!selectedName && names?.length && editText?.key) {\r\n      updateText(editText.key, {\r\n        selectedName: names[0],\r\n      });\r\n    }\r\n  }, [names]);\r\n\r\n  useEffect(() => {\r\n    if (editText?.key && selectedName && prevSelectedName.current !== selectedName) {\r\n      prevSelectedName.current = selectedName;\r\n\r\n      updateText(editText.key, {\r\n        basePrice: {\r\n          price: selectedName.attributes?.basePrice?.price,\r\n          quantity: 1,\r\n          shopifyVariantId: selectedName.attributes?.basePrice?.shopifyVariantId,\r\n        },\r\n        letterPrice: {\r\n          price: selectedName.attributes?.letterPrice?.price,\r\n          quantity: 1,\r\n          shopifyVariantId: selectedName.attributes?.letterPrice?.shopifyVariantId,\r\n        },\r\n        nameType: {\r\n          id: selectedName.id,\r\n          name: selectedName.attributes?.name,\r\n        },\r\n        /**\r\n         * Reset material when selectedName changes.\r\n         *\r\n         * Different name types would have different\r\n         * material groups.\r\n         */\r\n        material: undefined,\r\n        ...(editText.outline\r\n          ? {\r\n              outlinePrice: {\r\n                price: selectedName.attributes?.outlinePrice?.price,\r\n                quantity: 1,\r\n                shopifyVariantId: selectedName.attributes?.outlinePrice?.shopifyVariantId,\r\n              },\r\n            }\r\n          : {}),\r\n\r\n        puffPrice: undefined,\r\n      });\r\n    }\r\n  }, [selectedName]);\r\n\r\n  if (!selectedName) {\r\n    return null;\r\n  }\r\n\r\n  const setMaterial = (material: MaterialFragment) => {\r\n    if (editText?.key) {\r\n      updateText(editText.key, {\r\n        material,\r\n      });\r\n    }\r\n  };\r\n\r\n  const setSelectedName = (name: NameEntity) => {\r\n    if (editText?.key) {\r\n      updateText(editText.key, {\r\n        selectedName: name,\r\n      });\r\n    }\r\n  };\r\n\r\n  console.log(selectedName);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.finishSelections}>\r\n        {names?.map((n) => (\r\n          <div\r\n            key={n.id}\r\n            className={cn(styles.finishSelection, {\r\n              [styles.selected]: n.id === selectedName.id,\r\n            })}\r\n            onClick={() => setSelectedName(n)}\r\n          >\r\n            {n.attributes?.name}\r\n            <div className={styles.pricing}>\r\n              <Price price={n.attributes?.basePrice?.price} />\r\n              {' + '}\r\n              <Price price={n.attributes?.letterPrice?.price} /> per letter\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <MaterialGroup\r\n        hideColorGroups={true}\r\n        materialGroup={selectedName?.attributes?.materialGroup?.data}\r\n        materialType={editText?.material?.attributes?.type?.data}\r\n        colourGroup={editText?.material?.attributes?.colourGroups?.data[0]}\r\n        onMaterialSelected={setMaterial}\r\n        className={styles.materialGroup}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavTextNameTypes;\r\n","import { TextCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport { FC, useEffect, useState } from 'react';\r\n\r\nimport PillButton from '@components/ui/PillButton';\r\nimport Price from '@components/ui/Price';\r\nimport { MaterialFragment } from '@graphql/generated/graphql';\r\nimport MaterialGroup from '../MaterialGroup';\r\nimport styles from './NavText.module.scss';\r\nimport cn from 'classnames';\r\n\r\nexport interface NavTextOutlineProps {\r\n  editText?: TextCustomiser;\r\n}\r\n\r\nconst NavTextOutline: FC<NavTextOutlineProps> = ({ editText = {} }) => {\r\n  const [showOutline, setShowOutline] = useState<boolean>(editText?.outline ? true : false);\r\n\r\n  const { updateText } = useCustomiserStore();\r\n\r\n  const { selectedName } = editText;\r\n\r\n  if (!selectedName) {\r\n    return null;\r\n  }\r\n\r\n  const setOutline = (outline: MaterialFragment) => {\r\n    if (editText?.key) {\r\n      updateText(editText.key, {\r\n        outline,\r\n        outlinePrice: {\r\n          price: selectedName.attributes?.outlinePrice?.price,\r\n          quantity: 1,\r\n          shopifyVariantId: selectedName.attributes?.outlinePrice?.shopifyVariantId,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateOutline = (show: boolean) => {\r\n    setShowOutline(show);\r\n    if (!show && editText?.key) {\r\n      updateText(editText.key, {\r\n        outline: undefined,\r\n        outlinePrice: undefined,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={cn(styles.showOutline, styles.finishSelections)}>\r\n        <div\r\n          className={cn(styles.finishSelection, { [styles.selected]: !showOutline })}\r\n          onClick={() => updateOutline(false)}\r\n        >\r\n          No Outline\r\n          <div className={styles.pricing}>\r\n            {' +'}\r\n            <Price price={0} />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={cn(styles.finishSelection, { [styles.selected]: showOutline })}\r\n          onClick={() => updateOutline(true)}\r\n        >\r\n          Add Outline\r\n          <div className={styles.pricing}>\r\n            {' +'}\r\n            <Price price={selectedName.attributes?.outlinePrice?.price} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showOutline && (\r\n        <>\r\n          <MaterialGroup\r\n            hideColorGroups\r\n            materialGroup={selectedName?.attributes?.outlineGroup?.data}\r\n            materialType={editText?.outline?.attributes?.type?.data}\r\n            colourGroup={editText?.outline?.attributes?.colourGroups?.data[0]}\r\n            onMaterialSelected={setOutline}\r\n            className={styles.materialGroup}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavTextOutline;\r\n","import FormInput from '@components/ui/FormInput';\r\nimport FormSelect from '@components/ui/FormSelect';\r\nimport { TextCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { ChangeEvent, useEffect, useState } from 'react';\r\n\r\nimport styles from './NavText.module.scss';\r\n\r\nexport interface NavTextSelectProps {\r\n  className?: string;\r\n  editText?: TextCustomiser;\r\n}\r\n\r\nconst fonts = [\r\n  {\r\n    name: 'Arial',\r\n    className: styles.arial,\r\n    url: 'https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/arial-bold-webfont.woff',\r\n  },\r\n  {\r\n    name: 'Oswald',\r\n    className: styles.oswald,\r\n    url: 'https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/oswald-semibold.woff',\r\n  },\r\n  {\r\n    name: 'College',\r\n    className: styles.college,\r\n    url: 'https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/college_block-webfont.woff',\r\n  },\r\n  {\r\n    name: 'Ballantines',\r\n    className: styles.ballantines,\r\n    url: 'https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/ballantines-bold-webfont.woff',\r\n  },\r\n];\r\n\r\nconst NavTextSelect = ({ className, editText }: NavTextSelectProps) => {\r\n  const [text, setText] = useState<string | undefined>(editText?.text);\r\n  const [font, setFont] = useState<(typeof fonts)[number]>(\r\n    fonts.find((f) => editText?.font === f.url) ?? fonts[0],\r\n  );\r\n  const { addText, updateText } = useCustomiserStore((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (editText?.key) {\r\n      updateText(editText.key, {\r\n        text,\r\n        font: font.url,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      if (text) {\r\n        addText({ text, font: font.url });\r\n      }\r\n    }\r\n  }, [text, font]);\r\n\r\n  const setTextOnChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setText(event.target.value);\r\n  };\r\n\r\n  const onFontChange = (font: (typeof fonts)[number]) => {\r\n    setFont(font);\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <FormInput placeholder='Enter text' value={text} onChange={setTextOnChange} />\r\n\r\n      <div className={styles.fontSelection}>\r\n        {fonts.map((_font) => (\r\n          <div\r\n            key={_font.name}\r\n            onClick={() => onFontChange(_font)}\r\n            className={cn(styles.font, _font.className, {\r\n              [styles.selected]: font.name === _font.name,\r\n            })}\r\n          >\r\n            {_font.name}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {/* <FormSelect\r\n        className={fonts.find((f) => f.url === font)?.className}\r\n        value={font}\r\n        onChange={onFontChange}\r\n      >\r\n        {fonts.map((f) => (\r\n          <option className={f.className} key={f.url} value={f.url}>\r\n            {f.name}\r\n          </option>\r\n        ))}\r\n      </FormSelect> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavTextSelect;\r\n","import { TextCustomiser, useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { Dispatch, SetStateAction } from 'react';\r\nimport NavOptionEdit from '../NavOptionEdit';\r\n\r\nimport styles from './NavText.module.scss';\r\n\r\nexport interface NavTextTextProps {\r\n  text: TextCustomiser;\r\n  className?: string;\r\n  setShowSelector?: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst NavTextText = ({ className, text, setShowSelector }: NavTextTextProps) => {\r\n  const { updateText, deleteText } = useCustomiserStore((state) => state);\r\n  const rootClassName = cn(styles.root, className);\r\n\r\n  const editItem = () => {\r\n    if (text.key) {\r\n      updateText(text.key, { edit: true });\r\n      setShowSelector && setShowSelector(true);\r\n    }\r\n  };\r\n\r\n  const deleteItem = () => {\r\n    if (text.key) {\r\n      deleteText(text.key);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.textItem} onClick={editItem}>\r\n      <div className={styles.textItemText}>{text.text}</div>\r\n      <NavOptionEdit onEdit={editItem} onDelete={deleteItem} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavTextText;\r\n","import { FC } from 'react';\r\n\r\nimport Button from '@components/ui/Button';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport NavButtons from '../NavButtons';\r\nimport styles from './NavText.module.scss';\r\nimport NavTextText from './NavTextText';\r\n\r\ntype NavTextsSelectionProps = {\r\n  onAddTextClicked?: () => void;\r\n  onTextSelected?: () => void;\r\n};\r\n\r\nconst NavTextsSelection: FC<NavTextsSelectionProps> = ({ onAddTextClicked, onTextSelected }) => {\r\n  const texts = useCustomiserStore((state) => state.texts);\r\n\r\n  return (\r\n    <div className={styles.navTextsSelection}>\r\n      <div className={styles.title}>\r\n        <h3 className={styles.titleText}>Your Texts</h3>\r\n\r\n        <Button colour='red' onClick={onAddTextClicked}>\r\n          Add Text\r\n        </Button>\r\n      </div>\r\n\r\n      {texts.map((t) => (\r\n        <NavTextText key={t.key} text={t} setShowSelector={onTextSelected} />\r\n      ))}\r\n\r\n      <NavButtons></NavButtons>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavTextsSelection;\r\n","import type { MaterialFragment } from '@graphql/generated/graphql';\r\nimport type { Falsey } from 'lodash';\r\n// eslint-disable-next-line\r\n// @ts-ignore\r\nimport { NormalMapGenerator } from 'normalmap-online';\r\n\r\nexport function getMaterialUrl(material: MaterialFragment | undefined): string {\r\n  return material?.attributes?.images?.find((imgMap) => imgMap?.mapType === 'map')?.image.data\r\n    ?.attributes?.formats.large.url;\r\n}\r\n\r\n// TODO - Relocate this\r\ninterface ImgToNormalMapParams {\r\n  img: HTMLImageElement | HTMLCanvasElement;\r\n  hasPuff?: boolean;\r\n  blur?: number;\r\n}\r\nconst normalMapGenerator = NormalMapGenerator.instance();\r\nasync function imgToNormalMap({ img, hasPuff, blur }: ImgToNormalMapParams) {\r\n  const blurAmount = hasPuff ? blur || 7 : 1;\r\n  return normalMapGenerator.generateFromImage(img, {\r\n    strength: 0.5,\r\n    blur: blurAmount,\r\n    level: 1,\r\n  });\r\n}\r\n\r\ninterface PreviewText {\r\n  material: HTMLImageElement | undefined;\r\n  outline: HTMLImageElement | undefined;\r\n  previewImg: HTMLImageElement;\r\n  normalMapPatternImg?: HTMLImageElement | false;\r\n  emissiveMap?: HTMLImageElement | Falsey;\r\n}\r\n\r\nexport type PatternType = 'crystals' | 'embroidery' | Falsey;\r\n\r\ninterface CanvasTextConstructor {\r\n  hasPuff: boolean;\r\n  toNormalMap: boolean;\r\n  patternType: PatternType;\r\n  text?: string;\r\n}\r\n\r\nexport class CanvasText {\r\n  canvas: HTMLCanvasElement;\r\n  ctx: CanvasRenderingContext2D;\r\n  outlineCanvas: HTMLCanvasElement;\r\n  outlineCtx: CanvasRenderingContext2D;\r\n\r\n  normalMapTextureCanvas: HTMLCanvasElement;\r\n  normalMapTextureCtx: CanvasRenderingContext2D;\r\n  normalMapCanvas: HTMLCanvasElement;\r\n  normalMapCtx: CanvasRenderingContext2D;\r\n\r\n  normalMapOutlineTextureCanvas: HTMLCanvasElement;\r\n  normalMapOutlineTextureCtx: CanvasRenderingContext2D;\r\n  normalMapOutlineCanvas: HTMLCanvasElement;\r\n  normalMapOutlineCtx2: CanvasRenderingContext2D;\r\n\r\n  emissiveMapCanvas: HTMLCanvasElement;\r\n  emissiveMapCtx: CanvasRenderingContext2D;\r\n\r\n  hasPuff: boolean;\r\n  toNormalMap: boolean;\r\n  patternType: PatternType;\r\n  text?: string;\r\n\r\n  canvasHeight: number;\r\n  canvasWidth: number;\r\n  fontSize: number;\r\n  outlineWidth: number;\r\n\r\n  constructor({ hasPuff, toNormalMap, text, patternType }: CanvasTextConstructor) {\r\n    this.hasPuff = hasPuff;\r\n    this.toNormalMap = toNormalMap;\r\n    this.patternType = patternType;\r\n    this.text = text;\r\n\r\n    this.fontSize = 360;\r\n    this.canvasHeight = 400;\r\n    this.canvasWidth = 3200;\r\n    this.outlineWidth = 20;\r\n\r\n    this.canvas = document.createElement('canvas');\r\n    this.canvas.height = this.canvasHeight;\r\n    this.canvas.width = this.canvasWidth;\r\n    this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n    this.outlineCanvas = document.createElement('canvas');\r\n    this.outlineCanvas.height = this.canvasHeight;\r\n    this.outlineCanvas.width = this.canvasWidth;\r\n    this.outlineCtx = this.outlineCanvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n    // Normal map section\r\n\r\n    this.normalMapTextureCanvas = document.createElement('canvas');\r\n    this.normalMapTextureCanvas.height = this.canvasHeight;\r\n    this.normalMapTextureCanvas.width = this.canvasWidth;\r\n    this.normalMapTextureCtx = this.normalMapTextureCanvas.getContext(\r\n      '2d',\r\n    ) as CanvasRenderingContext2D;\r\n\r\n    this.normalMapCanvas = document.createElement('canvas');\r\n    this.normalMapCanvas.height = this.canvasHeight;\r\n    this.normalMapCanvas.width = this.canvasWidth;\r\n    this.normalMapCtx = this.normalMapCanvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n    this.normalMapOutlineTextureCanvas = document.createElement('canvas');\r\n    this.normalMapOutlineTextureCanvas.height = this.canvasHeight;\r\n    this.normalMapOutlineTextureCanvas.width = this.canvasWidth;\r\n    this.normalMapOutlineTextureCtx = this.normalMapOutlineTextureCanvas.getContext(\r\n      '2d',\r\n    ) as CanvasRenderingContext2D;\r\n\r\n    this.normalMapOutlineCanvas = document.createElement('canvas');\r\n    this.normalMapOutlineCanvas.height = this.canvasHeight;\r\n    this.normalMapOutlineCanvas.width = this.canvasWidth;\r\n    this.normalMapOutlineCtx2 = this.normalMapOutlineCanvas.getContext(\r\n      '2d',\r\n    ) as CanvasRenderingContext2D;\r\n\r\n    // TEST emissive map\r\n    this.emissiveMapCanvas = document.createElement('canvas');\r\n    this.emissiveMapCanvas.height = this.canvasHeight;\r\n    this.emissiveMapCanvas.width = this.canvasWidth;\r\n    this.emissiveMapCtx = this.emissiveMapCanvas.getContext('2d') as CanvasRenderingContext2D;\r\n  }\r\n\r\n  public clear() {\r\n    this.ctx?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.outlineCtx?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n  public async drawImg(ctx: CanvasRenderingContext2D, src: HTMLImageElement) {\r\n    ctx.drawImage(src, 0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  public showTestCanvas(canvas: HTMLCanvasElement) {\r\n    const testPreviewDom = document.getElementById('testPreview'); // TEST ONLY, TO BE REMOVED\r\n    (testPreviewDom as unknown as HTMLElement).innerHTML = ''; // TEST ONLY, TO BE REMOVED\r\n    // testPreviewDom?.appendChild(canvas); // TEST ONLY, TO BE REMOVED\r\n    // testPreviewDom?.appendChild(this2.normalMapCanvas); // TEST ONLY, TO BE REMOVED\r\n    // testPreviewDom?.appendChild(this.normalMapOutlineTextureCanvas); // TEST ONLY, TO BE REMOVED\r\n    // testPreviewDom?.appendChild(this.normalMapOutlineCanvas); // TEST ONLY, TO BE REMOVED\r\n    // testPreviewDom?.appendChild(this.emissiveMapCanvas); // TEST ONLY, TO BE REMOVED\r\n  }\r\n\r\n  public async maskImage(ctx: CanvasRenderingContext2D, img: HTMLImageElement) {\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    await this.drawImg(ctx, img);\r\n    ctx.globalCompositeOperation = 'source-over'; // reset to default\r\n  }\r\n\r\n  public drawPreviewText(ctx: CanvasRenderingContext2D) {\r\n    if (!this.text) return;\r\n\r\n    ctx.font = `${this.fontSize}px testFont`;\r\n    ctx.textAlign = 'center';\r\n    ctx.fillText(this.text, this.canvas.width / 2, this.canvas.height / 2 + 15 + this.fontSize / 4);\r\n  }\r\n\r\n  public drawPreviewOutlineText() {\r\n    if (!this.text) return;\r\n\r\n    this.outlineCtx.font = `${this.fontSize}px testFont`;\r\n    this.outlineCtx.textAlign = 'center';\r\n    this.outlineCtx.lineWidth = this.outlineWidth;\r\n    this.outlineCtx.strokeText(\r\n      this.text,\r\n      this.canvas.width / 2,\r\n      this.canvas.height / 2 + 15 + this.fontSize / 4,\r\n    );\r\n  }\r\n\r\n  public drawPreviewOutlineOnlyText(ctx: CanvasRenderingContext2D) {\r\n    if (!this.text) return;\r\n\r\n    ctx.font = `${this.fontSize}px testFont`;\r\n    ctx.textAlign = 'center';\r\n    ctx.lineWidth = 30;\r\n    ctx.fillStyle = 'green';\r\n    ctx.strokeText(\r\n      this.text,\r\n      this.canvas.width / 2,\r\n      this.canvas.height / 2 + 15 + this.fontSize / 4,\r\n    );\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.fillText(this.text, this.canvas.width / 2, this.canvas.height / 2 + 15 + this.fontSize / 4);\r\n    ctx.globalCompositeOperation = 'source-over'; // reset to default\r\n  }\r\n\r\n  private async drawNormalMap(normalMapPatternImg: HTMLImageElement | Falsey) {\r\n    this.drawPreviewText(this.normalMapTextureCtx);\r\n\r\n    if (normalMapPatternImg) {\r\n      const pattern = this.normalMapTextureCtx.createPattern(normalMapPatternImg, 'repeat');\r\n\r\n      if (!pattern) return;\r\n\r\n      this.normalMapTextureCtx.globalCompositeOperation = 'source-in';\r\n      this.normalMapTextureCtx.rect(0, 0, this.canvasWidth, this.canvasHeight);\r\n      this.normalMapTextureCtx.fillStyle = pattern;\r\n      this.normalMapTextureCtx.fill();\r\n      this.normalMapTextureCtx.globalCompositeOperation = 'source-over';\r\n    }\r\n\r\n    console.log('toNormalMap', this.toNormalMap);\r\n    const normalMap = this.toNormalMap\r\n      ? await imgToNormalMap({\r\n          img: this.normalMapTextureCanvas,\r\n          hasPuff: this.hasPuff,\r\n        })\r\n      : this.normalMapTextureCanvas;\r\n\r\n    this.normalMapCtx.drawImage(normalMap, 0, 0);\r\n  }\r\n\r\n  private async drawOutlineNormalMap(normalMapPatternImg: HTMLImageElement | Falsey) {\r\n    this.drawPreviewOutlineOnlyText(this.normalMapOutlineTextureCtx);\r\n\r\n    if (normalMapPatternImg) {\r\n      const pattern = this.normalMapOutlineTextureCtx.createPattern(normalMapPatternImg, 'repeat');\r\n\r\n      if (!pattern) return;\r\n\r\n      this.normalMapOutlineTextureCtx.globalCompositeOperation = 'source-in';\r\n      this.normalMapOutlineTextureCtx.rect(0, 0, this.canvasWidth, this.canvasHeight);\r\n      if (this.patternType !== 'crystals') {\r\n        this.normalMapOutlineTextureCtx.fillStyle = pattern;\r\n      }\r\n      this.normalMapOutlineTextureCtx.fill();\r\n      this.normalMapOutlineTextureCtx.globalCompositeOperation = 'source-over';\r\n    }\r\n\r\n    const normalMap =\r\n      this.toNormalMap || this.patternType === 'crystals'\r\n        ? await imgToNormalMap({\r\n            img: this.normalMapOutlineTextureCanvas,\r\n            hasPuff: this.patternType === 'crystals' ? true : this.hasPuff,\r\n            blur: 4,\r\n          })\r\n        : this.normalMapOutlineTextureCanvas;\r\n    this.normalMapOutlineCtx2.drawImage(normalMap, 0, 0);\r\n  }\r\n\r\n  private printTextMapToStrokeMap() {\r\n    this.normalMapCtx.globalCompositeOperation = 'destination-in';\r\n    this.normalMapCtx.drawImage(this.normalMapTextureCanvas, 0, 0);\r\n    this.normalMapCtx.globalCompositeOperation = 'source-over'; // reset to default\r\n    this.normalMapOutlineCtx2.drawImage(this.normalMapCanvas, 0, 0);\r\n  }\r\n\r\n  public async previewText({\r\n    material,\r\n    outline,\r\n    previewImg,\r\n    normalMapPatternImg,\r\n    emissiveMap,\r\n  }: PreviewText) {\r\n    if (!this.text) return;\r\n\r\n    this.clear();\r\n    this.showTestCanvas(this.normalMapTextureCanvas);\r\n\r\n    await this.drawNormalMap(normalMapPatternImg);\r\n    await this.drawOutlineNormalMap(normalMapPatternImg);\r\n\r\n    this.printTextMapToStrokeMap();\r\n\r\n    if (outline) {\r\n      this.drawPreviewOutlineText();\r\n      await this.maskImage(this.outlineCtx, outline);\r\n    }\r\n\r\n    this.drawPreviewText(this.ctx);\r\n\r\n    if (material) {\r\n      await this.maskImage(this.ctx, material);\r\n    }\r\n\r\n    this.outlineCtx.drawImage(this.canvas, 0, 0);\r\n    previewImg.src = this.outlineCanvas.toDataURL();\r\n\r\n    // TEST\r\n\r\n    if (emissiveMap) {\r\n      const pattern = this.emissiveMapCtx.createPattern(emissiveMap, 'repeat');\r\n\r\n      if (pattern) {\r\n        this.emissiveMapCtx.rect(0, 0, this.canvasWidth, this.canvasHeight);\r\n        this.emissiveMapCtx.fillStyle = pattern;\r\n        this.emissiveMapCtx.fill();\r\n      }\r\n    }\r\n  }\r\n\r\n  public mergeCanvas() {\r\n    this.outlineCtx.drawImage(this.canvas, 0, 0);\r\n  }\r\n\r\n  getOutlineCanvas() {\r\n    return this.outlineCanvas;\r\n  }\r\n  getNormalMapTextureCanvas() {\r\n    return this.normalMapTextureCanvas;\r\n  }\r\n  getNormalMapOutlineCanvas() {\r\n    return this.normalMapOutlineCanvas;\r\n  }\r\n\r\n  getEmissiveMapCanvas() {\r\n    return this.emissiveMapCanvas;\r\n  }\r\n}\r\n","import { CanvasText, PatternType, getMaterialUrl } from '@lib/canvas';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { CanvasTexture } from 'three';\r\nimport type { NavTextSelectProps } from './NavTextSelect';\r\nimport { usePortalRef } from '@hooks';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport styles from './NavText.module.scss';\r\n\r\n// TODO - Pre load the fonts somewhere\r\nasync function loadFonts(fontUrl: string) {\r\n  const font = new FontFace('testFont', `url(${fontUrl})`);\r\n  await font.load();\r\n  document.fonts.add(font);\r\n}\r\n\r\n// TO IMPROVE? - Make this a reusable function if needed\r\nasync function loadImage(src: string): Promise<HTMLImageElement> {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    if (!src) resolve(img);\r\n    img.crossOrigin = 'anonymous';\r\n    img.onload = () => resolve(img);\r\n    img.onerror = reject;\r\n    img.src = src;\r\n  });\r\n}\r\n\r\nfunction getPatternType({\r\n  hasCrystals,\r\n  isLuxury,\r\n}: {\r\n  hasCrystals: boolean;\r\n  isLuxury: boolean;\r\n}): PatternType {\r\n  if (!hasCrystals && isLuxury) return 'embroidery';\r\n  else if (hasCrystals) return 'crystals';\r\n\r\n  return '';\r\n}\r\n\r\nconst NavTextPreview = ({ editText }: NavTextSelectProps) => {\r\n  const previewImgRef = useRef<HTMLImageElement | null>(null);\r\n  const [fontFamily, setFontFamily] = useState<string | undefined>(editText?.font);\r\n  const [isVisiblePreview, setIsVisiblePreview] = useState(false);\r\n\r\n  const hasCrystals: boolean = editText?.crystalPrice ? true : false;\r\n  const isLuxury: boolean = editText?.selectedName?.id === '2' ? true : false;\r\n  const hasPuff: boolean = editText?.puffPrice && !hasCrystals ? true : false; // 3D puff\r\n  const toNormalMap = hasCrystals ? false : true;\r\n  const patternType = getPatternType({ hasCrystals, isLuxury });\r\n\r\n  const { updateText } = useCustomiserStore();\r\n\r\n  const portalRef = usePortalRef('NavHeaderAfter');\r\n\r\n  /**\r\n   * Save image here\r\n   */\r\n  const materialImgMemo = useMemo<Promise<HTMLImageElement>>(() => {\r\n    return loadImage(getMaterialUrl(editText?.material));\r\n  }, [editText?.material]);\r\n  const outlineImgMemo = useMemo<Promise<HTMLImageElement>>(() => {\r\n    return loadImage(getMaterialUrl(editText?.outline));\r\n  }, [editText?.outline]);\r\n  const fabricPatternImgMemo = useMemo<Promise<HTMLImageElement>>(() => {\r\n    return loadImage('/Fabric_Knitted_006_height_small.png');\r\n  }, []);\r\n  const crystalNormalMapImgMemo = useMemo<Promise<HTMLImageElement>>(() => {\r\n    // return loadImage('/crystal-32.png');\r\n    // return loadImage('/sphere-32.png');\r\n    // return loadImage('/ring-32.png');\r\n    // return loadImage('/grid-circle.png');\r\n    // return loadImage('/pyramid-24.png');\r\n    // return loadImage('/crystal-16.png');\r\n    return loadImage('/crystal-12.png');\r\n  }, []);\r\n  const crystalEmissiveMapImgMemo = useMemo<Promise<HTMLImageElement>>(() => {\r\n    return loadImage('/crystal-emissive-12.png');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const previewImgDom = previewImgRef.current as HTMLImageElement;\r\n\r\n    (async () => {\r\n      const canvasText = new CanvasText({\r\n        hasPuff,\r\n        toNormalMap,\r\n        patternType,\r\n        text: editText?.text,\r\n      });\r\n\r\n      if (!editText || !editText.key || !isVisiblePreview) {\r\n        canvasText.clear();\r\n        return;\r\n      }\r\n\r\n      if (!editText.text) {\r\n        canvasText.clear();\r\n        updateText(editText.key, {\r\n          preview: new CanvasTexture(canvasText.getOutlineCanvas()),\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Adjust this once preloading fonts has been implemented\r\n      if (fontFamily !== editText?.font) {\r\n        setFontFamily(editText?.font);\r\n        await loadFonts(editText?.font as string);\r\n      }\r\n\r\n      const img = editText?.material && (await materialImgMemo);\r\n      const outlineImg = editText?.outline && (await outlineImgMemo);\r\n      const embroideryPattern = await fabricPatternImgMemo;\r\n      const crystalNormalMap = await crystalNormalMapImgMemo;\r\n      const crystalEmissiveMap = await crystalEmissiveMapImgMemo;\r\n\r\n      // embroidery normal map is generated in the code while crystal pattern image is already a normal map\r\n      const shouldUsePattern = isLuxury && !hasPuff;\r\n      const patternImg = shouldUsePattern && (hasCrystals ? crystalNormalMap : embroideryPattern);\r\n\r\n      await canvasText.previewText({\r\n        material: img,\r\n        outline: outlineImg,\r\n        previewImg: previewImgDom,\r\n        normalMapPatternImg: patternImg,\r\n        emissiveMap: crystalEmissiveMap,\r\n      });\r\n\r\n      updateText(editText.key, {\r\n        preview: new CanvasTexture(canvasText.getOutlineCanvas()),\r\n        normalMap: new CanvasTexture(canvasText.getNormalMapOutlineCanvas()),\r\n        emissiveMap: new CanvasTexture(canvasText.getEmissiveMapCanvas()),\r\n      });\r\n    })();\r\n  }, [\r\n    editText?.text,\r\n    editText?.material,\r\n    editText?.outline,\r\n    editText?.font,\r\n    isVisiblePreview,\r\n    editText?.puffPrice,\r\n    editText?.crystalPrice,\r\n  ]);\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  return createPortal(\r\n    <>\r\n      <div id='testPreview' style={{ position: 'absolute', zIndex: '100' }} />\r\n      <div className={styles.textPreview}>\r\n        {!editText?.text ? (\r\n          <div className={styles.noText}>Enter text to show preview</div>\r\n        ) : (\r\n          <>\r\n            <div className={styles.textPreview__imgContainer}>\r\n              <img\r\n                height={80}\r\n                width={640}\r\n                ref={(el) => {\r\n                  previewImgRef.current = el;\r\n                  setIsVisiblePreview(!!el);\r\n                }}\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavTextPreview;\r\n","import { useCustomiserStore } from '@store/customiser';\r\nimport { startTransition, useEffect, useMemo, useState } from 'react';\r\nimport NavDecalAdjust from '../NavDecalAdjust';\r\n\r\nimport Accordion from '@components/ui/Accordion/Accordion';\r\nimport NavStepButtons from '../NavStepButtons';\r\nimport styles from './NavText.module.scss';\r\nimport NavTextFinish from './NavTextFinish';\r\nimport NavTextNameTypes from './NavTextNameTypes';\r\nimport NavTextOutline from './NavTextOutline';\r\nimport NavTextSelect from './NavTextSelect';\r\nimport NavTextsSelection from './NavTextsSelection';\r\nimport NavTextPreview from './NavTextPreview';\r\n\r\nconst NavText = () => {\r\n  const [step, setStep] = useState<number | undefined>(0);\r\n\r\n  const texts = useCustomiserStore((state) => state.texts);\r\n  const updateText = useCustomiserStore((state) => state.updateText);\r\n  const editText = useMemo(() => texts?.find((g) => g.edit), [texts]);\r\n  const [showSelector, setShowSelector] = useState(editText?.key !== undefined);\r\n\r\n  useEffect(() => {\r\n    if (editText?.key) {\r\n      setShowSelector(true);\r\n    } else {\r\n      setShowSelector(false);\r\n    }\r\n  }, [editText]);\r\n\r\n  const addText = () => {\r\n    setShowSelector(true);\r\n  };\r\n\r\n  const setScale = (event: number) => {\r\n    startTransition(() => {\r\n      if (editText?.key) updateText(editText.key, { decalScale: Number(event) });\r\n    });\r\n  };\r\n\r\n  const setRotation = (event: number) => {\r\n    startTransition(() => {\r\n      if (editText?.key) updateText(editText.key, { decalRotation: Number(event) });\r\n    });\r\n  };\r\n\r\n  const applyText = () => {\r\n    if (editText?.key) {\r\n      updateText(editText.key, {\r\n        decalFreeze: false,\r\n        edit: false,\r\n      });\r\n    }\r\n\r\n    setStep(0);\r\n\r\n    setShowSelector(false);\r\n  };\r\n\r\n  const handleTitleClick = (_step: number | string) => {\r\n    if (_step === step) {\r\n      setStep(undefined);\r\n    } else {\r\n      setStep(_step as number);\r\n    }\r\n  };\r\n\r\n  const maxStep = 4;\r\n\r\n  const handleNext = () => {\r\n    if (step === undefined) {\r\n      setStep(0);\r\n    } else if (step < maxStep - 1) {\r\n      setStep(step + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (step === undefined) {\r\n      setStep(0);\r\n    } else if (step > 0) {\r\n      setStep(step - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showSelector ? (\r\n        <div className={styles.navTextEdit}>\r\n          <NavTextPreview editText={editText} />\r\n          <Accordion\r\n            step={0}\r\n            title='Text and Font'\r\n            currentStep={step ?? -1}\r\n            onTitleClick={handleTitleClick}\r\n          >\r\n            <NavTextSelect editText={editText} />\r\n          </Accordion>\r\n          <Accordion\r\n            step={1}\r\n            title='Text Color'\r\n            currentStep={step ?? -1}\r\n            onTitleClick={handleTitleClick}\r\n          >\r\n            <NavTextNameTypes editText={editText} />\r\n          </Accordion>\r\n          <Accordion\r\n            step={2}\r\n            title='Finish'\r\n            currentStep={step ?? -1}\r\n            onTitleClick={handleTitleClick}\r\n          >\r\n            <NavTextFinish editText={editText}></NavTextFinish>\r\n          </Accordion>\r\n\r\n          <Accordion\r\n            step={3}\r\n            title='Outline'\r\n            currentStep={step ?? -1}\r\n            onTitleClick={handleTitleClick}\r\n          >\r\n            <NavTextOutline editText={editText} />\r\n          </Accordion>\r\n\r\n          <NavStepButtons\r\n            step={step}\r\n            maxStep={maxStep - 1}\r\n            onNext={handleNext}\r\n            onPrevious={handlePrevious}\r\n            onApply={applyText}\r\n          />\r\n\r\n          <NavDecalAdjust\r\n            scale={editText?.decalScale}\r\n            rotation={editText?.decalRotation}\r\n            onScale={setScale}\r\n            onRotate={setRotation}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <NavTextsSelection onAddTextClicked={addText}></NavTextsSelection>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavText;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"CustomiserNav_root__rgnWr\",\"open\":\"CustomiserNav_open__6TgJc\",\"isFullscreen\":\"CustomiserNav_isFullscreen__xo92v\",\"minimized\":\"CustomiserNav_minimized__-4C1L\",\"actions\":\"CustomiserNav_actions__B0fm0\",\"content\":\"CustomiserNav_content__whsIx\",\"headerAfter\":\"CustomiserNav_headerAfter__bXrUD\",\"hasActions\":\"CustomiserNav_hasActions__xe43g\"};","import { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { Suspense, useEffect, useMemo, useState } from 'react';\r\nimport NavFitting from '../NavFitting';\r\nimport NavFlags from '../NavFlags';\r\nimport NavHeader from '../NavHeader';\r\nimport NavImages from '../NavImages';\r\nimport NavOptions from '../NavOptions';\r\nimport NavPart from '../NavPart';\r\nimport NavMinimize from '../NavMinimize';\r\nimport NavSize from '../NavSize';\r\nimport NavText from '../NavText';\r\n\r\nimport styles from './CustomiserNav.module.scss';\r\n\r\nexport interface CustomiserNavProps {\r\n  className?: string;\r\n}\r\n\r\nconst CustomiserNav = ({ className }: CustomiserNavProps) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n\r\n  const { selectedPart, selectedNav, texts } = useCustomiserStore();\r\n\r\n  const editText = useMemo(() => texts?.find((g) => g.edit), [texts]);\r\n  const isFullscreen = useMemo(\r\n    () => selectedNav?.name === 'Text' && editText,\r\n    [selectedNav, editText],\r\n  );\r\n\r\n  const rootClassName = cn(\r\n    styles.root,\r\n    {\r\n      [styles.open]: isOpen,\r\n      [styles.minimized]: isMinimized,\r\n      [styles.hasActions]: selectedNav?.hasActions,\r\n      [styles.isFullscreen]: isFullscreen,\r\n    },\r\n    className,\r\n  );\r\n\r\n  const toggleOpen = () => setIsOpen(!isOpen);\r\n\r\n  useEffect(() => {\r\n    if (selectedNav === null && selectedPart === null) {\r\n      setIsOpen(true);\r\n    } else {\r\n      setIsOpen(false);\r\n      setIsMinimized(false);\r\n    }\r\n  }, [selectedPart, selectedNav]);\r\n\r\n  return (\r\n    <motion.nav\r\n      layout='preserve-aspect'\r\n      transition={{\r\n        type: 'spring',\r\n        stiffness: 700,\r\n        damping: 40,\r\n      }}\r\n      className={rootClassName}\r\n    >\r\n      {/* {!isOpen && (\r\n        <NavMinimize\r\n          isMinimized={isMinimized}\r\n          onMinimize={() => setIsMinimized(true)}\r\n          onMaximize={() => setIsMinimized(false)}\r\n        />\r\n      )} */}\r\n      <NavHeader\r\n        className={styles.header}\r\n        toggle={() => toggleOpen()}\r\n        isOpen={isOpen}\r\n        onClick={() => {\r\n          setIsMinimized(!isMinimized);\r\n        }}\r\n        isMinimized={isMinimized}\r\n      />\r\n      <div id='NavHeaderAfter' className={styles.headerAfter}></div>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <AnimatePresence initial={false}>\r\n          <motion.div\r\n            id='scrollable'\r\n            className={styles.content}\r\n            initial='collapsed'\r\n            animate='open'\r\n            exit='collapsed'\r\n            variants={{\r\n              open: { opacity: 1 },\r\n              collapsed: { opacity: 0 },\r\n            }}\r\n          >\r\n            {isOpen ? (\r\n              <NavOptions toggle={() => toggleOpen()} />\r\n            ) : selectedNav?.type === 'fitting' ? (\r\n              <NavFitting />\r\n            ) : selectedNav?.type === 'names' ? (\r\n              <NavText />\r\n            ) : selectedNav?.type === 'flags' ? (\r\n              <NavFlags />\r\n            ) : selectedNav?.type === 'images' ? (\r\n              <NavImages />\r\n            ) : selectedNav?.type === 'size' ? (\r\n              <NavSize />\r\n            ) : selectedPart ? (\r\n              <NavPart part={selectedPart} />\r\n            ) : null}\r\n          </motion.div>\r\n        </AnimatePresence>\r\n      </Suspense>\r\n      {!isOpen && selectedNav?.hasActions && (\r\n        <div className={styles.actions}>\r\n          {selectedPart && <div id='CustomiserNavMaterial'></div>}\r\n          <div id='CustomiserNavActions'></div>\r\n        </div>\r\n      )}\r\n    </motion.nav>\r\n  );\r\n};\r\n\r\nexport default CustomiserNav;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Header_root__cz6kt\",\"total\":\"Header_total__nSueF\",\"price\":\"Header_price__GikHZ\"};","import Button from '@components/ui/Button';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\n\r\nimport { useDesignStore } from '@store/design';\r\nimport styles from './Header.module.scss';\r\nimport Price from '@components/ui/Price';\r\n\r\nexport interface HeaderProps {\r\n  className?: string;\r\n}\r\n\r\nconst Header = ({ className }: HeaderProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const total = useCustomiserStore((state) => state.total());\r\n  const designComplete = useCustomiserStore((state) => state.designComplete());\r\n  const setResetCamera = useDesignStore((state) => state.setResetCamera);\r\n  const addingToCart = useDesignStore((state) => state.addingToCart);\r\n\r\n  const saveDesign = () => {\r\n    setResetCamera();\r\n  };\r\n\r\n  return (\r\n    <div className={rootClassName}>\r\n      <div className={styles.total}>\r\n        Current <Price className={styles.price} priceString={total} />\r\n      </div>\r\n      <Button onClick={saveDesign} disabled={!designComplete || addingToCart}>\r\n        {addingToCart ? 'Saving' : 'Add to basket'}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Customiser_root__+9xV1\",\"nav\":\"Customiser_nav__xnqzP\",\"model\":\"Customiser_model__jxaOf\",\"controls\":\"Customiser_controls__Ar93L\",\"background\":\"Customiser_background__qq7nU\",\"loading\":\"Customiser_loading__vNYyO\",\"header\":\"Customiser_header__1SFjA\",\"close\":\"Customiser_close__sH1pv\"};","import CustomiserNav from '@components/nav/CustomiserNav';\r\nimport Button from '@components/ui/Button';\r\nimport { useDesignStore } from '@store/design';\r\nimport cn from 'classnames';\r\nimport { lazy, Suspense } from 'react';\r\nimport Header from '../Header';\r\n\r\nconst CustomiserCanvas = lazy(() => import('@components/three/CustomiserCanvas'));\r\n\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport styles from './Customiser.module.scss';\r\n\r\nexport interface CustomiserProps {\r\n  className?: string;\r\n}\r\n\r\nconst Customiser = ({ className }: CustomiserProps) => {\r\n  const setShow = useDesignStore((state) => state.setShow);\r\n  const { selectedNav } = useCustomiserStore();\r\n\r\n  const rootClassName = cn(styles.root, className, {\r\n    // [styles.navOpen]: selectedNav !== null,\r\n  });\r\n\r\n  return (\r\n    <div className={rootClassName}>\r\n      <div\r\n        id='iInfoContainer'\r\n        style={{\r\n          // re-figure out again how to put styled ID in scss\r\n          position: 'absolute',\r\n          zIndex: '201',\r\n        }}\r\n      />\r\n      <CustomiserNav className={styles.nav} />\r\n      <Header className={styles.header} />\r\n      <svg\r\n        className={styles.background}\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 114.383 97.088'\r\n      >\r\n        <defs>\r\n          <clipPath id='a'>\r\n            <path d='M0 0h114.383v97.088H0z' />\r\n          </clipPath>\r\n        </defs>\r\n        <g clipPath='url(#a)' fillRule='evenodd'>\r\n          <path\r\n            fill='#e7e6e6'\r\n            d='M8.567 88.645v-.044c1.487-.24 2.986-.466 4.472-.716a1.278 1.278 0 0 0 .743-1.862 1.019 1.019 0 0 0-.949-.409c-2.928.338-5.845.747-8.785 1.147-.492.069-.709.447-.687 1.262.012 1.216.126 1.481.721 1.375 1.5-.243 3.008-.506 4.484-.753M23.905 77.54c-1.224.072-1.842.39-1.9 2.044a69.405 69.405 0 0 0 .011 5.312c.057 1.481.606 2.112 1.716 1.99q4.444-.488 8.888-1.012a1.851 1.851 0 0 0 1.659-1.975c.057-.853.1-1.709.1-2.562.023-.856.023-1.247 0-2.093-.068-1.6-.755-1.769-2.024-1.7Zm9.982-6.006c2.119 0 3.229 1.3 3.744 3.247a8.461 8.461 0 0 1 .32 2.222 225.099 225.099 0 0 1 0 7.896 8.3 8.3 0 0 1-.869 3.622 3.721 3.721 0 0 1-2.8 2.269c-4.072.553-8.121 1.15-12.182 1.784-1.773.306-3.145-1.253-3.523-3.993a25.755 25.755 0 0 1-.229-3.54c-.011-1.275-.006-2.556 0-3.834s.046-2.562.115-3.834c.091-1.944.606-4.015 1.887-5.128a2.565 2.565 0 0 1 1.533-.709Zm61.427 6.006v-6.006h13.325c1.682-.069 2.768 1.381 3.409 3.771a16.91 16.91 0 0 1 .538 4.281 18.216 18.216 0 0 1-.515 4.3 5.807 5.807 0 0 1-1.945 3.4c-.217.181-.469.34-.652.472.8 1.45 1.611 2.926 2.4 4.443a883.295 883.295 0 0 1 2.505 4.856c-.743-.163-1.453-.331-2.139-.472-1.041-.219-2.1-.381-3.157-.644a1.328 1.328 0 0 1-.732-.643c-.641-1.2-1.285-2.373-1.933-3.55-.633-1.148-1.292-2.3-1.91-3.431-.309-.522-.606-.819-1.041-.862a90.174 90.174 0 0 1-3.74-.481c-.366-.056-.481.116-.481.656.011 1.04.011 2.081.011 3.128v3.172c-1.235-.228-2.7-.472-3.946-.691v-12.17c3.752.156 7.526.293 11.278.4.492.013 1-.006 1.487 0 .56.016.789-.769.881-1.541.091-1.2-.149-2.053-.686-2.234a3.757 3.757 0 0 0-1.19-.16Zm-11.255 0v2.709l9.585.616v4.047l-9.631-.944v2.3l9.631 1.065v5.58c-4.838-.834-8.59-1.4-13.429-2.08v-19.3h13.431v6.006ZM37.072 90.367a232.526 232.526 0 0 1 3.775-5.125 219.554 219.554 0 0 1 3.786-4.809c-1.281-1.453-2.562-2.919-3.832-4.415s-2.439-2.915-3.709-4.484h5.5a1.331 1.331 0 0 1 .881.488c.7.84 1.322 1.559 2.02 2.375s1.407 1.625 2.116 2.431c.709-.84 1.417-1.682 2.127-2.512s1.413-1.643 2.128-2.466a.948.948 0 0 1 .652-.316h5.322c-1.224 1.384-2.475 2.827-3.7 4.237s-2.448 2.853-3.672 4.287c1.3 1.472 2.628 2.933 3.935 4.387s2.619 2.919 3.924 4.409c-1.865-.006-3.741.028-5.6.091a1.194 1.194 0 0 1-.789-.422q-1.116-1.213-2.23-2.434c-.732-.8-1.476-1.625-2.208-2.45-.755.928-1.511 1.855-2.265 2.8s-1.5 1.913-2.253 2.9c-.106.138-.274.327-.423.344-1.818.208-3.66.434-5.479.685m21.618-1.509c1.258-1.422 2.528-2.816 3.786-4.215s2.516-2.809 3.775-4.218q-1.922-2.231-3.832-4.428c-1.273-1.46-2.615-2.993-3.884-4.462h5.412a1.339 1.339 0 0 1 .881.459c.7.8 1.59 1.79 2.282 2.594s1.407 1.637 2.116 2.456c.709-.822 1.422-1.647 2.128-2.481s1.557-1.842 2.268-2.7a.959.959 0 0 1 .64-.34c1.773-.006 3.534 0 5.319.012-1.235 1.516-2.584 3.175-3.812 4.64s-2.459 2.884-3.683 4.293a234.511 234.511 0 0 1 3.935 4.959 262.195 262.195 0 0 1 3.935 5.293 296.137 296.137 0 0 0-5.6-.772 1.472 1.472 0 0 1-.8-.569c-.739-.948-1.48-1.9-2.219-2.822s-1.487-1.831-2.219-2.725q-1.132 1.247-2.253 2.49c-.749.829-1.511 1.652-2.265 2.478-.1.115-.274.26-.412.253a205.452 205.452 0 0 0-5.49-.2m-43.271-6.7a3.858 3.858 0 0 1 1.979 2.993 11.586 11.586 0 0 1-.24 5.3c-.549 1.89-1.6 3-2.962 3.29C9.494 94.797 4.8 95.888.1 97.088a.159.159 0 0 1-.1-.05V81.205c.274-.019.572-.041.881-.066 3.763-.328 7.5-.656 11.255-.981.377-.031.789 0 1.018-.622.32-.9-.034-2.037-.755-2H0V71.53h12.857a3.24 3.24 0 0 1 3.2 1.944 9.3 9.3 0 0 1 .721 4.4 8.384 8.384 0 0 1-1.361 4.277'\r\n          />\r\n          <path\r\n            fill='#e7e6e6'\r\n            d='m75.165 48.1-6.079-9.03v.049c-.057 1.036-.095 2.076-.183 3.112a2.019 2.019 0 0 1-.3.929l-8.448 12.034c-.249.368-.854 1.239-1.255 1.374a.382.382 0 0 1-.448-.158 2.924 2.924 0 0 1-.17-1.252v-.015l.451-9.913a.888.888 0 0 1 .121-.521l6.771-9.393a1.068 1.068 0 0 0 0-1.4l-6.516-9.933a3.453 3.453 0 0 1-.372-1.536l-.564-9.434c-.136-2.082.98-1.647 2.035 0l9.86 15.392 5.074-7.607c.439-.71.756-1.16 1.67-1.2a28.863 28.863 0 0 0 6.026-.866 2.49 2.49 0 0 1 .955-.113.381.381 0 0 1 .292.365 7.753 7.753 0 0 1-1.169 2.293L74.64 33.912a.971.971 0 0 0-.011 1.253l8.1 12.066a7.386 7.386 0 0 1 1.192 2.336.379.379 0 0 1-.247.33 2.314 2.314 0 0 1-1.008-.05 43.691 43.691 0 0 0-6.495-.95c-.5-.024-.775-.421-1.012-.8m-17.2-18.084 2.675 4.223a.378.378 0 0 1-.005.42L57.97 38.64a.386.386 0 0 1-.639 0l-2.729-4a.379.379 0 0 1-.005-.426l2.719-4.206a.386.386 0 0 1 .65 0m-13.64-.628 10.716-16.367c.911-1.366 2.032-2.329 1.921 0l-.453 9.457a3.209 3.209 0 0 1-.565 1.514l-6.217 9.551c-.31.474-.372.717-.048 1.2l6.446 9.577a1.569 1.569 0 0 1 .389.861l.454 9.969v.025a3.345 3.345 0 0 1-.187 1.236.385.385 0 0 1-.494.158 4.869 4.869 0 0 1-1.172-1.361l-9.863-14.918c-.149.21-.3.418-.441.636-1.474 2.327-2.954 4.649-4.408 6.989a1.51 1.51 0 0 1-1.168.806h-.025a40.188 40.188 0 0 0-6.467 1.047 3.664 3.664 0 0 1-1.08.156.385.385 0 0 1-.325-.453 11.67 11.67 0 0 1 1.3-2.279L40.716 34.9a.978.978 0 0 0 0-1.256L32.349 21.23a8.345 8.345 0 0 1-1.185-2.257.382.382 0 0 1 .294-.383 2.706 2.706 0 0 1 .969.1c1.112.258 2.222.524 3.342.747a22.428 22.428 0 0 0 3.334.462c.711.032 1.093.653 1.429 1.19 1 1.6 2.087 3.16 3.146 4.727a3.685 3.685 0 0 1 .542 2.108ZM57.652 0 45.465 18.084a.386.386 0 0 1-.628.017c-1.5-2-2.426-3.151-5.06-3.4a68.259 68.259 0 0 1-11.375-2.346c-3.454-.947-6.874-2.013-10.321-2.979l16.621 24.707a.379.379 0 0 1 0 .426L19.854 57.187c3.235-.656 6.473-1.24 9.736-1.751 3.484-.546 6.978-1.03 10.465-1.553a6.441 6.441 0 0 0 4.394-2.608l.623-.841a.385.385 0 0 1 .633.019L57.652 68.8l11.947-18.351a.386.386 0 0 1 .633-.019l.623.841a6.442 6.442 0 0 0 4.394 2.608c3.488.523 6.982 1.007 10.465 1.553 3.263.511 6.5 1.095 9.736 1.751L80.601 34.51a.378.378 0 0 1 0-.426L97.225 9.376c-3.447.965-6.868 2.031-10.321 2.979A68.266 68.266 0 0 1 75.528 14.7c-2.635.249-3.557 1.4-5.06 3.4a.386.386 0 0 1-.628-.017Z'\r\n          />\r\n        </g>\r\n      </svg>\r\n      <div id='CustomiserCanvasControls' className={styles.controls}></div>\r\n      <Suspense fallback={<div className={styles.loading}>Loading ...</div>}>\r\n        <CustomiserCanvas className={styles.model} />\r\n      </Suspense>\r\n      {selectedNav === null && (\r\n        <Button className={styles.close} onClick={() => setShow(false)}>\r\n          Close\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Customiser;\r\n"],"names":["_ref","className","selected","children","rest","rootClassName","cn","styles","_jsx","usePortalRef","id","loaded","setLoaded","useState","portalRef","useRef","useEffect","current","document","getElementById","cancelPartChange","useCustomiserStore","state","resetNav","ReactDOM","_jsxs","Button","onClick","colour","FittingOption","_selectedModels$find","_option$models","option","selectedModels","setSelectedModel","getSelected","find","m","optionId","model","_Fragment","motion","div","initial","opacity","animate","exit","name","models","map","_m$model","_m$model$data","_m$model3","_m$model3$data","_m$model3$data$attrib","OptionButton","data","_m$model2","attributes","NavFitting","fittingOptions","_state$customProduct","_state$customProduct$","customProduct","options","o","NavButtons","getSrcSets","formats","fff","Object","entries","f","width","url","filter","format","length","sort","a","b","reduce","acc","index","array","concat","getSrcSet","_image$attributes4","image","sizes","relativeHeight","useMemo","_image$attributes","_image$attributes2","height","style","srcSet","_image$attributes3","src","NavFlagsSelect","editFlag","flags","addFlag","updateFlag","_f$attributes","flag","flagSelected","key","edit","Image","_prices$length","scale","rotation","prices","onScale","onRotate","rootRotateClassName","root","root__rotate","rootSizeClassName","root__scale","step","marks","range","start","stop","Array","from","value","formattedPrices","p","i","markKey","Number","toFixed","createPortal","ReactSlider","rotate","thumbClassName","thumb","trackClassName","track","markClassName","mark","min","max","defaultValue","onChange","renderMark","props","orientation","invert","price","disabled","onApply","onEdit","onDelete","xmlns","viewBox","d","NavFlagsFlag","_flag$flag","_flag$flag$attributes","setShowSelector","setSelectModel","deleteFlag","flagItem","flagItemImage","NavOptionEdit","editItem","deleteItem","NavFlags","g","showSelector","flagQuery","useGetFlagsQuery","graphQLClient","pagination","limit","select","_data$flags","_data$graphicPrices","graphicPrices","NavDecalAdjust","decalScale","decalRotation","setScale","event","_price$attributes","_price$attributes2","priceValues","size","basePrice","quantity","startTransition","NavEditButtons","applyFlag","decalFreeze","customiserFlags","title","shouldShow","setShouldShow","alt","toggle","isOpen","isMinimized","selectedNav","minimizeIconClassname","InfoButton","NavImagesImage","_graphic$graphic","_graphic$graphic$attr","_graphic$graphic$attr2","graphic","updateGraphic","deleteGraphic","graphicItem","graphicItemImage","NavImagesUpload","setGraphic","saving","setSaving","mutate","createGraphicMutation","useCreateGraphicMutation","onSuccess","_data$createGraphic","createGraphic","fileUploadMutate","useUploadMultipleFilesMutation","fileIDs","multipleUpload","_f$data","customer","onDrop","useCallback","acceptedFiles","files","getRootProps","getInputProps","isDragActive","useDropzone","accept","maxFiles","multiple","dropZone","NavImagesSelect","_currentGraphic$attri","_currentGraphic$attri2","editGraphic","currentGraphic","setCurrentGraphic","addGraphic","graphics","undefined","graphicSelected","NavImages","imageQuery","useGetImagesQuery","applyImage","addImage","navItems","sizingVariation","_state$sizing","sizing","variation","parts","savedParts","texts","setSelectedNav","isSelected","item","type","part","handleClick","required","color","pillButton","pillButtonSelected","uniqueMaterialTypes","uniqBy","initialState","colourGroups","materialTypes","materials","createMaterialGroup","set","get","filteredMaterials","colourGroup","selectedColourGroup","_m$attributes","_m$attributes$colourG","resetMaterialGroup","setMaterials","materialType","produce","flatMap","_d$attributes","_d$attributes$colourG","_m$attributes2","_m$attributes2$colour","_state$selectedColour","_m$attributes3","_m$attributes3$type","selectedMaterialType","uniqueMaterials","setColourGroup","_m$attributes4","_m$attributes4$colour","_state$selectedColour2","_m$attributes5","_m$attributes5$type","setMaterialType","Provider","useStore","useMaterialGroupStore","createContext","createStore","create","devtools","Material","_material$attributes","_material$attributes$","_material$attributes2","_mapImage$image","_mapImage$image$data","_mapImage$image$data$","material","onMaterialSelected","mapImage","images","mapType","MaterialType","hideColorGroups","getFilteredMaterials","mt","_mt$attributes","materialType__title","_m$attributes$type","_m$attributes$type$da","SelectedMaterialInfo","_selectedMaterial$att","_selectedMaterial$att2","_selectedMaterial$att3","_selectedMaterial$att4","_selectedMaterial$att5","selectedPart","selectedMaterial","_parts$find","MaterialGroupLoader","_materialGroup$attrib","materialGroup","typeIds","t","useGetMaterialsQuery","filters","in","pageSize","_data$materials","group","_group$attributes$col","_group$attributes","_group$attributes$col2","_group$attributes2","strokeWidth","stroke","fill","_part$materialGroup","_currentPart$material","_currentPart$material2","_currentPart$material3","_currentPart$material4","setPart","removePart","currentPart","showOptional","setShowOptional","optional","PillButton","optionalOnClick","show","Suspense","fallback","MaterialGroup","placeholder","getSizeVariation","unit","weight","variations","v","_v$sku","sku","endsWith","setSizing","_state$sizing2","_state$sizing3","setHeightUnit","setWeightUnit","FormInput","e","target","unitToggle","toggleButton","toggleButtonSelected","UNIT","HEIGHT","CM","INCH","WEIGHT","KG","LB","FormSelect","selectedVariation","currentStep","onTitleClick","titleClassName","handleTitleClick","maxStep","onNext","onPrevious","priceString","formattedPrice","_selectedName$attribu9","_selectedName$attribu10","_selectedName$attribu11","_selectedName$attribu12","editText","selectedName","crystals","setCrystals","crystalPrice","puff","setPuff","puffPrice","hasPuffOption","NAME_TYPE_LUXURY_ID","updateText","addCrystals","add","_selectedName$attribu","_selectedName$attribu2","_selectedName$attribu3","_selectedName$attribu4","shopifyVariantId","addPuff","_selectedName$attribu5","_selectedName$attribu6","_selectedName$attribu7","_selectedName$attribu8","finishSelections","finishSelection","pricing","Price","_selectedName$attribu14","_selectedName$attribu15","_editText$material","_editText$material$at","_editText$material$at2","_editText$material2","_editText$material2$a","_editText$material2$a2","prevSelectedName","names","useGetNamesQuery","_data$names","_selectedName$attribu13","letterPrice","nameType","outline","outlinePrice","console","log","n","_n$attributes","_n$attributes2","_n$attributes2$basePr","_n$attributes3","_n$attributes3$letter","setSelectedName","_editText$outline","_editText$outline$att","_editText$outline$att2","_editText$outline2","_editText$outline2$at","_editText$outline2$at2","showOutline","setShowOutline","updateOutline","outlineGroup","fonts","arial","oswald","college","ballantines","_fonts$find","text","setText","font","setFont","addText","fontSelection","_font","onFontChange","deleteText","textItem","textItemText","onAddTextClicked","onTextSelected","navTextsSelection","titleText","NavTextText","getMaterialUrl","_material$attributes$2","_material$attributes$3","_material$attributes$4","imgMap","large","normalMapGenerator","NormalMapGenerator","instance","async","imgToNormalMap","img","hasPuff","blur","blurAmount","generateFromImage","strength","level","CanvasText","constructor","_ref2","toNormalMap","patternType","canvas","ctx","outlineCanvas","outlineCtx","normalMapTextureCanvas","normalMapTextureCtx","normalMapCanvas","normalMapCtx","normalMapOutlineTextureCanvas","normalMapOutlineTextureCtx","normalMapOutlineCanvas","normalMapOutlineCtx2","emissiveMapCanvas","emissiveMapCtx","canvasHeight","canvasWidth","fontSize","outlineWidth","this","createElement","getContext","clear","_this$ctx","_this$outlineCtx","clearRect","drawImg","drawImage","showTestCanvas","innerHTML","maskImage","globalCompositeOperation","drawPreviewText","textAlign","fillText","drawPreviewOutlineText","lineWidth","strokeText","drawPreviewOutlineOnlyText","fillStyle","drawNormalMap","normalMapPatternImg","pattern","createPattern","rect","normalMap","drawOutlineNormalMap","printTextMapToStrokeMap","previewText","_ref3","previewImg","emissiveMap","toDataURL","mergeCanvas","getOutlineCanvas","getNormalMapTextureCanvas","getNormalMapOutlineCanvas","getEmissiveMapCanvas","loadImage","Promise","resolve","reject","crossOrigin","onload","onerror","_editText$selectedNam","previewImgRef","fontFamily","setFontFamily","isVisiblePreview","setIsVisiblePreview","hasCrystals","isLuxury","getPatternType","materialImgMemo","outlineImgMemo","fabricPatternImgMemo","crystalNormalMapImgMemo","crystalEmissiveMapImgMemo","previewImgDom","canvasText","preview","CanvasTexture","fontUrl","FontFace","load","loadFonts","outlineImg","embroideryPattern","crystalNormalMap","crystalEmissiveMap","patternImg","position","zIndex","textPreview","textPreview__imgContainer","ref","el","noText","NavText","setStep","_step","navTextEdit","NavTextPreview","Accordion","NavTextSelect","NavTextNameTypes","NavTextFinish","NavTextOutline","NavStepButtons","handleNext","handlePrevious","applyText","NavTextsSelection","setIsOpen","setIsMinimized","isFullscreen","open","minimized","hasActions","toggleOpen","nav","layout","transition","stiffness","damping","NavHeader","header","headerAfter","AnimatePresence","content","variants","collapsed","NavOptions","NavSize","NavPart","actions","total","designComplete","setResetCamera","useDesignStore","addingToCart","saveDesign","CustomiserCanvas","lazy","setShow","CustomiserNav","Header","clipPath","fillRule"],"sourceRoot":""}